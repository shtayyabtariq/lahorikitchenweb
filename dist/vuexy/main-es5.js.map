{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///src/@core/animations/core.animation.ts","webpack:///src/@core/common.module.ts","webpack:///src/@core/components/card-snippet/card-snippet.component.html","webpack:///src/@core/components/card-snippet/card-snippet.component.ts","webpack:///src/@core/components/card-snippet/card-snippet.module.ts","webpack:///src/@core/components/core-menu/core-menu.component.html","webpack:///src/@core/components/core-menu/core-menu.component.ts","webpack:///src/@core/components/core-menu/core-menu.module.ts","webpack:///src/@core/components/core-menu/core-menu.service.ts","webpack:///src/@core/components/core-menu/horizontal/collapsible/collapsible.component.html","webpack:///src/@core/components/core-menu/horizontal/collapsible/collapsible.component.ts","webpack:///src/@core/components/core-menu/horizontal/item/item.component.html","webpack:///src/@core/components/core-menu/horizontal/item/item.component.ts","webpack:///src/@core/components/core-menu/vertical/collapsible/collapsible.component.html","webpack:///src/@core/components/core-menu/vertical/collapsible/collapsible.component.ts","webpack:///src/@core/components/core-menu/vertical/item/item.component.html","webpack:///src/@core/components/core-menu/vertical/item/item.component.ts","webpack:///src/@core/components/core-menu/vertical/section/section.component.html","webpack:///src/@core/components/core-menu/vertical/section/section.component.ts","webpack:///src/@core/components/core-sidebar/core-sidebar.component.ts","webpack:///src/@core/components/core-sidebar/core-sidebar.component.html","webpack:///src/@core/components/core-sidebar/core-sidebar.module.ts","webpack:///src/@core/components/core-sidebar/core-sidebar.service.ts","webpack:///src/@core/components/core-touchspin/core-touchspin.component.html","webpack:///src/@core/components/core-touchspin/core-touchspin.component.ts","webpack:///src/@core/components/core-touchspin/core-touchspin.module.ts","webpack:///src/@core/components/index.ts","webpack:///src/@core/components/theme-customizer/theme-customizer.component.html","webpack:///src/@core/components/theme-customizer/theme-customizer.component.ts","webpack:///src/@core/components/theme-customizer/theme-customizer.module.ts","webpack:///src/@core/core.module.ts","webpack:///src/@core/directives/core-feather-icons/core-feather-icons.ts","webpack:///src/@core/directives/core-ripple-effect/core-ripple-effect.directive.ts","webpack:///src/@core/directives/directives.ts","webpack:///src/@core/pipes/filter.pipe.ts","webpack:///src/@core/pipes/initials.pipe.ts","webpack:///src/@core/pipes/pipes.module.ts","webpack:///src/@core/pipes/safe.pipe.ts","webpack:///src/@core/pipes/stripHtml.pipe.ts","webpack:///src/@core/services/config.service.ts","webpack:///src/@core/services/loading-screen.service.ts","webpack:///src/@core/services/media.service.ts","webpack:///src/@core/services/translation.service.ts","webpack:///src/app/app-config.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/auth/helpers/apputils.service.ts","webpack:///src/app/auth/helpers/auth.guards.ts","webpack:///src/app/auth/helpers/currency.pipe.ts","webpack:///src/app/auth/helpers/error.interceptor.ts","webpack:///src/app/auth/helpers/homerouteguard.ts","webpack:///src/app/auth/helpers/index.ts","webpack:///src/app/auth/helpers/jwt.interceptor.ts","webpack:///src/app/auth/helpers/router-helper.ts","webpack:///src/app/auth/helpers/status.pipe.ts","webpack:///src/app/auth/models/daterangepickerdto.ts","webpack:///src/app/auth/models/plandto.ts","webpack:///src/app/auth/roleguards/adminguard.ts","webpack:///src/app/auth/roleguards/manageremployeeguard.ts","webpack:///src/app/auth/service/authentication.service.ts","webpack:///src/app/auth/service/authservice.ts","webpack:///src/app/auth/service/firebasestoreservice.ts","webpack:///src/app/auth/service/firefunctionsservice.ts","webpack:///src/app/auth/service/notification.service.ts","webpack:///src/app/auth/service/toasts.service.ts","webpack:///src/app/auth/service/user.service.ts","webpack:///src/app/layout/components/content-header/breadcrumb/breadcrumb.component.html","webpack:///src/app/layout/components/content-header/breadcrumb/breadcrumb.component.ts","webpack:///src/app/layout/components/content-header/breadcrumb/breadcrumb.module.ts","webpack:///src/app/layout/components/content-header/content-header.component.html","webpack:///src/app/layout/components/content-header/content-header.component.ts","webpack:///src/app/layout/components/content-header/content-header.module.ts","webpack:///src/app/layout/components/content/content.component.ts","webpack:///src/app/layout/components/content/content.component.html","webpack:///src/app/layout/components/content/content.module.ts","webpack:///src/app/layout/components/footer/footer.component.ts","webpack:///src/app/layout/components/footer/footer.component.html","webpack:///src/app/layout/components/footer/footer.module.ts","webpack:///src/app/layout/components/footer/scroll-to-top/scroll-top.component.ts","webpack:///src/app/layout/components/footer/scroll-to-top/scroll-top.component.html","webpack:///src/app/layout/components/menu/horizontal-menu/horizontal-menu.component.ts","webpack:///src/app/layout/components/menu/horizontal-menu/horizontal-menu.component.html","webpack:///src/app/layout/components/menu/horizontal-menu/horizontal-menu.module.ts","webpack:///src/app/layout/components/menu/menu.component.html","webpack:///src/app/layout/components/menu/menu.component.ts","webpack:///src/app/layout/components/menu/menu.module.ts","webpack:///src/app/layout/components/menu/vertical-menu/vertical-menu.component.ts","webpack:///src/app/layout/components/menu/vertical-menu/vertical-menu.component.html","webpack:///src/app/layout/components/menu/vertical-menu/vertical-menu.module.ts","webpack:///src/app/layout/components/navbar/navbar-bookmark/navbar-bookmark.component.html","webpack:///src/app/layout/components/navbar/navbar-bookmark/navbar-bookmark.component.ts","webpack:///src/app/layout/components/navbar/navbar-notification/navbar-notification.component.html","webpack:///src/app/layout/components/navbar/navbar-notification/navbar-notification.component.ts","webpack:///src/app/layout/components/navbar/navbar-notification/notifications.service.ts","webpack:///src/app/layout/components/navbar/navbar-search/navbar-search.component.html","webpack:///src/app/layout/components/navbar/navbar-search/navbar-search.component.ts","webpack:///src/app/layout/components/navbar/navbar-search/search.service.ts","webpack:///src/app/layout/components/navbar/navbar.component.html","webpack:///src/app/layout/components/navbar/navbar.component.ts","webpack:///src/app/layout/components/navbar/navbar.module.ts","webpack:///src/app/layout/custom-breakpoints.ts","webpack:///src/app/layout/horizontal/horizontal-layout.component.html","webpack:///src/app/layout/horizontal/horizontal-layout.component.ts","webpack:///src/app/layout/horizontal/horizontal-layout.module.ts","webpack:///src/app/layout/layout.module.ts","webpack:///src/app/layout/vertical/vertical-layout.component.html","webpack:///src/app/layout/vertical/vertical-layout.component.ts","webpack:///src/app/layout/vertical/vertical-layout.module.ts","webpack:///src/app/main/InventoryManagement/InventoryManagement.component.html","webpack:///src/app/main/InventoryManagement/InventoryManagement.component.ts","webpack:///src/app/main/InventoryManagement/ViewInvoices/ViewInvoices.component.html","webpack:///src/app/main/InventoryManagement/ViewInvoices/ViewInvoices.component.ts","webpack:///src/app/main/InventoryManagement/advanceinventorysearch/advanceinventorysearch.component.html","webpack:///src/app/main/InventoryManagement/advanceinventorysearch/advanceinventorysearch.component.ts","webpack:///src/app/main/InventoryManagement/createapartment/apartment/apartment.component.html","webpack:///src/app/main/InventoryManagement/createapartment/apartment/apartment.component.ts","webpack:///src/app/main/InventoryManagement/creditadjustments/creditadjustments.component.html","webpack:///src/app/main/InventoryManagement/creditadjustments/creditadjustments.component.ts","webpack:///src/app/main/InventoryManagement/invoicedetail/invoicedetail.component.html","webpack:///src/app/main/InventoryManagement/invoicedetail/invoicedetail.component.ts","webpack:///src/app/main/InventoryManagement/invoicedetail/invoicepreview/invoicepreview.component.html","webpack:///src/app/main/InventoryManagement/invoicedetail/invoicepreview/invoicepreview.component.ts","webpack:///src/app/main/InventoryManagement/invoicedetail/send-invoice-sidebar/send-invoice-sidebar.component.ts","webpack:///src/app/main/InventoryManagement/invoicedetail/send-invoice-sidebar/send-invoice-sidebar.component.html","webpack:///src/app/main/InventoryManagement/invoicemanagement.ts","webpack:///src/app/main/InventoryManagement/plan-generator/plan-generator.component.html","webpack:///src/app/main/InventoryManagement/plan-generator/plan-generator.component.ts","webpack:///src/app/main/InventoryManagement/saledetail/saledetail.component.html","webpack:///src/app/main/InventoryManagement/saledetail/saledetail.component.ts","webpack:///src/app/main/InventoryManagement/salesplan/salesplan.component.html","webpack:///src/app/main/InventoryManagement/salesplan/salesplan.component.ts","webpack:///src/app/main/InventoryManagement/transactiongenerator/transactiongenerator.component.html","webpack:///src/app/main/InventoryManagement/transactiongenerator/transactiongenerator.component.ts","webpack:///src/app/main/InventoryManagement/view-plan/view-plan.component.html","webpack:///src/app/main/InventoryManagement/view-plan/view-plan.component.ts","webpack:///src/app/main/InventoryManagement/viewinventorymodal/viewinventorymodal.component.html","webpack:///src/app/main/InventoryManagement/viewinventorymodal/viewinventorymodal.component.ts","webpack:///src/app/main/InventoryManagement/viewsales/viewsales.component.html","webpack:///src/app/main/InventoryManagement/viewsales/viewsales.component.ts","webpack:///src/app/main/InventoryManagement/viewtransactions/viewtransactions.component.html","webpack:///src/app/main/InventoryManagement/viewtransactions/viewtransactions.component.ts","webpack:///src/app/main/customers/customers.component.html","webpack:///src/app/main/customers/customers.component.ts","webpack:///src/app/main/filteroptionselect/filteroptionselect.component.html","webpack:///src/app/main/filteroptionselect/filteroptionselect.component.ts","webpack:///src/app/main/generalconfirmationdialog/generalconfirmationdialog.component.ts","webpack:///src/app/main/generalconfirmationdialog/generalconfirmationdialog.component.html","webpack:///src/app/main/progressdialog/progressdialog.component.ts","webpack:///src/app/main/progressdialog/progressdialog.component.html","webpack:///src/app/main/reports/agingreport/agingreport.component.html","webpack:///src/app/main/reports/agingreport/agingreport.component.ts","webpack:///src/app/main/reports/apartmentreport/apartmentreport.component.html","webpack:///src/app/main/reports/apartmentreport/apartmentreport.component.ts","webpack:///src/app/main/reports/bankbalancereport/bankbalancereport.component.html","webpack:///src/app/main/reports/bankbalancereport/bankbalancereport.component.ts","webpack:///src/app/main/reports/choosereports/choosereports.component.ts","webpack:///src/app/main/reports/choosereports/choosereports.component.html","webpack:///src/app/main/reports/customerreports/customerreports.component.html","webpack:///src/app/main/reports/customerreports/customerreports.component.ts","webpack:///src/app/main/reports/inventoryreport/inventoryreport.component.html","webpack:///src/app/main/reports/inventoryreport/inventoryreport.component.ts","webpack:///src/app/main/reports/invoicereport/invoicereport.component.html","webpack:///src/app/main/reports/invoicereport/invoicereport.component.ts","webpack:///src/app/main/reports/reportgenerator.ts","webpack:///src/app/main/reports/trialbalancereport/trialbalancereport.component.html","webpack:///src/app/main/reports/trialbalancereport/trialbalancereport.component.ts","webpack:///src/app/main/sample/home.component.html","webpack:///src/app/main/sample/home.component.ts","webpack:///src/app/main/settings/settings.component.html","webpack:///src/app/main/settings/settings.component.ts","webpack:///src/app/main/usermanagement/changepassword/changepassword.component.ts","webpack:///src/app/main/usermanagement/changepassword/changepassword.component.html","webpack:///src/app/main/usermanagement/createuser/createuser.component.html","webpack:///src/app/main/usermanagement/createuser/createuser.component.ts","webpack:///src/app/main/usermanagement/viewusers/viewusers.component.html","webpack:///src/app/main/usermanagement/viewusers/viewusers.component.ts","webpack:///src/app/menu/i18n/de.ts","webpack:///src/app/menu/i18n/en.ts","webpack:///src/app/menu/i18n/fr.ts","webpack:///src/app/menu/i18n/pt.ts","webpack:///src/app/menu/menu.ts","webpack:///src/app/modules/datatables.module.ts","webpack:///src/app/modules/datatables.service.ts","webpack:///src/environments/environment.ts","webpack:///src/hmr.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","fadeInLeft","trigger","transition","query","style","position","left","width","paddingRight","paddingLeft","opacity","optional","transform","group","animate","animateChild","zoomIn","fadeIn","CoreCommonModule","CommonModule","FlexLayoutModule","FormsModule","ReactiveFormsModule","CoreDirectivesModule","CorePipesModule","CoreCardSnippetComponent","copyCodeStatus","_defaultSnippetCode","isCollapsed","selectBox","document","createElement","value","body","appendChild","focus","select","execCommand","removeChild","setTimeout","snippetCode","CardSnippetModule","provide","HIGHLIGHT_OPTIONS","useValue","fullLibraryLoader","NgbModule","HighlightModule","CoreMenuComponent","_changeDetectorRef","_coreMenuService","layout","_unsubscribeAll","Subject","menu","getCurrentMenu","onMenuChanged","pipe","takeUntil","subscribe","currentUser","markForCheck","CoreMenuVerticalSectionComponent","CoreMenuVerticalItemComponent","CoreMenuVerticalCollapsibleComponent","CoreMenuModule","RouterModule","TranslateModule","CoreMenuHorizontalItemComponent","CoreMenuHorizontalCollapsibleComponent","CoreMenuService","_router","_authenticationService","_registry","onItemCollapsed","onItemCollapseToggled","_currentMenuKey","_onMenuRegistered","BehaviorSubject","_onMenuUnregistered","_onMenuChanged","asObservable","key","console","error","next","warn","getMenu","el","_coreConfigService","isShow","isActive","config","coreConfig","events","filter","event","NavigationEnd","confirmUrlInChildren","item","urlAfterRedirects","url","complete","setSubMenuProp","nativeElement","nativeElementChildren","children","classList","contains","innerHeight","window","dropdownTop","getBoundingClientRect","top","dropdownLeft","dropdownHeight","scrollHeight","dropdownWidth","scrollWidth","maxHeight","setAttribute","innerWidth","parentElement","add","parent","child","includes","isOpen","expand","collapse","clickedItem","confirmItemInChildren","preventDefault","indexOf","CoreSidebarComponent","_renderer","_elementRef","_coreMediaService","_coreSidebarService","_animationBuilder","_mediaObserver","_overlay","isOpened","overlayVisibility","hideOnEsc","rootElement","querySelectorAll","collapsedChangedEvent","EventEmitter","openedChangedEvent","_collapsed","close","remove","emit","collapsed","_coreConfig","type","menuClass","setSidebarRegistry","name","_setupCollapsibleSidebar","_defaultCollapsed","removeSidebarRegistry","collapsibleSidebar","_wasCollapsible","_wasCollapsed","onMediaUpdate","isCollapsible","iscollapsibleSidebar","expanded","_hideOverlay","_hideSidebar","overlayClass","_animationPlayer","build","create","play","addEventListener","onDone","parentNode","addClass","removeClass","expandTemporarily","collapseTemporarily","_showSidebar","_showOverlay","open","DOCUMENT","CoreSidebarModule","CoreSidebarService","sidebar","CoreTouchspinComponent","numberValue","iconChevron","disabledValue","size","color","maxValue","minValue","onChange","disabledValueIncrement","disabledValueDecrement","inputValue","emitChange","stepValue","undefined","decrement","inputChange","increment","CoreTouchspinModule","CoreThemeCustomizerComponent","_formBuilder","form","app","appName","FormControl","appTitle","appLogoImage","appLanguage","skin","animation","hidden","navbar","background","customBackgroundColor","backgroundColor","footer","enableLocalStorage","customizer","scrollTop","buyNow","setValue","emitEvent","get","valueChanges","_resetFormValues","navbarColor","patchValue","navbarColorValue","getSidebarRegistry","toggleOpen","toggleSidebar","DEFAULT_PERFECT_SCROLLBAR_CONFIG","suppressScrollX","wheelPropagation","CoreThemeCustomizerModule","PERFECT_SCROLLBAR_CONFIG","PerfectScrollbarModule","CoreModule","parentModule","ngModule","providers","CORE_CUSTOM_CONFIG","FeatherIconDirective","_changeDetector","changes","_nativeElement","currentValue","svg","toSvg","height","inner","innerHTML","outerHTML","ElementRef","ChangeDetectorRef","RippleEffectDirective","className","split","some","c","test","FilterPipe","items","searchText","toLowerCase","it","InitialsPipe","fullName","map","n","join","StripHtmlPipe","SafePipe","_sanitizer","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","bypassSecurityTrustResourceUrl","replace","InjectionToken","CoreConfigService","_config","localConfig","JSON","parse","localStorage","getItem","removeItem","_defaultConfig","_initConfig","_configSubject","data","getValue","setItem","stringify","ResolveEnd","localDefault","param","CoreLoadingScreenService","_document","_init","loadingScreenEl","querySelector","take","hide","animationPlayer","zIndex","CoreMediaService","currentMediaQuery","media$","debounceTime","distinctUntilChanged","change","mqAlias","CoreTranslationService","_translateService","args","locales","forEach","locale","setTranslation","lang","AppComponent","_title","_coreLoadingScreenService","_coreTranslationService","authservice","ApputilsService","role","getRole","AdminRole","adminmenu","ManagerRole","ownermenu","EmployeeRole","generalmenu","register","setCurrentMenu","addLangs","setDefaultLang","translate","use","getElementsByClassName","removeAttribute","setTitle","appRoutes","path","redirectTo","loadChildren","m","PagesModule","canActivate","AuthGuard","DatatablesModule","AppModule","DEFAULT_CURRENCY_CODE","BrowserModule","BrowserAnimationsModule","HttpClientModule","Ng2FlatpickrModule","AngularFireModule","environment","AngularFireStorageModule","AngularFireFunctionsModule","scrollPositionRestoration","relativeLinkResolution","ToastrModule","SweetAlert2Module","LayoutModule","ApartmentComponent","All","ThisMonth","ThisYear","ThisMonthDue","OverDue","ThisMonthUpComing","Due","Paid","ThisMonthPaid","none","text","months","monthtly","quaterly","biannually","anually","Roles","AppName","Apartment4BedDuplex","Apartment5BedDuplex","Penthouse","TransactionSuccessfull","TransactionInvalid","PaymentMethod","Currency","ReportThisMonth","ReportThisYear","ReportCustom","ReportAll","ReportingTime","Years","TransactionStatus","InstallmentPlan","ApartmentType","Aging30","Aging60","Aging90","AgingFilters","CustomerAgingReport","CustomerLedgerReport","CustomerOutStandingInvoices","CustomerOverDueInvoices","CustomerOpenBalanceReports","CustomerAccountReceivableReports","CustomerReports","Type","PossesionStatus","Status","HoldStatus","BookedStatus","OpenStatus","AppVersion","Company","dt","month","setMonth","getMonth","grossarea","rate","discount","price","startdate","Date","setDate","getDate","d30","drp","enddate","daterangepickerdto","date","option","getFullYear","list","getKey","Map","collection","set","push","Array","from","values","amount","percent","Math","round","WebSiteName","InvoiceType","Posession","Agreement","Installment","Confirmation","Booking","SaleStatus","InProgress","Completed","Closed","InvoiceStatus","UnPaid","Pending","FilterStatus","auth","route","state","authState","first","toPromise","navigate","queryParams","returnUrl","CurrencyPipe","currencyCode","display","digitsInfo","formatCurrency","getCurrencySymbol","CurrencyConvertPipe","NumberToWordsPipe","isInteger","numToWords","x","arr","num","Number","str","String","isEmpty","xs","length","slice","drop","reverse","comp","f","g","not","chunk","a","b","makeGroup","ones","tens","huns","thousand","i","ErrorInterceptor","request","handle","catchError","err","status","message","statusText","throwError","HomeRouteAuthGuard","currentUserValue","authstate","uid","navigateByUrl","RouterHelper","snapshot","paramMap","StatusPipe","customersalesDto","AginReportDto","CustomersLedgerDto","InvoicesDetailDto","TrialBalanceReportDto","AdminRouteAuthGuard","ManagerEmployeeRouteAuthGuard","AuthenticationService","_http","_toastrService","currentUserSubject","email","password","signInWithEmailAndPassword","resp","user","success","toastClass","closeButton","signOut","AuthService","fs","getUserById","createUserWithEmailAndPassword","sendPasswordResetEmail","oldpassword","newpassword","credential","reauthenticateWithCredential","response","updatePassword","newresponse","firebaseStoreService","appUtils","apartments","apartmenttypesCollection","planCollection","salesCollection","customersCollection","planinvoicesCollection","metadataCollection","transactionsCollection","creditCollection","usersCollection","val","res","where","doc","update","apartmentid","customer","ref","usr","currentdate","lastdate","invoices","invoicelist","bank","orderBy","collectionGroup","d","log","GetUpComingInvoices","getCustomerSales","customerplans","docs","planid","due","dueinvoices","tid","sale","batch","firestore","planscehdule","pl","commit","tr","invoiceid","getinvoicebyid","invoice","runTransaction","editable","updateTr","creditamounts","t","getvalidtransactions","transc","totalSum","updateInvoiceTransaction","invoicedetail","amountLeft","amountpaid","amountleft","invoicepaid","invoicepaidon","getServerTimestamp","updateinvoice","fetchtype","apartmenttypes","PlanDto","updatedat","Apartmentdto","docid","isarchive","apartment","apt","opt","firefunctionsservice","af","createUsr","httpsCallable","NotificationService","toastr","title","info","warning","ToastService","toasts","textOrTpl","options","toast","UserService","BreadcrumbComponent","breadcrumb","BreadcrumbModule","ContentHeaderComponent","ContentHeaderModule","ContentComponent","outlet","activatedRouteData","ContentModule","FooterComponent","year","FooterModule","ScrollTopComponent","topOffset","pageYOffset","documentElement","windowScrolled","smoothscroll","currentScroll","requestAnimationFrame","scrollTo","scrollToTop","HorizontalMenuComponent","HorizontalMenuModule","MenuComponent","_menuType","menuType","MenuModule","VerticalMenuModule","VerticalMenuComponent","isScrolled","directiveRef","scrollToElement","y","getConfig","setConfig","PerfectScrollbarDirective","toggleSidebarCollapsible","onSidebarScroll","$event","stopPropagation","NavbarBookmarkComponent","_searchService","bookmarkText","openBookmarkRef","activeIndex","pages","removeOverlay","target","nodeName","index","findIndex","object","isBookmarked","bookmarkedItems","splice","onIsBookmarkOpenChange","bookmarkSearchLimit","keyCode","prevActiveMatch","nextActiveMatch","removeBookmark","addBookmark","openBookmark","closeBookmark","_bookmarkElement","autoSuggestion","onApiDataChange","apiData","page","bookmarkLimit","toggleBookmarkPopup","bookmarkUpdate","NavbarNotificationComponent","_notificationsService","notifications","NotificationsService","_httpClient","getNotificationsData","reject","NavbarSearchComponent","router","openSearchRef","files","contacts","pageSearchLimit","current_item","_pageListElement","click","_inputElement","searchLimit","toggleSearch","searchUpdate","SearchService","search","getSearchData","NavbarComponent","isFixed","languageOptions","en","flag","fr","de","pt","language","selectedLanguage","currentSkin","prevSkin","logout","horizontalMenu","hiddenMenu","isFixedTop","currentLang","toggleDarkSkin","NavbarModule","BS_BREAKPOINTS","alias","overlapping","mediaQuery","suffix","CustomBreakPointsProvider","BREAKPOINT","multi","HorizontalLayoutComponent","HorizontalLayoutModule","disableDefaultBps","VerticalLayoutModule","VerticalLayoutComponent","InventoryManagementComponent","modal","nts","_datatablesService","appUtil","ColumnMode","archive","filters","tempData","exportCSVData","apttypes","fetchApartment","checked","getApartments","row","dialogRef","backdrop","componentInstance","closed","mod","GeneralconfirmationdialogComponent","centered","gcd","confirmbuttontext","cancelbuttontext","dto","ct","icon","showCancelButton","confirmButtonText","archiveapartment","showSuccess","show","trim","count","table","bodyComponent","_columns","Object","toString","offset","AdvanceinventorysearchComponent","searchapartment","showsearch","searchdto","budget","totalprice","apartmenttype","floorno","DatatableComponent","filterUpdate","advancesearch","viewArchive","ViewInvoicesComponent","routerser","tempinvoice","sales","customerinvoices","getSales","getallinvoices","invoicedueon","seconds","idd","s","customername","getMonthRange","getYearRange","sort","filterselect","AppUtilApiService","modalservice","formBuilder","isSubmit","showType","start","getapartmenttypes","showTypes","Validators","valid","pDialog","ProgressdialogComponent","windowClass","aptype","controls","netarea","notes","updatedby","createdat","createdby","getTotalPrice","number","Intl","NumberFormat","minimumIntegerDigits","format","aptyp","fn","parseInt","tp","nameformat","updateapartments","addapartments","CreditadjustmentsComponent","FormBuilder","customerSales","transacitons","istransactionsfetched","getalltransactions","totalamount","Transaction","ngSelectComponent","handleClearClick","selectedSale","selectedapartment","customerid","getCustomerbyId","getCustomerCredits","creditamount","fetchinvoicesofsale","saleinfo","getSaleInvoices","f1","f2","installmentno","Invoicedto","apartmentname","fathername","invoicename","iban","paymentmethod","transactionid","transactiondate","addtransaction","toggletransactionupdate","deleteCustomerCredit","invoiceselect","onSubmit","InvoicedetailComponent","showinvoice","previousamount","invoiceDate","dueDate","invoicedescription","customDesc","InvoiceDateDto","defaultDate","altInput","DueDateDto","getinvoice","getmetadata","metadata","getSalebyId","getapartmentbyid","syncustomer","cust","getAllCustomerCredits","credits","banksdto","screen","getElementById","pdfTable","scrollY","canvas","pdf","imgData","toDataURL","internal","pageSize","getWidth","getHeight","addImage","save","dss","InvoicepreviewComponent","showReportBasic","transactions","gettransactions","TransactiongeneratorComponent","toggletransaction","AddTransaction","SendInvoiceSidebarComponent","InvoiceManagement","invoiceType","dueon","currentime","orderno","inv","approvedby","approvalpicture","updateat","PlanGeneratorComponent","isupdate","cr","viewform","PlanSchedule","apartmentlist","PlanInfo","client","contact","plan","installment","installmentamount","agreement","agreementamount","possessionamount","possession","confirmation","confirmationamount","booking","bookingamount","plancreation","apartmentrate","apartmenttotalprice","apartmentarea","perinstallmentamount","installmentSelected","installments","crate","currency","getSALEapartments","planId","queryParamMap","getPlanById","aptId","jsPDF","totalPrice","confirmationPrice","getPercentPrice","possessionPrice","agreementPrice","bookingPrice","noInstallments","installmentAmount","totalInstallments","perInstallmentAmount","incrementer","currentPlanTime","installmentNo","getDateAfterthreeMonths","getDateAfterMonths","ps","print","updatePlanById","savePlan","htmltoPDF","SaledetailComponent","PlanScheduleDto","installmentinvoice","viewsale","viewcustomer","viewinvoices","getInvoices","agreementinvoice","bookinginvoice","confirmationinvoice","possesioninvoice","onPrint","SalesplanComponent","iscustomerfetch","addNew","isdisabled","customers","bookingDate","BookingDate","newdate","possessionDate","agreementDate","confirmationDate","AgreementDate","syncplanschedule","PossessionDate","ConfirmationDate","accountcode","applicaitonno","cnic","nationality","mailaddress","permanentaddress","officenumber","source","bname","getCustomer","currentCustomer","disabled","emailaddress","phonenumber","office","sourceofincome","businessname","field","disable","enable","modalVC","getSalebyApartment","len","sex","addCustomer","sal","isallpaid","applicationno","totalamountpaid","totalamountleft","customercnic","addSales","changeApartmentStatus","addNewCustomer","showtransactionerror","maxamount","transactionstatus","Name","Iban","method","invoicedate","invoicedto","leftAmount","updatetransaction","creditAmountToCustomer","allpaid","updateSaleStatus","showError","getransactionbytransactionid","ViewPlanComponent","fetch","getPlans","deletePlanById","NgbdSortableHeader","sortable","direction","rotate","column","ViewinventorymodalComponent","content","_elementHandlers","element","renderer","html","headers","header","compare","head","orientation","unit","putOnlyUsedFonts","setFontSize","toDateString","PdfTitle","img","Image","src","startY","generatePdf","onSort","v1","v2","ViewsalesComponent","ViewtransactionsComponent","CustomersComponent","FilteroptionselectComponent","showdaterange","DateRangeOptions","mode","selectedates","range","rangeselect","AgingreportComponent","viewall","allaging","tempallaging","customersales","customertransaction","bankbalancedetail","tempbankbalancedetail","ALLbalancedetail","overdueinvoices","aginginvoices","tempaginginvoices","upcominginvoices","selectedagingfilter","report","filtertext","customerledgers","overduecustomerinvoices","upcomingcustomerinvoices","ir","allagingreport","txtOptions","onviewall","dr","agingfilter","selectedCustomer","generatereports","monthRange","filterCustomerSales","agingreport","r","cst","age","amount30","amount60","amount90","total","amount100","salesdto","getdatefilter","reduce","sum","current","totalage","dd","replacer","csv","fieldName","unshift","csvArray","blob","Blob","ApartmentreportComponent","aptall","collectionSize","refreshApt","pg","country","BankbalancereportComponent","filterreport","filterbanks","banks","bankamount","bb","debit","credit","gettransactionsbybank","getAllRange","firsttime","previousbankamount","previous","tdate","td","bankSelect","ChoosereportsComponent","CustomerreportsComponent","reportName","headStyles","fillColor","toLocaleDateString","generateparticularreport","overdueinvoicesreport","generatecustomerledgers","upcominginvoicesreport","customledgerreport","cld","bankbalances","concat","ledger","overdcustomer","sl","downloadFile","onCustomerSelect","onreportselect","InventoryreportComponent","totaldueinvoices","totalupcominginvoices","totalsoldapartments","totalavailableapartments","totalownerapartments","soldapartments","ownerapartments","unsoldapartments","totalAmountReceived","floorwiseapartments","typewiseapartments","contentHeader","headerTitle","actionButton","links","isLink","link","getapartments","generateApartmentDistributions","generatestats","ap","result","groupBy","openapartments","flw","availablecount","soldcount","soldaparments","availableapartments","keyGetter","GetDueInvoices","getTotalAmountReceivedThisMonth","generateStatsByTransactions","InvoicereportComponent","viewinvoicedetail","viewapartment","invoicetitle","InvoiceReportDto","ApartmentSoldReportDto","ReportGenerator","ird","irddto","saleid","Apartments","Sales","aparinfo","aparinfodto","beddingtype","TrialbalancereportComponent","tbrlist","cs","tbr","HomeComponent","afs","totaloverdueinvoices","beddingtypes","flww","drpp","GetAllUpComingInvoices","getAllTotalAmountReceivedThisMonth","salesinfo","getReportFromInvoices","scrollable","aptt","getReportFromApartments","soldapartmentsreport","SettingsComponent","allowOutsideClick","allowEnterKey","allowEscapeKey","cancelButtonText","isConfirmed","deleteapartmenttype","focusConfirm","preConfirm","formValues","ordernumber","floors","floorcount","addapartmenttypes","AddNew","ChangepasswordComponent","reminderDate","confirmpassword","confirmnewpassword","changepassword","CreateuserComponent","userrole","emailerror","isedit","getusers","updateuser","block","createUser","onRoleSelect","ViewusersComponent","addnewuser","MENU","HOME","SAMPLE","routes","component","pathMatch","DatatablesService","NgxPrintModule","NgxDatatableModule","CsvModule","NgSelectModule","onDatatablessChanged","all","getDataTableRows","entries","rows","production","hmr","apiUrl","firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","hmrBootstrap","bootstrap","hot","accept","dispose","appRef","injector","ApplicationRef","elements","components","location","makeVisible","createNewHosts","destroy","enableProdMode","platformBrowser","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { trigger, transition, style, query, group, animateChild, animate, keyframes } from '@angular/animations';\r\n\r\n// Animation: FadeInLeft\r\nexport const fadeInLeft = trigger('fadeInLeft', [\r\n  transition('* => *', [\r\n    query(\r\n      ':enter, :leave',\r\n      style({ position: 'absolute', left: 0, width: '100%', paddingRight: '2rem', paddingLeft: '2rem', opacity: 0 }),\r\n      {\r\n        optional: true\r\n      }\r\n    ),\r\n    query(':enter', style({ transform: 'translateX(-100%)', opacity: 0 }), { optional: true }),\r\n\r\n    group([\r\n      query(\r\n        ':leave',\r\n        [\r\n          style({ transform: 'translateX(0%)' }),\r\n          animate('600ms ease', style({ opacity: 1, transform: 'translateX(100%)' }))\r\n        ],\r\n        { optional: true }\r\n      ),\r\n      query(':enter', [animate('800ms ease', style({ opacity: 1, transform: 'translateX(0%)' })), animateChild()], {\r\n        optional: true\r\n      })\r\n    ])\r\n  ])\r\n]);\r\n\r\n// Animation: ZoomIn\r\nexport const zoomIn = trigger('zoomIn', [\r\n  transition('* <=> *', [\r\n    query(\r\n      ':enter, :leave',\r\n      [\r\n        style({\r\n          position: 'absolute',\r\n          left: 0,\r\n          width: '100%',\r\n          paddingRight: '2rem',\r\n          paddingLeft: '2rem',\r\n          opacity: 0,\r\n          transform: 'scale(0.5) translateY(-20%)'\r\n        })\r\n      ],\r\n      { optional: true }\r\n    ),\r\n    query(\r\n      ':enter',\r\n      [\r\n        animate(\r\n          '400ms ease',\r\n          style({ opacity: 1, paddingRight: '2rem', paddingLeft: '2rem', transform: 'scale(1) translateY(0)' })\r\n        )\r\n      ],\r\n      {\r\n        optional: true\r\n      }\r\n    )\r\n  ])\r\n]);\r\n\r\n// Animation: FadeIn\r\nexport const fadeIn = trigger('fadeIn', [\r\n  transition('* <=> *', [\r\n    query(\r\n      ':enter, :leave',\r\n      [\r\n        style({\r\n          position: 'absolute',\r\n          left: 0,\r\n          width: '100%',\r\n          paddingRight: '2rem',\r\n          paddingLeft: '2rem',\r\n          opacity: 0\r\n        })\r\n      ],\r\n      { optional: true }\r\n    ),\r\n    query(':enter', [animate('500ms ease', style({ opacity: 1, paddingRight: '2rem', paddingLeft: '2rem' }))], {\r\n      optional: true\r\n    })\r\n  ])\r\n]);\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { CoreDirectivesModule } from '@core/directives/directives';\r\nimport { CorePipesModule } from '@core/pipes/pipes.module';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FlexLayoutModule, FormsModule, ReactiveFormsModule, CoreDirectivesModule, CorePipesModule],\r\n  exports: [CommonModule, FlexLayoutModule, FormsModule, ReactiveFormsModule, CoreDirectivesModule, CorePipesModule]\r\n})\r\nexport class CoreCommonModule {}\r\n","<!-- card snippet component -->\r\n<div class=\"card\">\r\n    <div class=\"card-header\">\r\n        <ng-content select=\".card-title\"></ng-content>\r\n\r\n        <!-- <i\r\n      class=\"code-icon\"\r\n      (click)=\"snippetCode.isCollapsed = !snippetCode.isCollapsed\"\r\n      [attr.aria-expanded]=\"!snippetCode.isCollapsed\"\r\n    ></i> -->\r\n    </div>\r\n\r\n    <!--? content wrapped with .card-body -->\r\n    <ng-content select=\".card-body\"></ng-content>\r\n\r\n    <!--? content without any wrapper -->\r\n    <ng-content></ng-content>\r\n\r\n    <!-- snippet code -->\r\n    <div [ngbCollapse]=\"snippetCode.isCollapsed\">\r\n        <div class=\"card-body pt-0\">\r\n            <!-- nav tabs -->\r\n            <ul ngbNav #nav=\"ngbNav\" [(activeId)]=\"snippetCode.active\" class=\"nav-tabs\">\r\n                <li [ngbNavItem]=\"'html'\" *ngIf=\"snippetCode.html\">\r\n                    <a ngbNavLink>HTML</a>\r\n                    <ng-template ngbNavContent>\r\n                        <div class=\"code-toggle\">\r\n                            <pre>\r\n                  <i class=\"feather icon-copy font-medium-2 cursor-pointer text-white p-1\" *ngIf='!copyCodeStatus' (click)= \"copyCode(snippetCode.html)\"></i>\r\n                  <span class=\"text-white text-copied mr-1 badge badge-secondary\" *ngIf='copyCodeStatus'>copied !</span>\r\n                  <code [highlight]=\"snippetCode.html\" [languages]=\"['html']\">\r\n                  </code>\r\n                </pre>\r\n                        </div>\r\n                    </ng-template>\r\n                </li>\r\n                <li [ngbNavItem]=\"'ts'\" *ngIf=\"snippetCode.ts\">\r\n                    <a ngbNavLink>TS</a>\r\n                    <ng-template ngbNavContent>\r\n                        <div class=\"code-toggle\">\r\n                            <pre>\r\n                  <i class=\"feather icon-copy font-medium-2 cursor-pointer text-white float-right p-1\" *ngIf='!copyCodeStatus' (click)= \"copyCode(snippetCode.ts)\"></i>\r\n                  <span class=\"text-white float-right mr-1 badge badge-secondary\" *ngIf='copyCodeStatus'>copied !</span>\r\n                  <code [highlight]=\"snippetCode.ts\"  [languages]=\"['typescript']\">\r\n                  </code>\r\n                </pre>\r\n                        </div>\r\n                    </ng-template>\r\n                </li>\r\n                <li [ngbNavItem]=\"'scss'\" *ngIf=\"snippetCode.scss\">\r\n                    <a ngbNavLink>SCSS</a>\r\n                    <ng-template ngbNavContent>\r\n                        <div class=\"code-toggle\">\r\n                            <pre>\r\n                  <i class=\"feather icon-copy font-medium-2 cursor-pointer text-white float-right p-1\" *ngIf='!copyCodeStatus' (click)= \"copyCode(snippetCode.scss)\"></i>\r\n                  <span class=\"text-white float-right mr-1 badge badge-secondary\" *ngIf='copyCodeStatus'>copied !</span>\r\n                  <code [highlight]=\"snippetCode.scss\"  [languages]=\"['scss']\">\r\n                  </code>\r\n                </pre>\r\n                        </div>\r\n                    </ng-template>\r\n                </li>\r\n                <li [ngbNavItem]=\"'json'\" *ngIf=\"snippetCode.json\">\r\n                    <a ngbNavLink>JSON</a>\r\n                    <ng-template ngbNavContent>\r\n                        <div class=\"code-toggle\">\r\n                            <div class=\"mb-1 ml-50\"></div>\r\n                            <pre>\r\n                  <i class=\"feather icon-copy font-medium-2 cursor-pointer text-white float-right p-1\" *ngIf='!copyCodeStatus' (click)= \"copyCode(snippetCode.json)\"></i>\r\n                  <span class=\"text-white float-right mr-1 badge badge-secondary\" *ngIf='copyCodeStatus'>copied !</span>\r\n                  <code [highlight]=\"snippetCode.json\"  [languages]=\"['json']\">\r\n                  </code>\r\n                </pre>\r\n                        </div>\r\n                    </ng-template>\r\n                </li>\r\n            </ul>\r\n            <!--/ nav tabs -->\r\n\r\n            <!-- nav tabs outlet -->\r\n            <div [ngbNavOutlet]=\"nav\" class=\"mt-2\"></div>\r\n            <!--/ nav tabs outlet -->\r\n        </div>\r\n    </div>\r\n    <!--/ snippet code -->\r\n</div>\r\n<!-- /card snippet component -->","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n// snippetCode interface\r\nexport interface snippetCode {\r\n  isCollapsed?: boolean;\r\n  active?: string;\r\n  html?: string;\r\n  ts?: string;\r\n  scss?: string;\r\n  json?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'core-card-snippet',\r\n  templateUrl: './card-snippet.component.html',\r\n  styleUrls: ['./card-snippet.component.scss']\r\n})\r\nexport class CoreCardSnippetComponent implements OnInit {\r\n  // public\r\n  public copyCodeStatus: boolean = false;\r\n\r\n  // private\r\n  private _defaultSnippetCode: snippetCode = {\r\n    isCollapsed: true // default collapsed is true\r\n  };\r\n\r\n  @Input() snippetCode: snippetCode;\r\n\r\n  constructor() {}\r\n\r\n  // Public Methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n  /**\r\n   * copyCode\r\n   *\r\n   * @param code\r\n   */\r\n  copyCode(code) {\r\n    const selectBox = document.createElement('textarea');\r\n    selectBox.style.position = 'fixed';\r\n    selectBox.value = code;\r\n    document.body.appendChild(selectBox);\r\n    selectBox.focus();\r\n    selectBox.select();\r\n    document.execCommand('copy');\r\n    document.body.removeChild(selectBox);\r\n    setTimeout(() => {\r\n      this.copyCodeStatus = false;\r\n    }, 500);\r\n    this.copyCodeStatus = true;\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // concatenate default properties with passed properties\r\n    this.snippetCode = { ...this._defaultSnippetCode, ...this.snippetCode };\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { HighlightModule, HIGHLIGHT_OPTIONS } from 'ngx-highlightjs';\r\n\r\nimport { CoreCommonModule } from '@core/common.module';\r\nimport { CoreCardSnippetComponent } from '@core/components/card-snippet/card-snippet.component';\r\n\r\n@NgModule({\r\n  declarations: [CoreCardSnippetComponent],\r\n  imports: [CommonModule, NgbModule, HighlightModule, CoreCommonModule],\r\n  providers: [\r\n    {\r\n      provide: HIGHLIGHT_OPTIONS,\r\n      useValue: {\r\n        fullLibraryLoader: () => import('highlight.js')\r\n      }\r\n    }\r\n  ],\r\n  exports: [CoreCardSnippetComponent]\r\n})\r\nexport class CardSnippetModule {}\r\n","<!-- Vertical Menu -->\r\n<ng-container *ngIf=\"layout === 'vertical'\">\r\n  <ng-container *ngFor=\"let item of menu\">\r\n    <!-- section -->\r\n    <li core-menu-vertical-section *ngIf=\"item.type == 'section'\" [item]=\"item\" class=\"navigation-header\"></li>\r\n\r\n    <!-- sub-menu item/collapsible of sections  -->\r\n    <ng-container *ngIf=\"item.type == 'section'\">\r\n      <ng-container *ngFor=\"let item of item.children\">\r\n        <!-- item | if openInNewTab set routerLink & routerLinkActive blank -->\r\n        <li\r\n          core-menu-vertical-item\r\n          *ngIf=\"item.type == 'item'\"\r\n          [item]=\"item\"\r\n          [ngClass]=\"{ disabled: item.disabled === true }\"\r\n          [routerLinkActive]=\"!item.openInNewTab ? 'active' : ''\"\r\n          [routerLinkActiveOptions]=\"{ exact: item.exactMatch || false }\"\r\n        >\r\n          <span [routerLink]=\"item.openInNewTab ? [] : [item.url]\" class=\"d-none\"></span>\r\n        </li>\r\n        <!-- collapsible -->\r\n        <li\r\n          core-menu-vertical-collapsible\r\n          *ngIf=\"item.type == 'collapsible'\"\r\n          [item]=\"item\"\r\n          class=\"nav-item has-sub\"\r\n        ></li>\r\n      </ng-container>\r\n    </ng-container>\r\n\r\n    <!-- item -->\r\n    <li\r\n      core-menu-vertical-item\r\n      *ngIf=\"item.type == 'item'\"\r\n      [item]=\"item\"\r\n      [ngClass]=\"{ disabled: item.disabled === true }\"\r\n      [routerLinkActive]=\"!item.openInNewTab ? 'active' : ''\"\r\n      [routerLinkActiveOptions]=\"{ exact: item.exactMatch || false }\"\r\n    >\r\n      <span [routerLink]=\"item.openInNewTab ? [] : [item.url]\" class=\"d-none\"></span>\r\n    </li>\r\n    <!-- collapsible -->\r\n    <li core-menu-vertical-collapsible *ngIf=\"item.type == 'collapsible'\" [item]=\"item\" class=\"nav-item has-sub\"></li>\r\n  </ng-container>\r\n</ng-container>\r\n<!--/ Vertical Menu -->\r\n\r\n<!-- Horizontal Menu -->\r\n<ng-container *ngIf=\"layout === 'horizontal'\">\r\n  <ng-container *ngFor=\"let item of menu\">\r\n    <!-- section -->\r\n    <li core-menu-horizontal-collapsible *ngIf=\"item.type == 'section'\" [item]=\"item\" class=\"dropdown nav-item\"></li>\r\n\r\n    <!-- item | if openInNewTab set routerLink & routerLinkActive blank -->\r\n    <li\r\n      core-menu-horizontal-item\r\n      *ngIf=\"item.type == 'item'\"\r\n      [item]=\"item\"\r\n      [ngClass]=\"{ disabled: item.disabled === true }\"\r\n      [routerLinkActive]=\"!item.openInNewTab ? 'active' : ''\"\r\n      [routerLinkActiveOptions]=\"{ exact: item.exactMatch || false }\"\r\n    >\r\n      <span [routerLink]=\"item.openInNewTab ? [] : [item.url]\" class=\"d-none\"></span>\r\n    </li>\r\n\r\n    <!-- collapsible -->\r\n    <li\r\n      core-menu-horizontal-collapsible\r\n      *ngIf=\"item.type == 'collapsible'\"\r\n      [item]=\"item\"\r\n      class=\"dropdown dropdown-submenu\"\r\n    ></li>\r\n  </ng-container>\r\n</ng-container>\r\n<!--/ Horizontal Menu -->\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { CoreMenuService } from '@core/components/core-menu/core-menu.service';\r\n\r\n@Component({\r\n  selector: '[core-menu]',\r\n  templateUrl: './core-menu.component.html',\r\n  styleUrls: ['./core-menu.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CoreMenuComponent implements OnInit {\r\n  currentUser: any;\r\n\r\n  @Input()\r\n  layout = 'vertical';\r\n\r\n  @Input()\r\n  menu: any;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   *\r\n   * @param {ChangeDetectorRef} _changeDetectorRef\r\n   * @param {CoreMenuService} _coreMenuService\r\n   */\r\n  constructor(private _changeDetectorRef: ChangeDetectorRef, private _coreMenuService: CoreMenuService) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Lifecycle hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Set the menu either from the input or from the service\r\n    this.menu = this.menu || this._coreMenuService.getCurrentMenu();\r\n\r\n    // Subscribe to the current menu changes\r\n    this._coreMenuService.onMenuChanged.pipe(takeUntil(this._unsubscribeAll)).subscribe(() => {\r\n      this.currentUser = this._coreMenuService.currentUser;\r\n\r\n      // Load menu\r\n      this.menu = this._coreMenuService.getCurrentMenu();\r\n\r\n      this._changeDetectorRef.markForCheck();\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { CoreCommonModule } from '@core/common.module';\r\nimport { CoreMenuComponent } from '@core/components/core-menu/core-menu.component';\r\n\r\nimport { CoreMenuVerticalSectionComponent } from '@core/components/core-menu/vertical/section/section.component';\r\nimport { CoreMenuVerticalItemComponent } from '@core/components/core-menu/vertical/item/item.component';\r\nimport { CoreMenuVerticalCollapsibleComponent } from '@core/components/core-menu/vertical/collapsible/collapsible.component';\r\nimport { CoreMenuHorizontalItemComponent } from '@core/components/core-menu/horizontal/item/item.component';\r\nimport { CoreMenuHorizontalCollapsibleComponent } from '@core/components/core-menu/horizontal/collapsible/collapsible.component';\r\n\r\nCoreMenuVerticalSectionComponent;\r\nCoreMenuVerticalItemComponent;\r\nCoreMenuVerticalCollapsibleComponent;\r\n\r\n@NgModule({\r\n  imports: [CommonModule, RouterModule, TranslateModule.forChild(), CoreCommonModule],\r\n  exports: [CoreMenuComponent],\r\n  declarations: [\r\n    CoreMenuComponent,\r\n    CoreMenuVerticalSectionComponent,\r\n    CoreMenuVerticalItemComponent,\r\n    CoreMenuVerticalCollapsibleComponent,\r\n    CoreMenuHorizontalItemComponent,\r\n    CoreMenuHorizontalCollapsibleComponent\r\n  ]\r\n})\r\nexport class CoreMenuModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\r\n\r\nimport { AuthenticationService } from 'app/auth/service';\r\nimport { User } from 'app/auth/models';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CoreMenuService {\r\n  currentUser: User;\r\n  onItemCollapsed: Subject<any>;\r\n  onItemCollapseToggled: Subject<any>;\r\n\r\n  // Private\r\n  private _onMenuRegistered: BehaviorSubject<any>;\r\n  private _onMenuUnregistered: BehaviorSubject<any>;\r\n  private _onMenuChanged: BehaviorSubject<any>;\r\n  private _currentMenuKey: string;\r\n  private _registry: { [key: string]: any } = {};\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {Router} _router\r\n   * @param {AuthenticationService} _authenticationService\r\n   */\r\n  constructor(private _router: Router, private _authenticationService: AuthenticationService) {\r\n   // this._authenticationService.currentUser.subscribe(x => (this.currentUser = x));\r\n\r\n    // Set defaults\r\n    this.onItemCollapsed = new Subject();\r\n    this.onItemCollapseToggled = new Subject();\r\n\r\n    // Set private defaults\r\n    this._currentMenuKey = null;\r\n    this._onMenuRegistered = new BehaviorSubject(null);\r\n    this._onMenuUnregistered = new BehaviorSubject(null);\r\n    this._onMenuChanged = new BehaviorSubject(null);\r\n  }\r\n\r\n  // Accessors\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * onMenuRegistered\r\n   *\r\n   * @returns {Observable<any>}\r\n   */\r\n  get onMenuRegistered(): Observable<any> {\r\n    return this._onMenuRegistered.asObservable();\r\n  }\r\n\r\n  /**\r\n   * onMenuUnregistered\r\n   *\r\n   * @returns {Observable<any>}\r\n   */\r\n  get onMenuUnregistered(): Observable<any> {\r\n    return this._onMenuUnregistered.asObservable();\r\n  }\r\n\r\n  /**\r\n   * onMenuChanged\r\n   *\r\n   * @returns {Observable<any>}\r\n   */\r\n  get onMenuChanged(): Observable<any> {\r\n    return this._onMenuChanged.asObservable();\r\n  }\r\n\r\n  // Public methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Register the provided menu with the provided key\r\n   *\r\n   * @param key\r\n   * @param menu\r\n   */\r\n  register(key, menu): void {\r\n    // Confirm if the key already used\r\n    if (this._registry[key]) {\r\n      console.error(`Menu with the key '${key}' already exists. Either unregister it first or use a unique key.`);\r\n\r\n      return;\r\n    }\r\n\r\n    // Add to registry\r\n    this._registry[key] = menu;\r\n\r\n    // Notify subject\r\n    this._onMenuRegistered.next([key, menu]);\r\n  }\r\n\r\n  /**\r\n   * Unregister the menu from the registry\r\n   *\r\n   * @param key\r\n   */\r\n  unregister(key): void {\r\n    // Confirm if the menu exists\r\n    if (!this._registry[key]) {\r\n      console.warn(`Menu with the key '${key}' doesn't exist in the registry.`);\r\n    }\r\n\r\n    // Unregister sidebar\r\n    delete this._registry[key];\r\n\r\n    // Notify subject\r\n    this._onMenuUnregistered.next(key);\r\n  }\r\n\r\n  /**\r\n   * Get menu from registry by key\r\n   *\r\n   * @param key\r\n   * @returns {any}\r\n   */\r\n  getMenu(key): any {\r\n    // Confirm if the menu exists\r\n    if (!this._registry[key]) {\r\n      console.warn(`Menu with the key '${key}' doesn't exist in the registry.`);\r\n\r\n      return;\r\n    }\r\n\r\n    // Return sidebar\r\n    return this._registry[key];\r\n  }\r\n\r\n  /**\r\n   * Get current menu\r\n   *\r\n   * @returns {any}\r\n   */\r\n  getCurrentMenu(): any {\r\n    if (!this._currentMenuKey) {\r\n      console.warn(`The current menu is not set.`);\r\n\r\n      return;\r\n    }\r\n\r\n    return this.getMenu(this._currentMenuKey);\r\n  }\r\n\r\n  /**\r\n   * Set menu with the key as the current menu\r\n   *\r\n   * @param key\r\n   */\r\n  setCurrentMenu(key): void {\r\n    // Confirm if the sidebar exists\r\n    if (!this._registry[key]) {\r\n      console.warn(`Menu with the key '${key}' doesn't exist in the registry.`);\r\n\r\n      return;\r\n    }\r\n\r\n    // Set current menu key\r\n    this._currentMenuKey = key;\r\n\r\n    // Notify subject\r\n    this._onMenuChanged.next(key);\r\n  }\r\n}\r\n","<ng-container *ngIf=\"!item.hidden\">\r\n  <!-- collapsible title -->\r\n  <a\r\n    class=\"d-flex align-items-center\"\r\n    [ngClass]=\"item.classes\"\r\n    [ngClass]=\"item.type == 'section' ? 'dropdown-toggle nav-link' : 'dropdown-item dropdown-toggle'\"\r\n    *ngIf=\"!item.url\"\r\n  >\r\n    <ng-container *ngTemplateOutlet=\"itemContent\"></ng-container>\r\n  </a>\r\n\r\n  <!-- itemContent template -->\r\n  <ng-template #itemContent>\r\n    <span [data-feather]=\"item.icon\" *ngIf=\"item.icon\"></span>\r\n    <span [translate]=\"item.translate\">{{ item.title }}</span>\r\n  </ng-template>\r\n\r\n  <!-- sub-menu item/collapsible -->\r\n  <ul class=\"dropdown-menu\" [ngClass]=\"{ show: isShow }\">\r\n    <ng-container *ngFor=\"let item of item.children\">\r\n      <!-- item -->\r\n      <li\r\n        core-menu-horizontal-item\r\n        *ngIf=\"item.type == 'item'\"\r\n        [item]=\"item\"\r\n        [ngClass]=\"{ disabled: item.disabled === true }\"\r\n        [routerLinkActive]=\"!item.openInNewTab ? 'active' : ''\"\r\n        [routerLinkActiveOptions]=\"{ exact: item.exactMatch || false }\"\r\n      >\r\n        <span [routerLink]=\"item.openInNewTab ? [] : [item.url]\" class=\"d-none\"></span>\r\n      </li>\r\n      <!-- collapsible -->\r\n      <li\r\n        core-menu-horizontal-collapsible\r\n        *ngIf=\"item.type == 'collapsible'\"\r\n        [item]=\"item\"\r\n        class=\"dropdown dropdown-submenu\"\r\n      ></li>\r\n    </ng-container>\r\n  </ul>\r\n</ng-container>\r\n","import { Component, HostListener, HostBinding, ElementRef, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\n\r\nimport { CoreConfigService } from '@core/services/config.service';\r\nimport { CoreMenuService } from '@core/components/core-menu/core-menu.service';\r\n\r\nimport { User } from 'app/auth/models';\r\n\r\n@Component({\r\n  selector: '[core-menu-horizontal-collapsible]',\r\n  templateUrl: './collapsible.component.html'\r\n})\r\nexport class CoreMenuHorizontalCollapsibleComponent implements OnInit, OnDestroy {\r\n  coreConfig: any;\r\n  currentUser: User;\r\n  isShow = false;\r\n\r\n  // Conditionally add the active classes if UrlInChildren\r\n  @HostBinding('class.active')\r\n  @HostBinding('class.open')\r\n  @HostBinding('class.sidebar-group-active')\r\n  public isActive = false;\r\n\r\n  @Input()\r\n  item: any;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {Router} _router\r\n   * @param {CoreConfigService} _coreConfigService\r\n   * @param {CoreMenuService} _coreMenuService\r\n   */\r\n  constructor(\r\n    private el: ElementRef,\r\n    private _router: Router,\r\n    private _coreConfigService: CoreConfigService,\r\n    private _coreMenuService: CoreMenuService\r\n  ) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Lifecycle hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Subscribe to config changes\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n    });\r\n\r\n    // Subscribe to the current menu changes\r\n    this._coreMenuService.onMenuChanged.pipe(takeUntil(this._unsubscribeAll)).subscribe(() => {\r\n      this.currentUser = this._coreMenuService.currentUser;\r\n    });\r\n\r\n    // Listen for router events and expand\r\n    this._router.events\r\n      .pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        takeUntil(this._unsubscribeAll)\r\n      )\r\n      .subscribe((event: NavigationEnd) => {\r\n        // Confirm if the urlAfterRedirects can be found in one of the children of this item\r\n        if (this.confirmUrlInChildren(this.item, event.urlAfterRedirects)) {\r\n          this.isActive = true;\r\n        } else {\r\n          this.isActive = false;\r\n        }\r\n      });\r\n\r\n    // Check if the url can be found in one of the children of this item\r\n    // Required for onInit case (i.e switching theme customizer menu layout)\r\n    if (this.confirmUrlInChildren(this.item, this._router.url)) {\r\n      this.isActive = true;\r\n    } else {\r\n      this.isActive = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  // Public methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Open\r\n   */\r\n  @HostListener('mouseenter')\r\n  show(): void {\r\n    this.isShow = true;\r\n    this.setSubMenuProp();\r\n  }\r\n\r\n  /**\r\n   * Close\r\n   */\r\n  @HostListener('mouseleave')\r\n  hide(): void {\r\n    this.isShow = false;\r\n  }\r\n\r\n  /**\r\n   * Set sub-menu properties based on screen size\r\n   *\r\n   */\r\n  setSubMenuProp(): void {\r\n    setTimeout(() => {\r\n      let nativeElement = this.el.nativeElement,\r\n        nativeElementChildren = this.el.nativeElement.children[1];\r\n      // If element has sub menu\r\n      if (nativeElement.classList.contains('dropdown-submenu')) {\r\n        const innerHeight = window.innerHeight,\r\n          dropdownTop = nativeElementChildren.getBoundingClientRect().top,\r\n          dropdownLeft = nativeElementChildren.getBoundingClientRect().left,\r\n          dropdownHeight = nativeElementChildren.scrollHeight,\r\n          dropdownWidth = nativeElementChildren.scrollWidth;\r\n\r\n        //Set sub-menu height\r\n        if (innerHeight - dropdownTop - dropdownHeight - 28 < 1) {\r\n          let maxHeight = innerHeight - dropdownTop - 25;\r\n          nativeElementChildren.setAttribute(\r\n            'style',\r\n            'overflow-y: auto; overflow-x: hidden; max-height : ' + maxHeight + 'px'\r\n          );\r\n        }\r\n\r\n        // Open sub-menu on left based on screen size (To avoid opn sub-menu outside of the screen)\r\n        if (dropdownLeft + dropdownWidth - (window.innerWidth - 16) >= 0) {\r\n          nativeElementChildren.parentElement.classList.add('openLeft');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Confirms if the provided url can be found in one of the given parent's children\r\n   *\r\n   * @param parent\r\n   * @param url\r\n   * @returns {boolean}\r\n   */\r\n  confirmUrlInChildren(parent, url): boolean {\r\n    const children = parent.children;\r\n\r\n    // Return false if parent don't have any children\r\n    if (!children) {\r\n      return false;\r\n    }\r\n\r\n    // Loop all the children\r\n    for (const child of children) {\r\n      // If children has child (Sub to sub item url)\r\n      if (child.children) {\r\n        // Call function again with child\r\n        if (this.confirmUrlInChildren(child, url)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      // If child.url is same as provided url\r\n      if (child.url === url || url.includes(child.url)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n","<ng-container *ngIf=\"!item.hidden\">\r\n  <!-- item.url -->\r\n  <a\r\n    class=\"dropdown-item d-flex align-items-center\"\r\n    [ngClass]=\"item.classes\"\r\n    *ngIf=\"item.url && !item.externalUrl\"\r\n    [routerLink]=\"[item.url]\"\r\n    [target]=\"item.openInNewTab ? '_blank' : '_self'\"\r\n  >\r\n    <ng-container *ngTemplateOutlet=\"itemContent\"></ng-container>\r\n  </a>\r\n\r\n  <!-- item.externalUrl -->\r\n  <a\r\n    class=\"dropdown-item d-flex align-items-center\"\r\n    [ngClass]=\"item.classes\"\r\n    *ngIf=\"item.url && item.externalUrl\"\r\n    [href]=\"item.url\"\r\n    [target]=\"item.openInNewTab ? '_blank' : '_self'\"\r\n  >\r\n    <ng-container *ngTemplateOutlet=\"itemContent\"></ng-container>\r\n  </a>\r\n\r\n  <ng-template #itemContent>\r\n    <span [data-feather]=\"item.icon\" *ngIf=\"item.icon\"></span>\r\n    <span [translate]=\"item.translate\">{{ item.title }}</span>\r\n  </ng-template>\r\n</ng-container>\r\n","import { Component, HostBinding, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[core-menu-horizontal-item]',\r\n  templateUrl: './item.component.html'\r\n})\r\nexport class CoreMenuHorizontalItemComponent {\r\n  @Input()\r\n  item: any;\r\n}\r\n","<ng-container *ngIf=\"!item.hidden\">\r\n  <!-- collapsible title -->\r\n  <a class=\"d-flex align-items-center\" [ngClass]=\"item.classes\" *ngIf=\"!item.url\" (click)=\"toggleOpen($event)\">\r\n    <ng-container *ngTemplateOutlet=\"itemContent\"></ng-container>\r\n  </a>\r\n\r\n  <!-- itemContent template -->\r\n  <ng-template #itemContent>\r\n    <span [data-feather]=\"item.icon\" *ngIf=\"item.icon\"></span>\r\n    <span class=\"menu-title text-truncate\" [translate]=\"item.translate\">{{ item.title }}</span>\r\n    <span\r\n      class=\"badge ml-auto mr-1\"\r\n      *ngIf=\"item.badge\"\r\n      [translate]=\"item.badge.translate\"\r\n      [ngClass]=\"item.badge.classes\"\r\n    >\r\n      {{ item.badge.title }}\r\n    </span>\r\n  </ng-template>\r\n\r\n  <!-- sub-menu item/collapsible -->\r\n  <ul class=\"menu-content\">\r\n    <ng-container *ngFor=\"let item of item.children\">\r\n      <!-- item -->\r\n      <li\r\n        core-menu-vertical-item\r\n        [item]=\"item\"\r\n        *ngIf=\"item.type == 'item'\"\r\n        [ngClass]=\"{ disabled: item.disabled === true }\"\r\n        [routerLinkActive]=\"!item.openInNewTab ? 'active' : ''\"\r\n        [routerLinkActiveOptions]=\"{ exact: item.exactMatch || false }\"\r\n      >\r\n        <span [routerLink]=\"item.openInNewTab ? [] : [item.url]\" class=\"d-none\"></span>\r\n      </li>\r\n      <!-- collapsible -->\r\n      <li core-menu-vertical-collapsible *ngIf=\"item.type == 'collapsible'\" [item]=\"item\" class=\"nav-item has-sub\"></li>\r\n    </ng-container>\r\n  </ul>\r\n</ng-container>\r\n","import { ChangeDetectorRef, Component, HostBinding, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\n\r\nimport { CoreMenuItem } from '@core/types';\r\nimport { CoreMenuService } from '@core/components/core-menu/core-menu.service';\r\n\r\nimport { User } from 'app/auth/models';\r\n\r\n@Component({\r\n  selector: '[core-menu-vertical-collapsible]',\r\n  templateUrl: './collapsible.component.html'\r\n})\r\nexport class CoreMenuVerticalCollapsibleComponent implements OnInit, OnDestroy {\r\n  currentUser: User;\r\n\r\n  @Input()\r\n  item: CoreMenuItem;\r\n\r\n  @HostBinding('class.open')\r\n  public isOpen = false;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {Router} _router\r\n   * @param {CoreMenuService} _coreMenuService\r\n   * @param {ChangeDetectorRef} _changeDetectorRef\r\n   */\r\n  constructor(\r\n    private _router: Router,\r\n    private _coreMenuService: CoreMenuService,\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Lifecycle hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Listen for router events and expand\r\n    this._router.events\r\n      .pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        takeUntil(this._unsubscribeAll)\r\n      )\r\n      .subscribe((event: NavigationEnd) => {\r\n        // Confirm if the urlAfterRedirects can be found in one of the children of this item\r\n        if (this.confirmUrlInChildren(this.item, event.urlAfterRedirects)) {\r\n          this.expand();\r\n        } else {\r\n          this.collapse();\r\n        }\r\n      });\r\n\r\n    // Subscribe to the current menu changes\r\n    this._coreMenuService.onMenuChanged.pipe(takeUntil(this._unsubscribeAll)).subscribe(() => {\r\n      this.currentUser = this._coreMenuService.currentUser;\r\n    });\r\n\r\n    // Listen for collapsing of any menu item\r\n    this._coreMenuService.onItemCollapsed.pipe(takeUntil(this._unsubscribeAll)).subscribe(clickedItem => {\r\n      if (clickedItem && clickedItem.children) {\r\n        // Check if the clicked item is one of the children of this item\r\n        if (this.confirmItemInChildren(this.item, clickedItem)) {\r\n          return;\r\n        }\r\n\r\n        // Check if the url can be found in one of the children of this item\r\n        if (this.confirmUrlInChildren(this.item, this._router.url)) {\r\n          return;\r\n        }\r\n\r\n        // If the clicked item is not this item, collapse...\r\n        if (this.item !== clickedItem) {\r\n          this.collapse();\r\n        }\r\n      }\r\n    });\r\n\r\n    // Check if the url can be found in one of the children of this item\r\n    // Required for onInit case (i.e switching theme customizer menu layout)\r\n    if (this.confirmUrlInChildren(this.item, this._router.url)) {\r\n      this.expand();\r\n    } else {\r\n      this.collapse();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  // Public methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Toggle collapse\r\n   *\r\n   * @param e\r\n   */\r\n  toggleOpen(e): void {\r\n    e.preventDefault();\r\n\r\n    this.isOpen = !this.isOpen;\r\n\r\n    // Menu collapse toggled...\r\n    this._coreMenuService.onItemCollapsed.next(this.item);\r\n    this._coreMenuService.onItemCollapseToggled.next();\r\n  }\r\n\r\n  /**\r\n   * Expand the collapsible menu\r\n   */\r\n  expand(): void {\r\n    if (this.isOpen) {\r\n      return;\r\n    }\r\n\r\n    this.isOpen = true;\r\n\r\n    // Mark for check\r\n    this._changeDetectorRef.markForCheck();\r\n\r\n    this._coreMenuService.onItemCollapseToggled.next();\r\n  }\r\n\r\n  /**\r\n   * Collapse the collapsible menu\r\n   */\r\n  collapse(): void {\r\n    if (!this.isOpen) {\r\n      return;\r\n    }\r\n\r\n    this.isOpen = false;\r\n\r\n    // Mark for check\r\n    this._changeDetectorRef.markForCheck();\r\n\r\n    this._coreMenuService.onItemCollapseToggled.next();\r\n  }\r\n\r\n  /**\r\n   * Confirms if the provided url can be found in one of the given parent's children\r\n   *\r\n   * @param parent\r\n   * @param url\r\n   * @returns {boolean}\r\n   */\r\n  confirmUrlInChildren(parent, url): boolean {\r\n    const children = parent.children;\r\n\r\n    // Return false if parent don't have any children\r\n    if (!children) {\r\n      return false;\r\n    }\r\n\r\n    // Loop all the children\r\n    for (const child of children) {\r\n      // If children has child (Sub to sub item url)\r\n      if (child.children) {\r\n        // Call function again with child\r\n        if (this.confirmUrlInChildren(child, url)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      // If child.url is same as provided url\r\n      if (child.url === url || url.includes(child.url)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Check if the provided parent has the provided item in one of its children\r\n   *\r\n   * @param parent\r\n   * @param item\r\n   * @returns {boolean}\r\n   */\r\n  confirmItemInChildren(parent, item): boolean {\r\n    const children = parent.children;\r\n\r\n    // Return false if parent don't have any children\r\n    if (!children) {\r\n      return false;\r\n    }\r\n\r\n    // Return true parent has the provided item in one of its children\r\n    if (children.indexOf(item) > -1) {\r\n      return true;\r\n    }\r\n\r\n    for (const child of children) {\r\n      if (child.children) {\r\n        // Call function again with child (for sub to sub item)\r\n        if (this.confirmItemInChildren(child, item)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n","<ng-container *ngIf=\"!item.hidden\">\r\n  <!-- item with router url -->\r\n  <a\r\n    class=\"d-flex align-items-center\"\r\n    [ngClass]=\"item.classes\"\r\n    *ngIf=\"item.url && !item.externalUrl\"\r\n    [routerLink]=\"[item.url]\"\r\n    [target]=\"item.openInNewTab ? '_blank' : '_self'\"\r\n  >\r\n    <ng-container *ngTemplateOutlet=\"itemContent\"></ng-container>\r\n  </a>\r\n\r\n  <!-- item with external url -->\r\n  <a\r\n    class=\"d-flex align-items-center\"\r\n    [ngClass]=\"item.classes\"\r\n    *ngIf=\"item.url && item.externalUrl\"\r\n    [href]=\"item.url\"\r\n    [target]=\"item.openInNewTab ? '_blank' : '_self'\"\r\n  >\r\n    <ng-container *ngTemplateOutlet=\"itemContent\"></ng-container>\r\n  </a>\r\n\r\n  <ng-template #itemContent>\r\n    <span [data-feather]=\"item.icon\" *ngIf=\"item.icon\"></span>\r\n    <span class=\"menu-title text-truncate\" [translate]=\"item.translate\">{{ item.title }}</span>\r\n    <span\r\n      class=\"badge ml-auto mr-1\"\r\n      *ngIf=\"item.badge\"\r\n      [translate]=\"item.badge.translate\"\r\n      [ngClass]=\"item.badge.classes\"\r\n    >\r\n      {{ item.badge.title }}\r\n    </span>\r\n  </ng-template>\r\n</ng-container>\r\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { CoreMenuItem } from '@core/types';\r\n\r\n@Component({\r\n  selector: '[core-menu-vertical-item]',\r\n  templateUrl: './item.component.html'\r\n})\r\nexport class CoreMenuVerticalItemComponent {\r\n  @Input()\r\n  item: CoreMenuItem;\r\n}\r\n","<ng-container *ngIf=\"!item.hidden\">\r\n  <span class=\"navigation-section-text\" [translate]=\"item.translate\">{{ item.title }}</span>\r\n  <!-- More icon in collapsed menu -->\r\n  <span [data-feather]=\"'more-horizontal'\"></span>\r\n</ng-container>\r\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { CoreMenuItem } from '@core/types';\r\n\r\n@Component({\r\n  selector: '[core-menu-vertical-section]',\r\n  templateUrl: './section.component.html'\r\n})\r\nexport class CoreMenuVerticalSectionComponent {\r\n  @Input()\r\n  item: CoreMenuItem;\r\n}\r\n","import {\r\n  Component,\r\n  Inject,\r\n  ChangeDetectorRef,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { animate, AnimationBuilder, AnimationPlayer, style } from '@angular/animations';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { MediaObserver } from '@angular/flex-layout';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { CoreMediaService } from '@core/services/media.service';\r\nimport { CoreConfigService } from '@core/services/config.service';\r\n\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\n\r\n@Component({\r\n  selector: 'core-sidebar',\r\n  templateUrl: './core-sidebar.component.html',\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CoreSidebarComponent implements OnInit, OnDestroy {\r\n  // Sidebar name (Component input)\r\n  @Input()\r\n  name: string;\r\n\r\n  // Class name for the overlay (Component input)\r\n  @Input()\r\n  overlayClass: string;\r\n\r\n  // Sidebar Opened\r\n  isOpened: boolean;\r\n\r\n  // Collapsible sidebar (Component input)\r\n  @Input()\r\n  collapsibleSidebar: string;\r\n\r\n  // iscollapsibleSidebar\r\n  iscollapsibleSidebar: boolean;\r\n\r\n  // Collapsible Sidebar expanded\r\n  @HostBinding('class.expanded')\r\n  expanded: boolean;\r\n\r\n  // Collapsed changed event\r\n  @Output()\r\n  collapsedChangedEvent: EventEmitter<boolean>;\r\n\r\n  // Opened changed event\r\n  @Output()\r\n  openedChangedEvent: EventEmitter<boolean>;\r\n\r\n  // Set overlay visibility\r\n  @Input()\r\n  overlayVisibility: boolean;\r\n\r\n  // Hide sidebar on esc key press\r\n  @Input()\r\n  hideOnEsc: boolean;\r\n\r\n  @HostListener('document:keydown.escape', ['$event']) onKeydownHandler(event: KeyboardEvent) {\r\n    if (this.hideOnEsc) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  // Set menu class for current menu type\r\n  menuClass: string;\r\n\r\n  rootElement: any;\r\n\r\n  // Private\r\n  private _coreConfig: any;\r\n  private _collapsed: boolean;\r\n  private _wasCollapsible: boolean;\r\n  private _wasCollapsed: boolean;\r\n  private _animationPlayer: AnimationPlayer;\r\n  private _overlay: HTMLElement | null = null;\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {DOCUMENT} document\r\n   * @param {Renderer2} _renderer\r\n   * @param {ElementRef} _elementRef\r\n   * @param {CoreConfigService} _coreConfigService\r\n   * @param {ChangeDetectorRef} _changeDetectorRef\r\n   * @param {CoreMediaService} _coreMediaService\r\n   * @param {CoreSidebarService} _coreSidebarService\r\n   * @param {AnimationBuilder} _animationBuilder\r\n   * @param {MediaObserver} _mediaObserver\r\n   */\r\n  constructor(\r\n    @Inject(DOCUMENT) private document: any,\r\n    private _renderer: Renderer2,\r\n    private _elementRef: ElementRef,\r\n    private _coreConfigService: CoreConfigService,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    private _coreMediaService: CoreMediaService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    private _animationBuilder: AnimationBuilder,\r\n    private _mediaObserver: MediaObserver\r\n  ) {\r\n    // Set Defaults\r\n    this.isOpened = false;\r\n    this.overlayVisibility = true;\r\n    this.hideOnEsc = false;\r\n\r\n    // Layout root element\r\n    this.rootElement =\r\n      this.document.querySelectorAll('.vertical-layout')[0] || this.document.querySelectorAll('.horizontal-layout')[0];\r\n\r\n    this.collapsedChangedEvent = new EventEmitter();\r\n    this.openedChangedEvent = new EventEmitter();\r\n\r\n    // Set Private Defaults\r\n    this._collapsed = false;\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Accessors\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Collapsed\r\n   *\r\n   * @param {boolean} value\r\n   */\r\n  @Input()\r\n  set collapsed(value: boolean) {\r\n    // Set the collapsed value\r\n    this._collapsed = value;\r\n\r\n    // If the sidebar is closed, return\r\n    if (!this.isOpened) {\r\n      this.rootElement.classList.add('menu-expanded'); // Add menu expanded class default\r\n      return;\r\n    }\r\n\r\n    // If Collapsed\r\n    if (value) {\r\n      // Collapse the sidebar\r\n      this.collapse();\r\n\r\n      // Add menu-collapsed in body and remove menu-expanded\r\n      this.rootElement.classList.add('menu-collapsed');\r\n      this.rootElement.classList.remove('menu-expanded');\r\n    }\r\n    // If Expanded\r\n    else {\r\n      // Expanded the sidebar\r\n      this.expand();\r\n\r\n      // Add menu-expanded in body and remove menu-collapsed\r\n      this.rootElement.classList.add('menu-expanded');\r\n      this.rootElement.classList.remove('menu-collapsed');\r\n    }\r\n\r\n    // Emit the 'collapsedChangedEvent' event\r\n    this.collapsedChangedEvent.emit(this.collapsed);\r\n  }\r\n\r\n  get collapsed(): boolean {\r\n    return this._collapsed;\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Subscribe to app-config changes\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this._coreConfig = config;\r\n      if (config.layout.type == 'vertical') {\r\n        this.menuClass = 'vertical-menu-modern';\r\n      } else {\r\n        this.menuClass = 'horizontal-menu';\r\n      }\r\n    });\r\n\r\n    // Register the sidebar\r\n    this._coreSidebarService.setSidebarRegistry(this.name, this);\r\n\r\n    // Setup collapsibleSidebar\r\n    this._setupCollapsibleSidebar();\r\n\r\n    // Default collapsed\r\n    this._defaultCollapsed();\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // If the sidebar is collapsed, expand it to reset changes\r\n    if (this.collapsed) {\r\n      this.expand();\r\n    }\r\n\r\n    // Remove sidebar registry\r\n    this._coreSidebarService.removeSidebarRegistry(this.name);\r\n\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  // Private Methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Setup the collapsible sidebar handler\r\n   *\r\n   * @private\r\n   */\r\n  private _setupCollapsibleSidebar(): void {\r\n    // Return if the collapsible sidebar breakpoint was not set from the layout\r\n    if (!this.collapsibleSidebar) {\r\n      return;\r\n    }\r\n\r\n    // Set the _wasCollapsible false for the first time\r\n    this._wasCollapsible = false;\r\n\r\n    // Set the wasCollapsed from the layout\r\n    this._wasCollapsed = this.collapsed;\r\n\r\n    // On every media(screen) change\r\n    this._coreMediaService.onMediaUpdate.pipe(takeUntil(this._unsubscribeAll)).subscribe(() => {\r\n      // Get the collapsible status\r\n      const isCollapsible = this._mediaObserver.isActive(this.collapsibleSidebar);\r\n      //! On screen resize set the config collapsed state if we have else this.collapsed\r\n      this._wasCollapsed = this._coreConfig.layout.menu.collapsed || this.collapsed;\r\n\r\n      // If sidebar is not collapsible, switch to overlay menu (On page load without resize the window)\r\n      // ? Improve this menu condition\r\n      if (!isCollapsible && this.name === 'menu') {\r\n        this.rootElement.classList.remove(this.menuClass);\r\n        this.rootElement.classList.add('vertical-overlay-menu');\r\n      }\r\n\r\n      // If the both status are the same, then return\r\n      if (this._wasCollapsible === isCollapsible) {\r\n        return;\r\n      }\r\n\r\n      // If isCollapsible is true, use collapsible sidebar\r\n      if (isCollapsible) {\r\n        // Set the collapsibleSidebar status\r\n        this.iscollapsibleSidebar = true;\r\n\r\n        // Set the the opened status to true\r\n        this.isOpened = true;\r\n\r\n        this.expanded = true; // Adde expanded class init\r\n\r\n        // Emit the 'openedChangedEvent' event\r\n        this.openedChangedEvent.emit(this.isOpened);\r\n\r\n        // If the sidebar was collapsed, forcefully collapse it again\r\n        if (this._wasCollapsed) {\r\n          // Collapse\r\n          this.collapsed = true;\r\n\r\n          this.expanded = false; // Remove expanded class\r\n          // Change detector\r\n          this._changeDetectorRef.markForCheck();\r\n        }\r\n\r\n        // If sidebar is collapsible, switch to collapsible menu (modern-menu)\r\n        if (this.name === 'menu') {\r\n          this.rootElement.classList.add(this.menuClass);\r\n          this.rootElement.classList.remove('vertical-overlay-menu', 'menu-hide');\r\n        }\r\n\r\n        // Hide the overlay if any exists\r\n        this._hideOverlay();\r\n      }\r\n      // Else use overlay sidebar\r\n      else {\r\n        // Set the collapsibleSidebar status\r\n        this.iscollapsibleSidebar = false;\r\n\r\n        // Expanded the sidebar in case if it was collapsed\r\n        this.expand();\r\n\r\n        // Force the the opened status to close\r\n        this.isOpened = false;\r\n\r\n        // Emit the 'openedChangedEvent' event\r\n        this.openedChangedEvent.emit(this.isOpened);\r\n\r\n        // If sidebar is not collapsible, switch to overlay menu (On window resize)\r\n        this.rootElement.classList.remove(this.menuClass);\r\n        this.rootElement.classList.add('vertical-overlay-menu');\r\n\r\n        // Hide the sidebar\r\n        this._hideSidebar();\r\n      }\r\n\r\n      // Set the new active status\r\n      this._wasCollapsible = isCollapsible;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Setup the initial collapsed status\r\n   *\r\n   * @private\r\n   */\r\n  private _defaultCollapsed(): void {\r\n    // Return, if sidebar is not collapsed\r\n    if (!this.collapsed) {\r\n      return;\r\n    }\r\n\r\n    // Return if the sidebar is closed\r\n    if (!this.isOpened) {\r\n      return;\r\n    }\r\n\r\n    // Collapse the sidebar\r\n    this.collapse();\r\n  }\r\n\r\n  /**\r\n   * Show the overlay\r\n   *\r\n   * @private\r\n   */\r\n  private _showOverlay(): void {\r\n    // Create the overlay element\r\n    this._overlay = this._renderer.createElement('div');\r\n\r\n    // Add a class to the overlay element and make it visible\r\n    this._overlay.classList.add(this.overlayClass);\r\n    this._overlay.classList.add('show');\r\n\r\n    // If overlayVisibility is false, set the bg transparent\r\n    if (!this.overlayVisibility) {\r\n      this._overlay.classList.add('bg-transparent');\r\n    }\r\n\r\n    // Append the overlay element to the parent element of the sidebar\r\n    this._renderer.appendChild(this._elementRef.nativeElement.parentElement, this._overlay);\r\n\r\n    // Overlay enter animation and attach it to the animationPlayer\r\n    this._animationPlayer = this._animationBuilder\r\n      .build([animate('300ms ease', style({ opacity: 1 }))])\r\n      .create(this._overlay);\r\n\r\n    // Play the overlay animation\r\n    this._animationPlayer.play();\r\n\r\n    // Add an event listener to the overlay, on click of it close the sidebar\r\n    this._overlay.addEventListener('click', () => {\r\n      this.close();\r\n    });\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Hide the overlay\r\n   *\r\n   * @private\r\n   */\r\n  private _hideOverlay(): void {\r\n    // If overlay is already hidden, return\r\n    if (!this._overlay) {\r\n      return;\r\n    }\r\n\r\n    // Overlay leave animation and attach it to the animationPlayer\r\n    this._animationPlayer = this._animationBuilder\r\n      .build([animate('300ms ease', style({ opacity: 0 }))])\r\n      .create(this._overlay);\r\n\r\n    // Play the overlay leave animation\r\n    this._animationPlayer.play();\r\n\r\n    // Once the animation is done...\r\n    this._animationPlayer.onDone(() => {\r\n      // If the overlay still exists...\r\n      if (this._overlay) {\r\n        // Remove the overlay\r\n        this._overlay.parentNode.removeChild(this._overlay);\r\n        this._overlay = null;\r\n      }\r\n    });\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Change sidebar properties to make it visible\r\n   *\r\n   * @private\r\n   */\r\n  private _showSidebar(): void {\r\n    // If menu as sidebar, add relevant classes to body to show menu\r\n    if (this.name == 'menu') {\r\n      // Open overlay menu\r\n      this.rootElement.classList.add('menu-open');\r\n      this.rootElement.classList.remove('menu-hide');\r\n    }\r\n    // For default sidebar add show class to make it visible\r\n    else {\r\n      this._renderer.addClass(this._elementRef.nativeElement, 'show');\r\n      // Add .modal-open from body to remove browser scroll\r\n      if (this.overlayClass === 'modal-backdrop') {\r\n        this.rootElement.classList.add('modal-open');\r\n      }\r\n    }\r\n\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Change sidebar properties to make it invisible\r\n   *\r\n   * @private\r\n   */\r\n  private _hideSidebar(): void {\r\n    // If menu as sidebar, add relevant classes to body to show menu\r\n    if (this.name == 'menu') {\r\n      // Hide overlay menu\r\n      this.rootElement.classList.remove('menu-open');\r\n      this.rootElement.classList.add('menu-hide');\r\n    }\r\n    // For default sidebar remove show class to make it visible\r\n    else {\r\n      this._renderer.removeClass(this._elementRef.nativeElement, 'show');\r\n\r\n      // Remove .modal-open from body\r\n      if (this.overlayClass === 'modal-backdrop') {\r\n        this.rootElement.classList.remove('modal-open');\r\n      }\r\n    }\r\n\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  // Public Methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  // For Collapsible Sidebar\r\n\r\n  /**\r\n   * Collapse the temporarily expanded sidebar\r\n   */\r\n  collapseTemporarily(): void {\r\n    // Only work if the sidebar is collapsed\r\n    if (!this.collapsed) {\r\n      return;\r\n    }\r\n\r\n    // Collapse the sidebar back\r\n    this.expanded = false;\r\n    this.collapsed = true; // Set the menu collapsed while collapsed temp.\r\n\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Expanded the sidebar temporarily\r\n   */\r\n  expandTemporarily(): void {\r\n    // Only work if the sidebar is collapsed\r\n    if (!this.collapsed) {\r\n      return;\r\n    }\r\n\r\n    // Expanded the sidebar temporarily\r\n    this.expanded = true;\r\n    this.collapsed = true; // Set the menu collapsed while collapsed temp.\r\n\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * On Sidebar's Mouseenter Event\r\n   */\r\n  @HostListener('mouseenter')\r\n  onMouseEnter(): void {\r\n    // Expand the sidebar temporarily\r\n    this.expandTemporarily();\r\n  }\r\n\r\n  /**\r\n   * On Sidebar's Mouseleave Event\r\n   */\r\n  @HostListener('mouseleave')\r\n  onMouseLeave(): void {\r\n    // Collapse the sidebar temporarily\r\n    this.collapseTemporarily();\r\n  }\r\n\r\n  /**\r\n   * Collapse the sidebar permanently\r\n   */\r\n  collapse(): void {\r\n    // If the sidebar is not collapsed\r\n    if (this.collapsed) {\r\n      return;\r\n    }\r\n\r\n    // Set collapse true\r\n    this.collapsed = true;\r\n\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Expanded the sidebar permanently\r\n   */\r\n  expand(): void {\r\n    // If the sidebar is collapsed\r\n    if (!this.collapsed) {\r\n      return;\r\n    }\r\n\r\n    // Set collapse false (expanded)\r\n    this.collapsed = false;\r\n\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Toggle the sidebar expand/collapse permanently\r\n   */\r\n  toggleCollapsible(): void {\r\n    if (this.collapsed) {\r\n      this.expand();\r\n    } else {\r\n      this.collapse();\r\n    }\r\n  }\r\n\r\n  // For Overlay Sidebar\r\n\r\n  /**\r\n   * Open the sidebar\r\n   */\r\n  open(): void {\r\n    // If sidebar already open or collapsible, then return\r\n    if (this.isOpened || this.iscollapsibleSidebar) {\r\n      return;\r\n    }\r\n\r\n    // Show the sidebar\r\n    this._showSidebar();\r\n\r\n    // Show the overlay\r\n    this._showOverlay();\r\n\r\n    // Set the sidebar opened status\r\n    this.isOpened = true;\r\n\r\n    // Emit the 'openedChangedEvent' event\r\n    this.openedChangedEvent.emit(this.isOpened);\r\n\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Close the sidebar\r\n   */\r\n  close(): void {\r\n    // If sidebar is not open or collapsible, then return\r\n    if (!this.isOpened || this.iscollapsibleSidebar) {\r\n      return;\r\n    }\r\n\r\n    // Hide the overlay\r\n    this._hideOverlay();\r\n\r\n    // Set the opened status\r\n    this.isOpened = false;\r\n\r\n    // Emit the 'openedChangedEvent' event\r\n    this.openedChangedEvent.emit(this.isOpened);\r\n\r\n    // Hide overlay menu\r\n    this._hideSidebar();\r\n\r\n    // Change detector\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Toggle open/close the sidebar\r\n   */\r\n  toggleOpen(): void {\r\n    if (this.isOpened) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n}\r\n","<ng-content></ng-content>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { CoreSidebarComponent } from '@core/components/core-sidebar/core-sidebar.component';\r\n\r\n@NgModule({\r\n  declarations: [CoreSidebarComponent],\r\n  exports: [CoreSidebarComponent]\r\n})\r\nexport class CoreSidebarModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { CoreSidebarComponent } from '@core/components/core-sidebar/core-sidebar.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CoreSidebarService {\r\n  // Private\r\n  private _registry: { [key: string]: CoreSidebarComponent } = {};\r\n\r\n  /**\r\n   * Get the sidebar with the given key\r\n   *\r\n   * @param key\r\n   * @returns {CoreSidebarComponent}\r\n   */\r\n  getSidebarRegistry(key): CoreSidebarComponent {\r\n    // Check if the sidebar registered\r\n\r\n    if (!this._registry[key]) {\r\n      console.warn(`The sidebar with the key '${key}' doesn't exist in the registry.`);\r\n      return;\r\n    }\r\n\r\n    // Return the sidebar\r\n    return this._registry[key];\r\n  }\r\n\r\n  /**\r\n   * Set the sidebar to the registry\r\n   *\r\n   * @param key\r\n   * @param sidebar\r\n   */\r\n\r\n  setSidebarRegistry(key, sidebar): void {\r\n    // Check if the key already being used\r\n    if (this._registry[key]) {\r\n      console.error(\r\n        `The sidebar with the key '${key}' already exists. Either unregister it first or use a unique key.`\r\n      );\r\n\r\n      return;\r\n    }\r\n\r\n    // Set to the registry\r\n    this._registry[key] = sidebar;\r\n  }\r\n\r\n  /**\r\n   * Remove the sidebar from the registry\r\n   *\r\n   * @param key\r\n   */\r\n  removeSidebarRegistry(key): void {\r\n    // Check if the sidebar registered\r\n    if (!this._registry[key]) {\r\n      console.warn(`The sidebar with the key '${key}' doesn't exist in the registry.`);\r\n    }\r\n\r\n    // Unregister the sidebar\r\n    delete this._registry[key];\r\n  }\r\n}\r\n","<div class=\"btn-group touchspin-wrapper\" [ngClass]=\"{ 'touchspin-sm': size == 'sm', 'touchspin-lg': size == 'lg' }\">\r\n  <button\r\n    class=\"btn btn-sm btn-primary btn-touchspin btn-touchspin-down\"\r\n    (click)=\"decrement()\"\r\n    [disabled]=\"disabledValueDecrement\"\r\n    [ngClass]=\"{\r\n      'btn-info': color == 'info',\r\n      'btn-warning': color == 'warning',\r\n      'btn-success': color == 'success',\r\n      'btn-danger': color == 'danger'\r\n    }\"\r\n  >\r\n    <span *ngIf=\"!iconChevron\" data-feather=\"minus\"></span>\r\n    <span *ngIf=\"iconChevron\" data-feather=\"chevron-down\"></span>\r\n  </button>\r\n  <input\r\n    type=\"number\"\r\n    class=\"form-control\"\r\n    [(ngModel)]=\"numberValue\"\r\n    value=\"{{ numberValue }}\"\r\n    [disabled]=\"disabledValue\"\r\n    [step]=\"stepValue\"\r\n    [min]=\"minValue\"\r\n    [max]=\"maxValue\"\r\n    (input)=\"inputChange($event.target.value)\"\r\n    pattern=\"\\d*\"\r\n    maxlength=\"4\"\r\n  />\r\n  <button\r\n    class=\"btn btn-sm btn-primary btn-touchspin btn-touchspin-up\"\r\n    (click)=\"increment()\"\r\n    [disabled]=\"disabledValueIncrement\"\r\n    [ngClass]=\"{\r\n      'btn-info': color == 'info',\r\n      'btn-warning': color == 'warning',\r\n      'btn-success': color == 'success',\r\n      'btn-danger': color == 'danger'\r\n    }\"\r\n  >\r\n    <span *ngIf=\"!iconChevron\" data-feather=\"plus\"></span>\r\n    <span *ngIf=\"iconChevron\" data-feather=\"chevron-up\"></span>\r\n  </button>\r\n</div>\r\n","import { Component, OnInit, Input, Output, ViewEncapsulation, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'core-touchspin',\r\n  templateUrl: './core-touchspin.component.html',\r\n  styleUrls: ['./core-touchspin.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CoreTouchspinComponent implements OnInit {\r\n  @Input('numberValue') numberValue = 0;\r\n  @Input('iconChevron') iconChevron = false;\r\n  @Input('disable') disabledValue = false;\r\n  @Input('size') size: string = '';\r\n  @Input('color') color: string = '';\r\n  @Input('stepValue') stepValue: number;\r\n  @Input('maxValue') maxValue: number = 9999;\r\n  @Input('minValue') minValue: number = 0;\r\n\r\n  @Output() onChange = new EventEmitter<number>();\r\n\r\n  public disabledValueIncrement = false;\r\n  public disabledValueDecrement = false;\r\n\r\n  constructor() {}\r\n\r\n  inputChange(inputValue: number) {\r\n    if (inputValue == this.maxValue || inputValue > this.maxValue) {\r\n      this.disabledValueIncrement = true;\r\n    } else {\r\n      this.disabledValueIncrement = false;\r\n    }\r\n    if (inputValue == this.minValue || inputValue < this.minValue) {\r\n      this.disabledValueDecrement = true;\r\n    } else {\r\n      this.disabledValueDecrement = false;\r\n    }\r\n\r\n    this.emitChange(inputValue);\r\n  }\r\n\r\n  increment() {\r\n    if (this.stepValue == undefined) {\r\n      this.numberValue += 1;\r\n    } else {\r\n      this.numberValue += this.stepValue;\r\n    }\r\n\r\n    this.emitChange(this.numberValue);\r\n\r\n    if (!(this.minValue == undefined || this.maxValue == undefined)) {\r\n      if (this.numberValue == this.maxValue || this.numberValue > this.maxValue) {\r\n        this.disabledValueIncrement = true;\r\n      } else {\r\n        this.disabledValueIncrement = false;\r\n      }\r\n      if (this.numberValue > this.minValue) {\r\n        this.disabledValueDecrement = false;\r\n      } else {\r\n        this.disabledValueDecrement = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  decrement() {\r\n    if (this.stepValue == undefined) {\r\n      this.numberValue -= 1;\r\n    } else {\r\n      this.numberValue -= this.stepValue;\r\n    }\r\n\r\n    this.emitChange(this.numberValue);\r\n\r\n    if (!(this.minValue == undefined || this.maxValue == undefined)) {\r\n      if (this.numberValue == this.minValue || this.numberValue < this.minValue) {\r\n        this.disabledValueDecrement = true;\r\n      } else {\r\n        this.disabledValueDecrement = false;\r\n      }\r\n      if (this.numberValue < this.maxValue) {\r\n        this.disabledValueIncrement = false;\r\n      } else {\r\n        this.disabledValueIncrement = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emit changed value\r\n   * @param value\r\n   */\r\n  emitChange(value) {\r\n    this.onChange.emit(value);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.disabledValueIncrement = this.disabledValue;\r\n    this.disabledValueDecrement = this.disabledValue;\r\n\r\n    // Check if current value is equal to min / max value then disable button respectively\r\n    if (this.numberValue === this.minValue) {\r\n      this.disabledValueDecrement = true;\r\n    } else if (this.numberValue === this.maxValue) {\r\n      this.disabledValueIncrement = true;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { CoreTouchspinComponent } from '@core/components/core-touchspin/core-touchspin.component';\r\nimport { CoreCommonModule } from '@core/common.module';\r\n\r\n@NgModule({\r\n  declarations: [CoreTouchspinComponent],\r\n  imports: [CommonModule, FormsModule, CoreCommonModule],\r\n  exports: [CoreTouchspinComponent]\r\n})\r\nexport class CoreTouchspinModule {}\r\n","// common components\r\nexport * from './core-menu/core-menu.module';\r\nexport * from './core-sidebar/core-sidebar.module';\r\nexport * from './theme-customizer/theme-customizer.module';\r\n","<div class=\"customizer-content\" [perfectScrollbar]>\r\n  <!-- Customizer header -->\r\n  <div class=\"customizer-header px-2 pt-1 pb-0 position-relative\">\r\n    <h4 class=\"mb-0\">Theme Customizer</h4>\r\n    <p class=\"m-0\">Customize & Preview in Real Time</p>\r\n\r\n    <a class=\"customizer-close\" (click)=\"toggleSidebar('themeCustomizer')\"><span [data-feather]=\"'x'\"></span></a>\r\n  </div>\r\n\r\n  <hr />\r\n  <form [formGroup]=\"form\">\r\n    <div formGroupName=\"layout\">\r\n      <!-- Styling & Text Direction -->\r\n      <div id=\"customizer-styling\" class=\"px-2\">\r\n        <!-- Skin -->\r\n        <div id=\"customizer-styling-skin\">\r\n          <p class=\"font-weight-bold\">Skin</p>\r\n          <div class=\"d-flex\">\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"skinlight\"\r\n                formControlName=\"skin\"\r\n                class=\"custom-control-input layout-name\"\r\n                value=\"default\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"skinlight\">Light</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"skinbordered\"\r\n                formControlName=\"skin\"\r\n                class=\"custom-control-input layout-name\"\r\n                value=\"bordered\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"skinbordered\">Bordered</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"skindark\"\r\n                formControlName=\"skin\"\r\n                class=\"custom-control-input layout-name\"\r\n                value=\"dark\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"skindark\">Dark</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio\" *ngIf=\"coreConfig.layout.type == 'vertical'\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"skinsemidark\"\r\n                formControlName=\"skin\"\r\n                class=\"custom-control-input layout-name\"\r\n                value=\"semi-dark\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"skinsemidark\">Semi Dark</label>\r\n            </div>\r\n          </div>\r\n          <!-- Router animation -->\r\n          <div class=\"d-flex justify-content-between align-items-center mt-2\">\r\n            <p class=\"font-weight-bold mr-auto m-0\" for=\"routeSelect\">Route Transition</p>\r\n            <select formControlName=\"animation\" class=\"form-control w-50\" id=\"routeSelect\">\r\n              <option value=\"fadeInLeft\">Fade In Left</option>\r\n              <option value=\"zoomIn\">Zoom In</option>\r\n              <option value=\"fadeIn\">Fade In</option>\r\n              <option value=\"none\">None</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <hr />\r\n\r\n      <!-- Menu -->\r\n      <div class=\"customizer-menu px-2\">\r\n        <!-- Menu Layout -->\r\n        <div id=\"customizer-menu-type\">\r\n          <p class=\"font-weight-bold\">Menu Layout</p>\r\n          <div class=\"d-flex\">\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"menu-type-vertical\"\r\n                value=\"vertical\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"menu-type-vertical\">Vertical</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"menu-type-horizontal\"\r\n                value=\"horizontal\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"menu-type-horizontal\">Horizontal</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Menu Collapsed -->\r\n        <div\r\n          id=\"customizer-menu-collapsible\"\r\n          class=\"d-flex mt-2\"\r\n          formGroupName=\"menu\"\r\n          *ngIf=\"coreConfig.layout.type == 'vertical'\"\r\n        >\r\n          <p class=\"font-weight-bold mr-auto m-0\">Menu Collapsed</p>\r\n          <div class=\"custom-control custom-control-primary custom-switch\">\r\n            <input\r\n              type=\"checkbox\"\r\n              class=\"custom-control-input\"\r\n              id=\"collapse-sidebar-switch\"\r\n              formControlName=\"collapsed\"\r\n            />\r\n            <label class=\"custom-control-label\" for=\"collapse-sidebar-switch\"></label>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Menu Hidden -->\r\n        <div id=\"customizer-menu-hidden\" class=\"d-flex mt-2\" formGroupName=\"menu\">\r\n          <p class=\"font-weight-bold mr-auto m-0\">Menu Hidden</p>\r\n          <div class=\"custom-control custom-control-primary custom-switch\">\r\n            <input type=\"checkbox\" class=\"custom-control-input\" id=\"collapse-sidebar-hidden\" formControlName=\"hidden\" />\r\n            <label class=\"custom-control-label\" for=\"collapse-sidebar-hidden\"></label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n\r\n      <!-- Navbar -->\r\n      <div id=\"customizer-navbar\" class=\"px-2\" formGroupName=\"navbar\">\r\n        <!-- Navbar Color -->\r\n        <div id=\"customizer-navbar-colors\" *ngIf=\"coreConfig.layout.type == 'vertical'\">\r\n          <p class=\"font-weight-bold\">Navbar Color</p>\r\n          <ul class=\"list-inline unstyled-list\">\r\n            <li\r\n              class=\"color-box bg-white border\"\r\n              [ngClass]=\"{ selected: navbarColorValue === '' }\"\r\n              (click)=\"navbarColor('')\"\r\n            ></li>\r\n            <li\r\n              class=\"color-box bg-primary\"\r\n              [ngClass]=\"{ selected: navbarColorValue === 'bg-primary' }\"\r\n              (click)=\"navbarColor('bg-primary')\"\r\n            ></li>\r\n            <li\r\n              class=\"color-box bg-secondary\"\r\n              [ngClass]=\"{ selected: navbarColorValue === 'bg-secondary' }\"\r\n              (click)=\"navbarColor('bg-secondary')\"\r\n            ></li>\r\n            <li\r\n              class=\"color-box bg-success\"\r\n              [ngClass]=\"{ selected: navbarColorValue === 'bg-success' }\"\r\n              (click)=\"navbarColor('bg-success')\"\r\n            ></li>\r\n            <li\r\n              class=\"color-box bg-danger\"\r\n              [ngClass]=\"{ selected: navbarColorValue === 'bg-danger' }\"\r\n              (click)=\"navbarColor('bg-danger')\"\r\n            ></li>\r\n            <li\r\n              class=\"color-box bg-info\"\r\n              [ngClass]=\"{ selected: navbarColorValue === 'bg-info' }\"\r\n              (click)=\"navbarColor('bg-info')\"\r\n            ></li>\r\n            <li\r\n              class=\"color-box bg-warning\"\r\n              [ngClass]=\"{ selected: navbarColorValue === 'bg-warning' }\"\r\n              (click)=\"navbarColor('bg-warning')\"\r\n            ></li>\r\n            <li\r\n              class=\"color-box bg-dark\"\r\n              [ngClass]=\"{ selected: navbarColorValue === 'bg-dark' }\"\r\n              (click)=\"navbarColor('bg-dark')\"\r\n            ></li>\r\n          </ul>\r\n        </div>\r\n        <!-- Navbar Type -->\r\n        <div id=\"customizer-navbar-type\">\r\n          <p\r\n            class=\"navbar-type-text font-weight-bold\"\r\n            *ngIf=\"coreConfig.layout.type == 'vertical'; else navbarTypeHorizontal\"\r\n          >\r\n            Navbar Type\r\n          </p>\r\n          <ng-template #navbarTypeHorizontal> <p class=\"navbar-type-text font-weight-bold\">Menu Type</p> </ng-template>\r\n          <div class=\"d-flex\">\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"nav-type-floating\"\r\n                value=\"floating-nav\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"nav-type-floating\">Floating</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"nav-type-sticky\"\r\n                value=\"fixed-top\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"nav-type-sticky\">Sticky</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"nav-type-static\"\r\n                value=\"navbar-static-top\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"nav-type-static\">Static</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio\" *ngIf=\"coreConfig.layout.type == 'vertical'\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"nav-type-hidden\"\r\n                value=\"d-none\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"nav-type-hidden\">Hidden</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n\r\n      <!-- Footer -->\r\n      <div id=\"customizer-footer\" class=\"px-2 mb-2\" formGroupName=\"footer\">\r\n        <div id=\"customizer-footer-type\">\r\n          <p class=\"font-weight-bold\">Footer Type</p>\r\n          <div class=\"d-flex\">\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"footer-type-sticky\"\r\n                value=\"footer-sticky\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"footer-type-sticky\">Sticky</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"footer-type-static\"\r\n                value=\"footer-static\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"footer-type-static\">Static</label>\r\n            </div>\r\n            <div class=\"custom-control custom-radio mr-1\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"footer-type-hidden\"\r\n                value=\"d-none\"\r\n                formControlName=\"type\"\r\n                class=\"custom-control-input\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"footer-type-hidden\">Hidden</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit, OnDestroy, ViewEncapsulation } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { CoreConfigService } from '@core/services/config.service';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\n\r\n@Component({\r\n  selector: 'core-theme-customizer',\r\n  templateUrl: './theme-customizer.component.html',\r\n  styleUrls: ['./theme-customizer.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CoreThemeCustomizerComponent implements OnInit, OnDestroy {\r\n  navbarColorValue: string;\r\n  coreConfig: any;\r\n  form: FormGroup;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n\r\n   * @param {FormBuilder} _formBuilder\r\n   * @param {CoreConfigService} _coreConfigService\r\n   * @param {CoreSidebarService} _coreSidebarService\r\n   * */\r\n  constructor(\r\n    private _formBuilder: FormBuilder,\r\n    private _coreConfigService: CoreConfigService,\r\n    private _coreSidebarService: CoreSidebarService\r\n  ) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  //  Lifecycle hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Build theme config form\r\n    this.form = this._formBuilder.group({\r\n      app: this._formBuilder.group({\r\n        appName: new FormControl(),\r\n        appTitle: new FormControl(),\r\n        appLogoImage: new FormControl(),\r\n        appLanguage: new FormControl()\r\n      }),\r\n      layout: this._formBuilder.group({\r\n        skin: new FormControl(),\r\n        type: new FormControl(),\r\n        animation: new FormControl(),\r\n        menu: this._formBuilder.group({\r\n          hidden: new FormControl(),\r\n          collapsed: new FormControl()\r\n        }),\r\n        navbar: this._formBuilder.group({\r\n          hidden: new FormControl(),\r\n          type: new FormControl(),\r\n          background: new FormControl(),\r\n          customBackgroundColor: new FormControl(),\r\n          backgroundColor: new FormControl()\r\n        }),\r\n        footer: this._formBuilder.group({\r\n          hidden: new FormControl(),\r\n          type: new FormControl(),\r\n          background: new FormControl(),\r\n          customBackgroundColor: new FormControl(),\r\n          backgroundColor: new FormControl()\r\n        }),\r\n        enableLocalStorage: new FormControl(),\r\n        customizer: new FormControl(),\r\n        scrollTop: new FormControl(),\r\n        buyNow: new FormControl()\r\n      })\r\n    });\r\n\r\n    // Subscribe to the config changes\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      // Update config\r\n      this.coreConfig = config;\r\n\r\n      // Set the config form values\r\n      this.form.setValue(config, { emitEvent: false });\r\n    });\r\n\r\n    // Subscribe to the form layout.type value changes\r\n    this.form\r\n      .get('layout.type')\r\n      .valueChanges.pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(value => {\r\n        this._resetFormValues(value);\r\n      });\r\n\r\n    // Subscribe to the form value changes\r\n    this.form.valueChanges.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this._coreConfigService.config = config;\r\n    });\r\n\r\n    // Set navbar color\r\n    this.navbarColor(this.form.get('layout.navbar.backgroundColor').value);\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  //  Private methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Reset form values based on the selected menu layout\r\n   *\r\n   * @param value\r\n   * @private\r\n   */\r\n  private _resetFormValues(value): void {\r\n    switch (value) {\r\n      case 'vertical': {\r\n        this.form.patchValue({\r\n          layout: {\r\n            // skin: 'default',\r\n            animation: 'fadeIn',\r\n            menu: {\r\n              hidden: false,\r\n              collapsed: false\r\n            },\r\n            navbar: {\r\n              hidden: false,\r\n              type: 'floating-nav',\r\n              background: 'navbar-light',\r\n              customBackgroundColor: true,\r\n              backgroundColor: ''\r\n            },\r\n            footer: {\r\n              hidden: false,\r\n              type: 'footer-static',\r\n              background: 'footer-light',\r\n              customBackgroundColor: false,\r\n              backgroundColor: 'bg-primary'\r\n            }\r\n          }\r\n        });\r\n      }\r\n      case 'horizontal': {\r\n        this.form.patchValue({\r\n          layout: {\r\n            // skin: 'default',\r\n            animation: 'fadeIn',\r\n            menu: {\r\n              hidden: false,\r\n              collapsed: false\r\n            },\r\n            navbar: {\r\n              hidden: false,\r\n              type: 'floating-nav',\r\n              background: 'navbar-light',\r\n              customBackgroundColor: true,\r\n              backgroundColor: ''\r\n            },\r\n            footer: {\r\n              hidden: false,\r\n              type: 'footer-static',\r\n              background: 'footer-light',\r\n              customBackgroundColor: false,\r\n              backgroundColor: 'bg-primary'\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    // Set navbar color\r\n    this.navbarColor(this.form.get('layout.navbar.backgroundColor').value);\r\n  }\r\n\r\n  // Public methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Patch selected navbar color value to form\r\n   *\r\n   * @param value\r\n   */\r\n  navbarColor(value): void {\r\n    this.navbarColorValue = value;\r\n    this.form.patchValue({\r\n      layout: { navbar: { customBackgroundColor: true, backgroundColor: this.navbarColorValue } }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Toggle sidebar open\r\n   *\r\n   * @param key\r\n   */\r\n  toggleSidebar(key): void {\r\n    this._coreSidebarService.getSidebarRegistry(key).toggleOpen();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport {\r\n  PerfectScrollbarConfigInterface,\r\n  PerfectScrollbarModule,\r\n  PERFECT_SCROLLBAR_CONFIG\r\n} from 'ngx-perfect-scrollbar';\r\n\r\nimport { CoreDirectivesModule } from '@core/directives/directives';\r\nimport { CoreSidebarModule } from '@core/components/core-sidebar/core-sidebar.module';\r\n\r\nimport { CoreThemeCustomizerComponent } from '@core/components/theme-customizer/theme-customizer.component';\r\n\r\nconst DEFAULT_PERFECT_SCROLLBAR_CONFIG: PerfectScrollbarConfigInterface = {\r\n  suppressScrollX: true,\r\n  wheelPropagation: false\r\n};\r\n\r\n@NgModule({\r\n  declarations: [CoreThemeCustomizerComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    PerfectScrollbarModule,\r\n    CoreDirectivesModule,\r\n    CoreSidebarModule\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: PERFECT_SCROLLBAR_CONFIG,\r\n      useValue: DEFAULT_PERFECT_SCROLLBAR_CONFIG\r\n    }\r\n  ],\r\n  exports: [CoreThemeCustomizerComponent]\r\n})\r\nexport class CoreThemeCustomizerModule {}\r\n","import { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\n\r\nimport { CORE_CUSTOM_CONFIG } from '@core/services/config.service';\r\n\r\n@NgModule()\r\nexport class CoreModule {\r\n  constructor(@Optional() @SkipSelf() parentModule: CoreModule) {\r\n    if (parentModule) {\r\n      throw new Error('Import CoreModule in the AppModule only');\r\n    }\r\n  }\r\n\r\n  static forRoot(config): ModuleWithProviders<CoreModule> {\r\n    return {\r\n      ngModule: CoreModule,\r\n      providers: [\r\n        {\r\n          provide: CORE_CUSTOM_CONFIG,\r\n          useValue: config\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Directive, ElementRef, Input, Inject, ChangeDetectorRef, OnChanges, SimpleChanges } from '@angular/core';\r\n\r\nimport * as Feather from 'feather-icons';\r\n\r\n@Directive({\r\n  selector: '[data-feather]'\r\n})\r\nexport class FeatherIconDirective implements OnChanges {\r\n  // Private\r\n  private _nativeElement: any;\r\n\r\n  @Input('data-feather') name!: string;\r\n  @Input() class!: string;\r\n  @Input() size!: string;\r\n  @Input() inner!: boolean;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {ElementRef} _elementRef\r\n   */\r\n  constructor(\r\n    @Inject(ElementRef) private _elementRef: ElementRef,\r\n    @Inject(ChangeDetectorRef) private _changeDetector: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    // Get the native element\r\n    this._nativeElement = this._elementRef.nativeElement;\r\n\r\n    // SVG parameter\r\n    this.name = changes.name ? changes.name.currentValue : '';\r\n    this.size = changes.size ? changes.size.currentValue : '14'; // Set default size 14\r\n    this.class = changes.class ? changes.class.currentValue : '';\r\n\r\n    // Create SVG\r\n    const svg = Feather.icons[this.name].toSvg({\r\n      class: this.class,\r\n      width: this.size,\r\n      height: this.size\r\n    });\r\n\r\n    // Set SVG\r\n    if (this.inner) {\r\n      this._nativeElement.innerHTML = svg;\r\n    } else {\r\n      this._nativeElement.outerHTML = svg;\r\n    }\r\n    this._changeDetector.markForCheck();\r\n  }\r\n}\r\n","import { Directive, ElementRef, Input, OnInit } from '@angular/core';\r\n\r\nimport * as Waves from 'node-waves';\r\n\r\n@Directive({\r\n  selector: '[rippleEffect]'\r\n})\r\nexport class RippleEffectDirective {\r\n  // Private\r\n  private _nativeElement: any;\r\n  @Input() wave: string;\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {ElementRef} _elementRef\r\n   */\r\n  constructor(private _elementRef: ElementRef) {}\r\n\r\n  ngOnInit(): void {\r\n    // Get the native element\r\n    this._nativeElement = this._elementRef.nativeElement;\r\n\r\n    if (\r\n      // Attach ripple with light style i.e solid variant of button\r\n      !this._nativeElement.className.split(' ').some(function (c) {\r\n        return /btn-outline-.*/.test(c);\r\n      }) &&\r\n      !this._nativeElement.className.split(' ').some(function (c) {\r\n        return /btn-flat-.*/.test(c);\r\n      })\r\n    ) {\r\n      Waves.attach(this._nativeElement, ['waves-float', 'waves-light']);\r\n    } else {\r\n      // Attach ripple with transparent style i.e flat, outline variant of button\r\n      Waves.attach(this._nativeElement);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { FeatherIconDirective } from '@core/directives/core-feather-icons/core-feather-icons';\r\nimport { RippleEffectDirective } from '@core/directives/core-ripple-effect/core-ripple-effect.directive';\r\n\r\n@NgModule({\r\n  declarations: [RippleEffectDirective, FeatherIconDirective],\r\n  exports: [RippleEffectDirective, FeatherIconDirective]\r\n})\r\nexport class CoreDirectivesModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n@Pipe({\r\n  name: 'filter'\r\n})\r\nexport class FilterPipe implements PipeTransform {\r\n  /**\r\n   * Transform\r\n   *\r\n   * @param {any[]} items\r\n   * @param {string} searchText\r\n   * @param {string} key\r\n   *\r\n   * @returns {any}\r\n   */\r\n  transform(items: any[], searchText: string, key: string): any[] {\r\n    if (!items) return [];\r\n    if (!searchText) return items;\r\n\r\n    searchText = searchText.toLowerCase();\r\n    return items.filter(it => {\r\n      return it[key].toLowerCase().includes(searchText);\r\n    });\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'initials'\r\n})\r\nexport class InitialsPipe implements PipeTransform {\r\n  transform(fullName: string): any {\r\n    return fullName\r\n      ?.split(' ')\r\n      .map(n => n[0])\r\n      .join('');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { FilterPipe } from '@core/pipes/filter.pipe';\r\n\r\nimport { InitialsPipe } from '@core/pipes/initials.pipe';\r\n\r\nimport { SafePipe } from '@core/pipes/safe.pipe';\r\nimport { StripHtmlPipe } from '@core/pipes/stripHtml.pipe';\r\n\r\n@NgModule({\r\n  declarations: [InitialsPipe, FilterPipe, StripHtmlPipe, SafePipe],\r\n  imports: [],\r\n  exports: [InitialsPipe, FilterPipe, StripHtmlPipe, SafePipe]\r\n})\r\nexport class CorePipesModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl } from '@angular/platform-browser';\r\n\r\n/**\r\n * Sanitize HTML\r\n */\r\n@Pipe({\r\n  name: 'safe'\r\n})\r\nexport class SafePipe implements PipeTransform {\r\n  /**\r\n   * Pipe Constructor\r\n   *\r\n   * @param _sanitizer: DomSanitezer\r\n   */\r\n  // tslint:disable-next-line\r\n  constructor(protected _sanitizer: DomSanitizer) {}\r\n\r\n  /**\r\n   * Transform\r\n   *\r\n   * @param value: string\r\n   * @param type: string\r\n   */\r\n  transform(value: string, type: string): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\r\n    switch (type) {\r\n      case 'html':\r\n        return this._sanitizer.bypassSecurityTrustHtml(value);\r\n      case 'style':\r\n        return this._sanitizer.bypassSecurityTrustStyle(value);\r\n      case 'script':\r\n        return this._sanitizer.bypassSecurityTrustScript(value);\r\n      case 'url':\r\n        return this._sanitizer.bypassSecurityTrustUrl(value);\r\n      case 'resourceUrl':\r\n        return this._sanitizer.bypassSecurityTrustResourceUrl(value);\r\n      default:\r\n        return this._sanitizer.bypassSecurityTrustHtml(value);\r\n    }\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'striphtml'\r\n})\r\nexport class StripHtmlPipe implements PipeTransform {\r\n  transform(value: string): any {\r\n    return value.replace(/<.*?>/g, ''); // replace tags\r\n  }\r\n}\r\n","import { Inject, Injectable, InjectionToken } from '@angular/core';\r\nimport { ResolveEnd, Router } from '@angular/router';\r\n\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\nimport * as _ from 'lodash';\r\n\r\n// Injection token for the core custom settings\r\nexport const CORE_CUSTOM_CONFIG = new InjectionToken('coreCustomConfig');\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CoreConfigService {\r\n  // Private\r\n  public localConfig: any;\r\n  private readonly _defaultConfig: any;\r\n  private _configSubject: BehaviorSubject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param _config\r\n   * @param {Router} _router\r\n   */\r\n  constructor(private _router: Router, @Inject(CORE_CUSTOM_CONFIG) private _config) {\r\n    // Get the config from local storage\r\n    if (_config.layout.enableLocalStorage) {\r\n      this.localConfig = JSON.parse(localStorage.getItem('config'));\r\n    } else {\r\n      localStorage.removeItem('config');\r\n    }\r\n\r\n    // Set the defaultConfig to localConfig if we have else appConfig (app-config.ts)\r\n    this._defaultConfig = this.localConfig ? this.localConfig : _config;\r\n\r\n    // Initialize the config service\r\n    this._initConfig();\r\n  }\r\n\r\n  //  Accessors\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  // Set the config\r\n  set config(data) {\r\n    let config;\r\n\r\n    // Set config = localConfig, If we have else defaultConfig\r\n    if (this.localConfig) {\r\n      config = this.localConfig;\r\n    } else {\r\n      config = this._configSubject.getValue();\r\n    }\r\n\r\n    // Merge provided data with config, and create new merged config\r\n    config = _.merge({}, config, data);\r\n\r\n    // Set config to local storage if enableLocalStorage parameter is true\r\n    if (config.layout.enableLocalStorage) {\r\n      localStorage.setItem('config', JSON.stringify(config));\r\n    }\r\n\r\n    // Inform the observers\r\n    this._configSubject.next(config);\r\n  }\r\n\r\n  // Get the config\r\n  get config(): any | Observable<any> {\r\n    return this._configSubject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Get default config\r\n   *\r\n   * @returns {any}\r\n   */\r\n  get defaultConfig(): any {\r\n    return this._defaultConfig;\r\n  }\r\n\r\n  // Private methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Initialize\r\n   *\r\n   * @private\r\n   */\r\n  private _initConfig(): void {\r\n    // Set the config from the default config\r\n    this._configSubject = new BehaviorSubject(_.cloneDeep(this._defaultConfig));\r\n\r\n    // On every RoutesRecognized event\r\n    // Check if localDefault (localStorage if we have else defaultConfig) is different form the default one\r\n    this._router.events.pipe(filter(event => event instanceof ResolveEnd)).subscribe(() => {\r\n      // Get the local config from local storage\r\n      this.localConfig = JSON.parse(localStorage.getItem('config'));\r\n\r\n      // Set localDefault to localConfig if we have else defaultConfig\r\n      let localDefault = this.localConfig ? this.localConfig : this._defaultConfig;\r\n\r\n      // If localDefault is different form the provided config (page config)\r\n      if (!_.isEqual(this._configSubject.getValue().layout, localDefault.layout)) {\r\n        // Clone the current config\r\n        const config = _.cloneDeep(this._configSubject.getValue());\r\n\r\n        // Reset the layout from the default config\r\n        config.layout = _.cloneDeep(localDefault.layout);\r\n\r\n        // Set the config\r\n        this._configSubject.next(config);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Public methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Set config\r\n   *\r\n   * @param data\r\n   * @param {{emitEvent: boolean}} param\r\n   */\r\n  setConfig(data, param = { emitEvent: true }): void {\r\n    let config;\r\n\r\n    // Set config = localConfig, If we have else defaultConfig\r\n    this.localConfig = JSON.parse(localStorage.getItem('config'));\r\n    if (this.localConfig) {\r\n      config = this.localConfig;\r\n    } else {\r\n      config = this._configSubject.getValue();\r\n    }\r\n\r\n    // Merge provided value with config, and create new merged config\r\n    config = _.merge({}, config, data);\r\n\r\n    // Set config to local storage if enableLocalStorage parameter is true\r\n    if (config.layout.enableLocalStorage) {\r\n      localStorage.setItem('config', JSON.stringify(config));\r\n    }\r\n\r\n    // If emitEvent option is true...\r\n    if (param.emitEvent === true) {\r\n      // Inform the observers\r\n      this._configSubject.next(config);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get config\r\n   *\r\n   * @returns {Observable<any>}\r\n   */\r\n  getConfig(): Observable<any> {\r\n    return this._configSubject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Reset to the default config\r\n   */\r\n  resetConfig(): void {\r\n    this._configSubject.next(_.cloneDeep(this._defaultConfig));\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\nimport { animate, AnimationBuilder, AnimationPlayer, style } from '@angular/animations';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\n\r\nimport { filter, take } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CoreLoadingScreenService {\r\n  loadingScreenEl: any;\r\n  animationPlayer: AnimationPlayer;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param _document\r\n   * @param {Router} _router\r\n   * @param {AnimationBuilder} _animationBuilder\r\n   */\r\n  constructor(\r\n    @Inject(DOCUMENT) private _document: any,\r\n    private _router: Router,\r\n    private _animationBuilder: AnimationBuilder\r\n  ) {\r\n    // Initialize\r\n    this._init();\r\n  }\r\n\r\n  // Private methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Initialize\r\n   *\r\n   * @private\r\n   */\r\n  private _init(): void {\r\n    // Get the loading screen element\r\n    this.loadingScreenEl = this._document.body.querySelector('#loading-bg');\r\n\r\n    // If loading screen element\r\n    if (this.loadingScreenEl) {\r\n      // Hide it on the first NavigationEnd event\r\n      this._router.events\r\n        .pipe(\r\n          filter(event => event instanceof NavigationEnd),\r\n          take(1)\r\n        )\r\n        .subscribe(() => {\r\n          setTimeout(() => {\r\n            this.hide();\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  // Public methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Show the loading screen\r\n   */\r\n  show(): void {\r\n    this.animationPlayer = this._animationBuilder\r\n      .build([\r\n        style({\r\n          opacity: '0',\r\n          zIndex: '99999'\r\n        }),\r\n        animate('250ms ease', style({ opacity: '1' }))\r\n      ])\r\n      .create(this.loadingScreenEl);\r\n\r\n    setTimeout(() => {\r\n      this.animationPlayer.play();\r\n    }, 0);\r\n  }\r\n\r\n  /**\r\n   * Hide the loading screen\r\n   */\r\n  hide(): void {\r\n    this.animationPlayer = this._animationBuilder\r\n      .build([\r\n        style({ opacity: '1' }),\r\n        animate(\r\n          '250ms ease',\r\n          style({\r\n            opacity: '0',\r\n            zIndex: '-10'\r\n          })\r\n        )\r\n      ])\r\n      .create(this.loadingScreenEl);\r\n\r\n    setTimeout(() => {\r\n      this.loadingScreenEl.remove();\r\n      this.animationPlayer.play();\r\n    }, 0);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\r\n\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CoreMediaService {\r\n  currentMediaQuery: string;\r\n  onMediaUpdate: BehaviorSubject<string> = new BehaviorSubject<string>('');\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {MediaObserver} _mediaObserver\r\n   */\r\n  constructor(private _mediaObserver: MediaObserver) {\r\n    // Set the defaults\r\n    this.currentMediaQuery = '';\r\n\r\n    // Initialize\r\n    this._init();\r\n  }\r\n\r\n  // @ Private methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Initialize\r\n   *\r\n   * @private\r\n   */\r\n  private _init(): void {\r\n    this._mediaObserver.media$.pipe(debounceTime(500), distinctUntilChanged()).subscribe((change: MediaChange) => {\r\n      // console.log('subscription: ', change);\r\n      if (this.currentMediaQuery !== change.mqAlias) {\r\n        this.currentMediaQuery = change.mqAlias;\r\n        this.onMediaUpdate.next(change.mqAlias);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nexport interface Locale {\r\n  lang: string;\r\n  data: Object;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CoreTranslationService {\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {TranslateService} _translateService\r\n   */\r\n  constructor(private _translateService: TranslateService) {}\r\n\r\n  // Public methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Translate\r\n   *\r\n   * @param {Locale} args\r\n   */\r\n  translate(...args: Locale[]): void {\r\n    const locales = [...args];\r\n\r\n    locales.forEach(locale => {\r\n      // use setTranslation() with the third argument value as true to append translations instead of replacing them\r\n      this._translateService.setTranslation(locale.lang, locale.data, true);\r\n    });\r\n  }\r\n}\r\n","import { CoreConfig } from '@core/types';\r\n\r\n/**\r\n * Default App Config\r\n *\r\n * ? TIP:\r\n *\r\n * Change app config based on your preferences.\r\n * You can also change them on each component basis. i.e `app/main/pages/authentication/auth-login-v1/auth-login-v1.component.ts`\r\n *\r\n * ! IMPORTANT: If the enableLocalStorage option is true then make sure you clear the browser local storage(https://developers.google.com/web/tools/chrome-devtools/storage/localstorage#delete).\r\n *  ! Otherwise, it will not take the below config changes and use stored config from local storage.\r\n *\r\n */\r\n\r\n// prettier-ignore\r\nexport const coreConfig: CoreConfig = {\r\n  app: {\r\n    appName     : 'MIS',                                        // App Name\r\n    appTitle    : 'Management Information System', // App Title\r\n    appLogoImage: 'assets/images/logo/logo.svg',                  // App Logo\r\n    appLanguage : 'en',                                           // App Default Language (en, fr, de, pt etc..)\r\n  },\r\n  layout: {\r\n    skin  : 'default',                        // default, dark, bordered, semi-dark\r\n    type  : 'vertical',                       // vertical, horizontal\r\n    animation : 'fadeIn',                     // fadeInLeft, zoomIn , fadeIn, none\r\n    menu : {\r\n      hidden               : false,           // Boolean: true, false\r\n      collapsed            : false,           // Boolean: true, false\r\n    },\r\n    // ? For horizontal menu, navbar type will work for navMenu type\r\n    navbar: {\r\n      hidden               : false,           // Boolean: true, false\r\n      type                 : 'floating-nav',  // navbar-static-top, fixed-top, floating-nav, d-none\r\n      background           : 'navbar-light',  // navbar-light. navbar-dark\r\n      customBackgroundColor: true,            // Boolean: true, false\r\n      backgroundColor      : ''               // BS color i.e bg-primary, bg-success\r\n    },\r\n    footer: {\r\n      hidden               : false,           // Boolean: true, false\r\n      type                 : 'footer-static', // footer-static, footer-sticky, d-none\r\n      background           : 'footer-light',  // footer-light. footer-dark\r\n      customBackgroundColor: false,           // Boolean: true, false\r\n      backgroundColor      : ''               // BS color i.e bg-primary, bg-success\r\n    },\r\n    enableLocalStorage: true,\r\n    customizer  : false,                       // Boolean: true, false (Enable theme customizer)\r\n    scrollTop   : false,                       // Boolean: true, false (Enable scroll to top button)\r\n    buyNow      : false                        // Boolean: true, false (Set false in real project, For demo purpose only)\r\n  }\r\n}\r\n","<!-- vertical-layout -->\r\n<ng-container *ngIf=\"coreConfig.layout.type === 'vertical'\">\r\n    <vertical-layout></vertical-layout>\r\n</ng-container>\r\n<!-- / vertical-layout -->\r\n\r\n<!-- horizontal-layout -->\r\n<ng-container *ngIf=\"coreConfig.layout.type === 'horizontal'\">\r\n    <horizontal-layout></horizontal-layout>\r\n</ng-container>\r\n<!-- / horizontal-layout -->\r\n\r\n<!-- theme customizer -->\r\n<!-- <core-sidebar name=\"themeCustomizer\" class=\"customizer d-none d-md-block\" [invisibleOverlay]=\"true\" *ngIf=\"coreConfig.layout.customizer\">\r\n    <a class=\"customizer-toggle d-flex align-items-center justify-content-center\" (click)=\"toggleSidebar('themeCustomizer')\">\r\n        <span [data-feather]=\"'settings'\" [class]=\"'spinner'\"></span>\r\n    </a>\r\n    <core-theme-customizer></core-theme-customizer>\r\n</core-sidebar> -->\r\n<!-- / theme customizer -->\r\n\r\n<ngb-toast [autohide]=\"true\">\r\n    <ng-template ngbToastHeader>\r\n        <img src=\"assets/images/logo/logo.png\" height=\"18\" width=\"25\" class=\"mr-2\" alt=\"Toast image\" />\r\n        <strong class=\"mr-auto toast-title\">MIS</strong>\r\n        <small class=\"text-muted toast-time ml-5 mr-1 pl-3\">11 mins ago</small>\r\n    </ng-template>\r\n    Hello, world! This is a toast message.\r\n</ngb-toast>","import { Component, Inject, OnDestroy, OnInit, ElementRef, Renderer2 } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Title } from '@angular/platform-browser';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as Waves from 'node-waves';\r\n\r\nimport { CoreMenuService } from '@core/components/core-menu/core-menu.service';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\nimport { CoreConfigService } from '@core/services/config.service';\r\nimport { CoreLoadingScreenService } from '@core/services/loading-screen.service';\r\nimport { CoreTranslationService } from '@core/services/translation.service';\r\n\r\nimport { generalmenu, menu } from 'app/menu/menu';\r\nimport { locale as menuEnglish } from 'app/menu/i18n/en';\r\nimport { locale as menuFrench } from 'app/menu/i18n/fr';\r\nimport { locale as menuGerman } from 'app/menu/i18n/de';\r\nimport { locale as menuPortuguese } from 'app/menu/i18n/pt';\r\nimport { AuthService } from './auth/service/authservice';\r\nimport { ApputilsService } from './auth/helpers/apputils.service';\r\nimport { adminmenu, ownermenu } from './menu/menu';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n  coreConfig: any;\r\n  menu: any;\r\n  defaultLanguage: 'en'; // This language will be used as a fallback when a translation isn't found in the current language\r\n  appLanguage: 'en'; // Set application default language i.e fr\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {DOCUMENT} document\r\n   * @param {Title} _title\r\n   * @param {Renderer2} _renderer\r\n   * @param {ElementRef} _elementRef\r\n   * @param {CoreConfigService} _coreConfigService\r\n   * @param {CoreSidebarService} _coreSidebarService\r\n   * @param {CoreLoadingScreenService} _coreLoadingScreenService\r\n   * @param {CoreMenuService} _coreMenuService\r\n   * @param {CoreTranslationService} _coreTranslationService\r\n   * @param {TranslateService} _translateService\r\n   */\r\n  constructor(\r\n    @Inject(DOCUMENT) private document: any,\r\n    private _title: Title,\r\n    private _renderer: Renderer2,\r\n    private _elementRef: ElementRef,\r\n    public _coreConfigService: CoreConfigService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    private _coreLoadingScreenService: CoreLoadingScreenService,\r\n    private _coreMenuService: CoreMenuService,\r\n    private _coreTranslationService: CoreTranslationService,\r\n    private _translateService: TranslateService,\r\n    public authservice:AuthService,\r\n    public ApputilsService:ApputilsService,\r\n    \r\n  ) {\r\n    // Get the application main menu\r\n\r\n    debugger;\r\n    var role = this.authservice.getRole();\r\n    if(role == this.ApputilsService.AdminRole)\r\n    {\r\n      this.menu = adminmenu;\r\n    }\r\n    else if(role == this.ApputilsService.ManagerRole)\r\n    {\r\n      this.menu = ownermenu\r\n    }\r\n    else\r\n    if(role == this.ApputilsService.EmployeeRole)\r\n    {\r\n      this.menu = menu;\r\n    }\r\n    else{\r\n      this.menu = generalmenu;\r\n    }\r\n    \r\n\r\n    // Register the menu to the menu service\r\n    this._coreMenuService.register('main', this.menu);\r\n\r\n    // Set the main menu as our current menu\r\n    this._coreMenuService.setCurrentMenu('main');\r\n\r\n    // Add languages to the translation service\r\n    this._translateService.addLangs(['en', 'fr', 'de', 'pt']);\r\n\r\n    // This language will be used as a fallback when a translation isn't found in the current language\r\n    this._translateService.setDefaultLang('en');\r\n\r\n    // Set the translations for the menu\r\n    this._coreTranslationService.translate(menuEnglish, menuFrench, menuGerman, menuPortuguese);\r\n\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Lifecycle hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Init wave effect (Ripple effect)\r\n    Waves.init();\r\n\r\n    // Subscribe to config changes\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n\r\n      // Set application default language.\r\n\r\n      // Change application language? Read the ngxTranslate Fix\r\n\r\n      // ? Use app-config.ts file to set default language\r\n      const appLanguage = this.coreConfig.app.appLanguage || 'en';\r\n      this._translateService.use(appLanguage);\r\n\r\n      // ? OR\r\n      // ? User the current browser lang if available, if undefined use 'en'\r\n      // const browserLang = this._translateService.getBrowserLang();\r\n      // this._translateService.use(browserLang.match(/en|fr|de|pt/) ? browserLang : 'en');\r\n\r\n      /**\r\n       * ! Fix : ngxTranslate\r\n       * ----------------------------------------------------------------------------------------------------\r\n       */\r\n\r\n      /**\r\n       *\r\n       * Using different language than the default ('en') one i.e French?\r\n       * In this case, you may find the issue where application is not properly translated when your app is initialized.\r\n       *\r\n       * It's due to ngxTranslate module and below is a fix for that.\r\n       * Eventually we will move to the multi language implementation over to the Angular's core language service.\r\n       *\r\n       **/\r\n\r\n      // Set the default language to 'en' and then back to 'fr'.\r\n\r\n      setTimeout(() => {\r\n        this._translateService.setDefaultLang('en');\r\n        this._translateService.setDefaultLang(appLanguage);\r\n      });\r\n\r\n      /**\r\n       * !Fix: ngxTranslate\r\n       * ----------------------------------------------------------------------------------------------------\r\n       */\r\n\r\n      // Layout\r\n      //--------\r\n\r\n      // Remove default classes first\r\n      this._elementRef.nativeElement.classList.remove(\r\n        'vertical-layout',\r\n        'vertical-menu-modern',\r\n        'horizontal-layout',\r\n        'horizontal-menu'\r\n      );\r\n      // Add class based on config options\r\n      if (this.coreConfig.layout.type === 'vertical') {\r\n        this._elementRef.nativeElement.classList.add('vertical-layout', 'vertical-menu-modern');\r\n      } else if (this.coreConfig.layout.type === 'horizontal') {\r\n        this._elementRef.nativeElement.classList.add('horizontal-layout', 'horizontal-menu');\r\n      }\r\n\r\n      // Navbar\r\n      //--------\r\n\r\n      // Remove default classes first\r\n      this._elementRef.nativeElement.classList.remove(\r\n        'navbar-floating',\r\n        'navbar-static',\r\n        'navbar-sticky',\r\n        'navbar-hidden'\r\n      );\r\n\r\n      // Add class based on config options\r\n      if (this.coreConfig.layout.navbar.type === 'navbar-static-top') {\r\n        this._elementRef.nativeElement.classList.add('navbar-static');\r\n      } else if (this.coreConfig.layout.navbar.type === 'fixed-top') {\r\n        this._elementRef.nativeElement.classList.add('navbar-sticky');\r\n      } else if (this.coreConfig.layout.navbar.type === 'floating-nav') {\r\n        this._elementRef.nativeElement.classList.add('navbar-floating');\r\n      } else {\r\n        this._elementRef.nativeElement.classList.add('navbar-hidden');\r\n      }\r\n\r\n      // Footer\r\n      //--------\r\n\r\n      // Remove default classes first\r\n      this._elementRef.nativeElement.classList.remove('footer-fixed', 'footer-static', 'footer-hidden');\r\n\r\n      // Add class based on config options\r\n      if (this.coreConfig.layout.footer.type === 'footer-sticky') {\r\n        this._elementRef.nativeElement.classList.add('footer-fixed');\r\n      } else if (this.coreConfig.layout.footer.type === 'footer-static') {\r\n        this._elementRef.nativeElement.classList.add('footer-static');\r\n      } else {\r\n        this._elementRef.nativeElement.classList.add('footer-hidden');\r\n      }\r\n\r\n      // Blank layout\r\n      if (\r\n        this.coreConfig.layout.menu.hidden &&\r\n        this.coreConfig.layout.navbar.hidden &&\r\n        this.coreConfig.layout.footer.hidden\r\n      ) {\r\n        this._elementRef.nativeElement.classList.add('blank-page');\r\n        // ! Fix: Transition issue while coming from blank page\r\n        this._renderer.setAttribute(\r\n          this._elementRef.nativeElement.getElementsByClassName('app-content')[0],\r\n          'style',\r\n          'transition:none'\r\n        );\r\n      } else {\r\n        this._elementRef.nativeElement.classList.remove('blank-page');\r\n        // ! Fix: Transition issue while coming from blank page\r\n        setTimeout(() => {\r\n          this._renderer.setAttribute(\r\n            this._elementRef.nativeElement.getElementsByClassName('app-content')[0],\r\n            'style',\r\n            'transition:300ms ease all'\r\n          );\r\n        }, 0);\r\n        // If navbar hidden\r\n        if (this.coreConfig.layout.navbar.hidden) {\r\n          this._elementRef.nativeElement.classList.add('navbar-hidden');\r\n        }\r\n        // Menu (Vertical menu hidden)\r\n        if (this.coreConfig.layout.menu.hidden) {\r\n          this._renderer.setAttribute(this._elementRef.nativeElement, 'data-col', '1-column');\r\n        } else {\r\n          this._renderer.removeAttribute(this._elementRef.nativeElement, 'data-col');\r\n        }\r\n        // Footer\r\n        if (this.coreConfig.layout.footer.hidden) {\r\n          this._elementRef.nativeElement.classList.add('footer-hidden');\r\n        }\r\n      }\r\n\r\n      // Skin Class (Adding to body as it requires highest priority)\r\n      if (this.coreConfig.layout.skin !== '' && this.coreConfig.layout.skin !== undefined) {\r\n        this.document.body.classList.remove('default-layout', 'bordered-layout', 'dark-layout', 'semi-dark-layout');\r\n        this.document.body.classList.add(this.coreConfig.layout.skin + '-layout');\r\n      }\r\n    });\r\n\r\n    // Set the application page title\r\n    this._title.setTitle(this.coreConfig.app.appTitle);\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  // Public methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Toggle sidebar open\r\n   *\r\n   * @param key\r\n   */\r\n  toggleSidebar(key): void {\r\n    this._coreSidebarService.getSidebarRegistry(key).toggleOpen();\r\n  }\r\n}\r\n","import { DEFAULT_CURRENCY_CODE, NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AngularFireModule } from \"@angular/fire\";\r\nimport { AngularFireFunctionsModule } from \"@angular/fire/functions\";\r\nimport { AngularFireStorageModule } from '@angular/fire/storage';\r\nimport 'hammerjs';\r\nimport { Ng2FlatpickrModule } from 'ng2-flatpickr';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ToastrModule } from 'ngx-toastr'; // For auth after login toast\r\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\r\nimport { CoreModule } from '@core/core.module';\r\nimport { CoreCommonModule } from '@core/common.module';\r\nimport { CoreSidebarModule, CoreThemeCustomizerModule } from '@core/components';\r\n\r\nimport { coreConfig } from 'app/app-config';\r\n\r\nimport { AppComponent } from 'app/app.component';\r\nimport { LayoutModule } from 'app/layout/layout.module';\r\n\r\nimport { environment } from 'environments/environment';\r\nimport {NgxPrintModule} from 'ngx-print';\r\n\r\n\r\nimport { DatatablesModule } from './modules/datatables.module';\r\nimport { CurrencyPipe, NumberToWordsPipe } from './auth/helpers/currency.pipe';\r\nimport { ApartmentComponent } from './main/InventoryManagement/createapartment/apartment/apartment.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SettingsComponent } from './main/settings/settings.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { AuthGuard } from './auth/helpers';\r\nimport { HomeComponent } from './main/sample/home.component';\r\nimport { HomeRouteAuthGuard } from './auth/helpers/homerouteguard';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\n\r\n\r\n\r\nconst appRoutes: Routes = [\r\n  {\r\n    path:'home',\r\n    redirectTo:''\r\n  \r\n  },\r\n  {\r\n    path: 'pages',\r\n    loadChildren: () => import('./main/pages/pages.module').then(m => m.PagesModule)\r\n  },\r\n  \r\n  \r\n  {\r\n    path: 'crm',\r\n    canActivate:[AuthGuard],\r\n    loadChildren: () => import('./modules/datatables.module').then(m => m.DatatablesModule)\r\n    \r\n    \r\n    \r\n  },\r\n\r\n  {\r\n    path: '**',\r\n    \r\n    redirectTo: '/pages/miscellaneous/error' //Error 404 - Page not found\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [AppComponent,ApartmentComponent],\r\n  imports: [\r\n   \r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    \r\n    Ng2FlatpickrModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n  \r\n    AngularFireStorageModule,\r\n    AngularFireFunctionsModule,\r\n    RouterModule.forRoot(appRoutes, {\r\n      scrollPositionRestoration: 'enabled', // Add options right here\r\n      relativeLinkResolution: 'legacy'\r\n    }),\r\n    TranslateModule.forRoot(),\r\n   \r\n    //NgBootstrap\r\n    NgbModule,\r\n    ToastrModule.forRoot(),\r\n    \r\n    SweetAlert2Module.forRoot(),    // Core modules\r\n    CoreModule.forRoot(coreConfig),\r\n    CoreCommonModule,\r\n    CoreSidebarModule,\r\n    CoreThemeCustomizerModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    // App modules\r\n    LayoutModule,\r\n   \r\n    DatatablesModule,\r\n    FormsModule,\r\n   \r\n\r\n  ],\r\n  providers: [\r\n    \r\n    {\r\n      provide: DEFAULT_CURRENCY_CODE,\r\n      useValue: 'PKR'\r\n    }    \r\n   ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\nimport { daterangepickerdto } from '../models/daterangepickerdto';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApputilsService {\r\n\r\n  All=\"All\";\r\n  ThisMonth = \"This Month\";\r\n  ThisYear = \"This Year\";\r\n  ThisMonthDue = \"This Month Due\";\r\n  OverDue = \"OverDue\";\r\n  ThisMonthUpComing = \"This Month UpComing\";\r\n  Due = \"Due\";\r\n  Paid = \"Paid\";\r\n  ThisMonthPaid = \"This Month Paid\";\r\n\r\n  none:Installments={\r\n    text:\"Immediate\",\r\n    months:0\r\n  };\r\n   monthtly : Installments={\r\n    text: 'Monthly',\r\n    months: 1\r\n  };\r\n  quaterly : Installments={\r\n    text: 'Quaterly',\r\n    months: 3\r\n  };\r\n  biannually : Installments={\r\n    text: 'BiAnually',\r\n    months: 6\r\n  };\r\n  anually : Installments={\r\n    text: 'Anually',\r\n    months: 12\r\n  };\r\n\r\n  AdminRole = \"Admin\";\r\n  EmployeeRole = \"Employee\";\r\n  ManagerRole = \"Manager\";\r\n  Roles = [\r\n    this.AdminRole,\r\n    this.EmployeeRole,\r\n    this.ManagerRole\r\n  ]\r\n\r\nAppName = \"Management Information System\";\r\nApartment4BedDuplex = \"4 Bed Duplex \";\r\nApartment5BedDuplex = \"5 Bed Duplex \";\r\nPenthouse = \"Penthouse \";\r\n\r\nTransactionSuccessfull = \"Successfull\";\r\nTransactionInvalid = \"Invalid\";\r\ngetServerTimestamp() { return firebase.firestore.FieldValue.serverTimestamp(); }\r\n\r\ngetDateAfterMonths(dt:Date,month:number)\r\n{\r\n   dt.setMonth(dt.getMonth()+month);\r\n   return dt;\r\n\r\n}\r\ngetTotalPrice(grossarea:number,rate:number,discount ?:number)\r\n{\r\n  if(discount != null)\r\n  {\r\n    return (grossarea *(((100-discount)/100)*rate));\r\n  }\r\n  else{\r\n    return (grossarea*rate);\r\n  }\r\n}\r\n\r\ngetDiscountedTotalPrice(price:number,discount ?:number)\r\n{\r\n  if(discount != null)\r\n  {\r\n    return (((100-discount)/100)*price);\r\n  }\r\n  else{\r\n    return price;\r\n  }\r\n}\r\ngetdatefilter(startdate:any)\r\n  {\r\n    var dt = new Date();\r\n    dt.setDate(dt.getDate() - startdate);\r\n    var d30 = new Date();\r\n    d30.setDate(d30.getDate() - (startdate + startdate == \"All\" ? 91:31));\r\n  \r\n    let drp:daterangepickerdto={\r\n      startdate: dt,\r\n      enddate: d30\r\n    }\r\n    return drp;\r\n  }\r\ngetMonthRange()\r\n{\r\n    let drp = new daterangepickerdto();\r\n    var date = new Date();\r\n    date.setDate(1);\r\n    drp.startdate = date;\r\n    date = new Date();\r\n    date.setMonth(date.getMonth()+1);\r\n    date.setDate(0);\r\n    drp.enddate = date;\r\n    drp.option = \"Month\";\r\n    return drp;\r\n}\r\ngetOverdueMonthRange()\r\n{\r\n    let drp = new daterangepickerdto();\r\n    var date = new Date();\r\n    date.setDate(1);\r\n    drp.startdate = date;\r\n    date = new Date();\r\n    date.setMonth(date.getMonth()+1);\r\n    date.setDate(0);\r\n    drp.enddate = date;\r\n    drp.option = \"Month\";\r\n    return drp;\r\n}\r\ngetAllRange()\r\n{\r\n    let drp = new daterangepickerdto();\r\n    var date = new Date(2017,1,1);\r\n    date.setDate(1);\r\n    drp.startdate = date;\r\n    date = new Date();\r\n    date.setMonth(date.getMonth()+500);\r\n    date.setDate(0);\r\n    drp.enddate = date;\r\n    drp.option = \"All\";\r\n    return drp;\r\n}\r\ngetYearRange()\r\n{\r\n  debugger;\r\n    let drp = new daterangepickerdto();\r\n    var date = new Date();\r\n    date.setDate(1);\r\n    date.setMonth(0);\r\n    drp.startdate = date;\r\n    date = new Date(date.getFullYear(),11,31);\r\n    drp.enddate = date;\r\n    return drp;\r\n}\r\ngroupBy<T, K>(list: T[], getKey: (item: T) => K) {\r\n  const map = new Map<K, T[]>();\r\n  list.forEach((item) => {\r\n      const key = getKey(item);\r\n      const collection = map.get(key);\r\n      if (!collection) {\r\n          map.set(key, [item]);\r\n      } else {\r\n          collection.push(item);\r\n      }\r\n  });\r\n  return Array.from(map.values());\r\n}\r\ngetPercentPrice(amount:number,percent ?:number)\r\n{\r\n  \r\n    return Math.round( ((percent/100)*amount));\r\n  \r\n}\r\nPaymentMethod:string[]=[\r\n  \"Pay Order\",\r\n  \"Cheque\",\r\n  \"Cash\",\r\n  \"IBFT\",\r\n  \"Deposit\"\r\n];\r\nCurrency:string[]=[\r\n  \"Dollar($)\",\r\n  \"Pound\",\r\n  \"PKR\",\r\n];\r\nReportThisMonth = \"This Month\";\r\nReportThisYear = \"This Year\";\r\nReportCustom = \"Custom\";\r\nReportAll =\"All\"\r\nReportingTime:string[]=[\r\n  this.ReportAll,\r\n  this.ReportThisMonth,\r\n  this.ReportThisYear,\r\n  this.ReportCustom\r\n];\r\n\r\nYears:number[]=[\r\n  1,2,3,4,5,6,7,8,9,10\r\n]\r\nTransactionStatus:String[]=[\r\n  this.TransactionSuccessfull,\r\n  this.TransactionInvalid\r\n];\r\nInstallmentPlan:Installments[]=[\r\n   this.monthtly,\r\n   this.quaterly,\r\n   this.biannually,\r\n   this.anually,\r\n   this.none\r\n]\r\n\r\nApartmentType:String[]=[\r\n  \"1 Bed Room Apartment \",\r\n  \"2 Bed Room Apartment \",\r\n  \"3 Bed Room Apartment \",\r\n  \"4 Bed Room Apartment \",\r\n  this.Apartment4BedDuplex,\r\n  this.Apartment5BedDuplex,\r\n  this.Penthouse\r\n];\r\n\r\nAging30 = \"1-30\";\r\nAging60 = \"31-60\";\r\nAging90=\"61-90\";\r\n\r\nAgingFilters:string[]=[\r\n \r\nthis.Aging30,\r\nthis.Aging60,\r\nthis.Aging90,\r\n\"All\", \r\n];\r\nCustomerAgingReport = \"Customer Aging Report\";\r\nCustomerLedgerReport = \"Customer Ledger Report\";\r\nCustomerOutStandingInvoices = \"Customer UpComing Invoices\";\r\nCustomerOverDueInvoices = \"Customer OverDue Invoices\";\r\nCustomerOpenBalanceReports = \"Customer Open Balance Reports\";\r\nCustomerAccountReceivableReports =\"Customer Account Receivabel Reports\";\r\n\r\nCustomerReports:String[]=[\r\n  \r\n  this.CustomerLedgerReport,\r\n\r\n  this.CustomerOverDueInvoices,\r\n  this.CustomerOutStandingInvoices,\r\n  \r\n];\r\nType:String[]=[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\"];\r\nPossesionStatus=\"Completed\";\r\nStatus:String[] = [\"Open\",\"Booked\", \"Hold\",this.PossesionStatus];\r\nHoldStatus = \"Hold\";\r\nBookedStatus = \"Booked\";\r\nOpenStatus = \"Open\";\r\n\r\nconstructor() { }\r\n\r\nAppVersion = \"1.0.0\";\r\nCompanyWebSiteName() { return this.Company.WebSiteName; }\r\nWebsiteVersion() { return this.AppVersion; }\r\n\r\n  Company = {\r\n    \"Name\": \"Trading Academy\",\r\n    \"WebSiteName\": \"Trading Academy\",\r\n    \"WebSiteAddress\": \"www.tradingacademy.us\",\r\n    \"Email\": \"info@tradingacademy.us\",\r\n    \"PolicyEmail\": \"policy@tradingacademy.us\",\r\n    \"Phone\": \"(804) 256-8100\",\r\n    \"SMS\": \"8042568100\",\r\n    \"FullAddress\": \"145 Fleet Street, STE 142, National Harbor, MD 20745\",\r\n    \"Address1\": \"145 Fleet Street, STE 142\",\r\n    \"Address2\": \"National Harbor, MD 20745\",\r\n  }\r\n}\r\nexport interface Installments{\r\n  text:string;\r\n  months:number;\r\n  \r\n}\r\nexport class InvoiceType{\r\n  static Posession:string = \"Posession\";\r\n  static Agreement:string = \"Agreement\";\r\n  static Installment:string = \"Installment\";\r\n  static Confirmation:string = \"Confirmation\";\r\n  static Booking:string = \"Booking\";\r\n}\r\nexport class SaleStatus{\r\n  static InProgress:string = \"InProgress\";\r\n  static Completed:string=\"Completed\";\r\n  static Closed:string = \"Closed\";\r\n\r\n}\r\nexport class InvoiceStatus{\r\n  static UnPaid:string = \"UnPaid\";\r\n  static Paid:string=\"Paid\";\r\n  static Pending:string = \"Pending\";\r\n}\r\nexport class FilterStatus{\r\n  \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { AuthenticationService } from 'app/auth/service';\r\nimport { first } from 'rxjs/operators';\r\nimport { AuthService } from '../service/authservice';\r\nimport { debug } from 'console';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard implements CanActivate {\r\n  /**\r\n   *\r\n   * @param {Router} _router\r\n   * @param {AuthenticationService} _authenticationService\r\n   */\r\n  constructor(public auth:AuthService, private _router: Router, private _authenticationService: AuthenticationService) {}\r\n\r\n  // canActivate\r\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    \r\n    \r\n   debugger;\r\n    var auth = await this.auth.auth.authState.pipe(first()).toPromise();\r\n    if(auth == undefined)\r\n    {\r\n      this._router.navigate(['/pages/authentication/login-v2'], { queryParams: { returnUrl: state.url } });\r\n    }\r\n    return auth != undefined;\r\n    const currentUser = this._authenticationService.currentUserValue;\r\n    debugger;\r\n    if (currentUser) {\r\n      // // check if route is restricted by role\r\n      // if (route.data.roles && route.data.roles.indexOf(currentUser.role) === -1) {\r\n      //   // role not authorised so redirect to not-authorized page\r\n      //   this._router.navigate(['/pages/miscellaneous/not-authorized']);\r\n      //   return false;\r\n      // }\r\n\r\n      // authorised so return true\r\n      return true;\r\n    }\r\n\r\n    // not logged in so redirect to login page with the return url\r\n    this._router.navigate(['/pages/authentication/login-v2'], { queryParams: { returnUrl: state.url } });\r\n    return false;\r\n  }\r\n}\r\n","import { formatCurrency, getCurrencySymbol } from '@angular/common';\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'mycurrency'\r\n})\r\nexport class CurrencyPipe implements PipeTransform {\r\n\r\n  transform(\r\n    value: number,\r\n    currencyCode: string = 'PKR',\r\n    display:\r\n        | 'code'\r\n        | 'symbol'\r\n        | 'symbol-narrow'\r\n        | string\r\n        | boolean = 'symbol',\r\n    digitsInfo: string = '0.2-2',\r\n    locale: string = 'en-US',\r\n): string | null {\r\n    return formatCurrency(\r\n      value,\r\n      locale,\r\n      getCurrencySymbol(currencyCode, 'narrow'),\r\n      currencyCode,\r\n      digitsInfo,\r\n    );\r\n}\r\n\r\n}\r\n@Pipe({\r\n  name: 'currencyconvert'\r\n})\r\nexport class CurrencyConvertPipe implements PipeTransform {\r\n\r\n  transform(\r\n    value: number,\r\n    rate:number,\r\n): number | null {\r\n  debugger;\r\n    return Math.round(value/rate)\r\n}\r\n\r\n}\r\n\r\n\r\n@Pipe({\r\n   name: 'numberToWords'\r\n})\r\nexport class NumberToWordsPipe implements PipeTransform {\r\n  transform(value: any): string {\r\n    if (value && isInteger(value))\r\n      return  numToWords(value);\r\n    \r\n    return value;\r\n  }\r\n}\r\n\r\nconst isInteger = function(x: any) {\r\n   return x % 1 === 0;\r\n}\r\n\r\n\r\nconst arr = x => Array.from(x);\r\nconst num = x => Number(x) || 0;\r\nconst str = x => String(x);\r\nconst isEmpty = xs => xs.length === 0;\r\nconst take = n => xs => xs.slice(0,n);\r\nconst drop = n => xs => xs.slice(n);\r\nconst reverse = xs => xs.slice(0).reverse();\r\nconst comp = f => g => x => f (g (x));\r\nconst not = x => !x;\r\nconst chunk = n => xs =>\r\n  isEmpty(xs) ? [] : [take(n)(xs), ...chunk (n) (drop (n) (xs))];\r\n// numToWords :: (Number a, String a) => a -> String\r\nlet numToWords = n => {\r\n  let a = [\r\n    '', 'one', 'two', 'three', 'four',\r\n    'five', 'six', 'seven', 'eight', 'nine',\r\n    'ten', 'eleven', 'twelve', 'thirteen', 'fourteen',\r\n    'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'\r\n  ];\r\n  let b = [\r\n    '', '', 'twenty', 'thirty', 'forty',\r\n    'fifty', 'sixty', 'seventy', 'eighty', 'ninety'\r\n  ];\r\n  let g = [\r\n    '', 'thousand', 'million', 'billion', 'trillion', 'quadrillion',\r\n    'quintillion', 'sextillion', 'septillion', 'octillion', 'nonillion'\r\n  ];\r\n  // this part is really nasty still\r\n  // it might edit this again later to show how Monoids could fix this up\r\n  let makeGroup = ([ones,tens,huns]) => {\r\n    return [\r\n      num(huns) === 0 ? '' : a[huns] + ' hundred ',\r\n      num(ones) === 0 ? b[tens] : b[tens] && b[tens] + '-' || '',\r\n      a[tens+ones] || a[ones]\r\n    ].join('');\r\n  };\r\n  // \"thousands\" constructor; no real good names for this, i guess\r\n  let thousand = (group,i) => group === '' ? group : `${group} ${g[i]}`;\r\n  // execute !\r\n  if (typeof n === 'number') return numToWords(String(n));\r\n  if (n === '0')             return 'zero';\r\n  return comp (chunk(3)) (reverse) (arr(n))\r\n    .map(makeGroup)\r\n    .map(thousand)\r\n    .filter(comp(not)(isEmpty))\r\n    .reverse()\r\n    .join(' ');\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { AuthenticationService } from 'app/auth/service';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n  /**\r\n   * @param {Router} _router\r\n   * @param {AuthenticationService} _authenticationService\r\n   */\r\n  constructor(private _router: Router, private _authenticationService: AuthenticationService) {}\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    return next.handle(request).pipe(\r\n      catchError(err => {\r\n        if ([401, 403].indexOf(err.status) !== -1) {\r\n          // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\r\n          this._router.navigate(['/pages/miscellaneous/not-authorized']);\r\n\r\n          // ? Can also logout and reload if needed\r\n          // this._authenticationService.logout();\r\n          // location.reload(true);\r\n        }\r\n        // throwError\r\n        const error = err.error.message || err.statusText;\r\n        return throwError(error);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from \"@angular/router\";\r\nimport { AuthenticationService } from \"../service\";\r\nimport { AuthService } from \"../service/authservice\";\r\nimport { ApputilsService } from './apputils.service';\r\nimport { first } from 'rxjs/operators';\r\n\r\n\r\n    @Injectable({ providedIn: 'root' })\r\nexport class HomeRouteAuthGuard implements CanActivate {\r\n  /**\r\n   *\r\n   * @param {Router} _router\r\n   * @param {AuthenticationService} _authenticationService\r\n   */\r\n  constructor(public ApputilsService:ApputilsService,public auth:AuthService, private _router: Router, private _authenticationService: AuthenticationService) {}\r\n\r\n  // canActivate\r\n  async canActivate( route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    \r\n    \r\n   \r\n    const currentUser = this._authenticationService.currentUserValue;\r\n    debugger;\r\n    if (currentUser) {\r\n        await this.auth.auth.authState.pipe(first()).toPromise();\r\n      // // check if route is restricted by role\r\n      // if (route.data.roles && route.data.roles.indexOf(currentUser.role) === -1) {\r\n      //   // role not authorised so redirect to not-authorized page\r\n      //   this._router.navigate(['/pages/miscellaneous/not-authorized']);\r\n      //   return false;\r\n      // }\r\n\r\n      // authorised so return true\r\n    var authstate =  await this.auth.auth.currentUser;\r\n    debugger;\r\n    if(authstate != undefined && authstate.uid != undefined)\r\n    {\r\n        debugger;\r\n      var role = this.auth.getRole();\r\n      if(role == this.ApputilsService.AdminRole)\r\n      {\r\n          this._router.navigateByUrl(\"/users\");\r\n          return false;\r\n      }\r\n    }\r\n      return true;\r\n    }\r\n    return false;\r\n\r\n    \r\n  }\r\n}\r\n","export * from './auth.guards';\r\nexport * from './error.interceptor';\r\n// export * from './fake-backend';\r\nexport * from './jwt.interceptor';\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from 'environments/environment';\r\nimport { AuthenticationService } from 'app/auth/service';\r\n\r\n// @Injectable()\r\n// export class JwtInterceptor implements HttpInterceptor {\r\n//   /**\r\n//    *\r\n//    * @param {AuthenticationService} _authenticationService\r\n//    */\r\n//   constructor(private _authenticationService: AuthenticationService) {}\r\n\r\n//   /**\r\n//    * Add auth header with jwt if user is logged in and request is to api url\r\n//    * @param request\r\n//    * @param next\r\n//    */\r\n//   intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n//     const currentUser = this._authenticationService.currentUserValue;\r\n//     const isLoggedIn = currentUser && currentUser.token;\r\n//     const isApiUrl = request.url.startsWith(environment.apiUrl);\r\n//     if (isLoggedIn && isApiUrl) {\r\n//       request = request.clone({\r\n//         setHeaders: {\r\n//           Authorization: `Bearer ${currentUser.token}`\r\n//         }\r\n//       });\r\n//     }\r\n\r\n//     return next.handle(request);\r\n//   }\r\n// }\r\n","import { ActivatedRoute } from '@angular/router';\r\nimport { Injectable } from '@angular/core';\r\n@Injectable({\r\n    providedIn: 'root'\r\n  })\r\nexport class RouterHelper{\r\n    constructor(public route:ActivatedRoute)\r\n    {\r\n\r\n    }\r\n    getValueFromUrl(key:string)\r\n    {\r\n        debugger;\r\n        return this.route.snapshot.paramMap.get(key);\r\n    }\r\n}","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { ApputilsService } from \"./apputils.service\";\r\n\r\n@Pipe({\r\n  name: \"status\",\r\n})\r\nexport class StatusPipe implements PipeTransform {\r\n  transform(value: String, ApputilsService: ApputilsService): string | null {\r\n    var status = \"\";\r\n    switch (value) {\r\n      case \"Open\":\r\n        return \"primary\";\r\n        break;\r\n      case \"Booked\":\r\n        return \"success\";\r\n        break;\r\n      case \"Hold\":\r\n        return \"danger\";\r\n        break;\r\n    }\r\n  }\r\n}\r\n","export class daterangepickerdto{\r\n\r\n    startdate:Date;\r\n    option?:string;\r\n    enddate:Date;\r\n\r\n}","import { Installments } from \"../helpers/apputils.service\";\r\nimport { CustomerDto } from './customerinfo';\r\n\r\nexport interface PlanDto {\r\n    perinstallmentamount: number;\r\n    id:string;\r\n    client:string;\r\n    contact:string;\r\n    plan:number;\r\n    installment:Installments;\r\n    installmentamount:number;\r\n    agreement:number;\r\n    agreementamount:number;\r\n    possessionamount:number;\r\n    possession:number;\r\n    confirmation:number;\r\n    confirmationamount:number;\r\n    booking:number;\r\n    bookingamount:number;\r\n    plancreation:any;\r\n    planscehdule:PlanScheduleDto[];\r\n    apartmentid:string;\r\n    apartmentname:string;\r\n    apartmentrate:number;\r\n    apartmenttotalprice:number;\r\n    apartmentarea:number;\r\n    apartmenttype:string;\r\n    type:string;\r\n    createdat:any;\r\n    updatedat:any;\r\n    totalamount:number;\r\n}\r\nexport interface PlanScheduleDto{\r\n    installmentno:number;\r\n    amount:number;\r\n    amountpaid:number;\r\n    amountleft:number;\r\n    invoicedueon:any;\r\n    invoicepaid:boolean;\r\n    invoicepaidon:any;\r\n    approvedby:any;\r\n    approvalpicture:string;\r\n    id:string;\r\n    planid:string;\r\n    type:string;\r\n    createdat:any;\r\n    updateat:any;\r\n    orderno:number;\r\n    \r\n}\r\nexport class customersalesDto{\r\n    sales:SalesDto[];\r\n    invoices:PlanScheduleDto[];\r\n}\r\nexport class AginReportDto{\r\n    customername:string;\r\n    id:string;\r\n    amount30:number;\r\n    amount60:number;\r\n    amount90:number;\r\n    amount100:number;\r\n    total:number;\r\n}\r\nexport class CustomersLedgerDto{\r\n    cust:CustomerDto;\r\n    bankbalances:bankbalancedetaildto[];\r\n\r\n}\r\nexport class InvoicesDetailDto implements PlanScheduleDto{\r\n    installmentno: number;\r\n    amount: number;\r\n    amountpaid: number;\r\n    amountleft: number;\r\n    invoicedueon: any;\r\n    invoicepaid: boolean;\r\n    invoicepaidon: any;\r\n    approvedby: any;\r\n    approvalpicture: string;\r\n    id: string;\r\n    planid: string;\r\n    type: string;\r\n    createdat: any;\r\n    updateat: any;\r\n    orderno: number;\r\n    customer?:string;\r\n    \r\n}\r\nexport class TrialBalanceReportDto{\r\n    customername:string;\r\n    debit:number;\r\n    credit:number;\r\n    bank:string;\r\n}\r\nexport interface Transaction{\r\n    totalamount:number;\r\n    amount:number;\r\n    id:string;\r\n    apartmentname:string;\r\n    customername:string;\r\n    invoicename:string; \r\n    bank:string;\r\n    iban:string;\r\n    paymentmethod:string;\r\n    transactionid:string;\r\n    invoiceid:string;\r\n    createdat:any;\r\n    status:string;\r\n    updatedat:any;\r\n    notes:string;\r\n    transactiondate:any;\r\n    editable:boolean;\r\n}\r\n\r\nexport interface bankbalancedetaildto{\r\n    debit:number;\r\n    credit:number;\r\n    id:string;\r\n    apartmentname:string;\r\n    customername:string;\r\n    invoicename:string; \r\n    bank:string;\r\n    iban:string;\r\n    paymentmethod:string;\r\n    transactionid:string;\r\n    invoiceid:string;\r\n    bankamount:number;\r\n    status:string;\r\n    transactiondate:any;\r\n}\r\nexport interface SalesDto{\r\n    id:string;\r\n    customerid:string;\r\n    customername:string;\r\n    customercnic:string;\r\n    isallpaid:boolean;\r\n    accountcode:string;\r\n    applicationno:string;\r\n    perinstallmentamount: number;\r\n    plan:number;  \r\n    agreement:number;\r\n    agreementamount:number;\r\n    possessionamount:number;\r\n    possession:number;\r\n    confirmation:number;\r\n    confirmationamount:number;\r\n    booking:number;\r\n    bookingamount:number;\r\n    plancreation:any;\r\n    planscehdule:PlanScheduleDto[];\r\n    apartmentid:string;\r\n    apartmentname:string;\r\n    apartmentrate:number;\r\n    apartmenttotalprice:number;\r\n    apartmentarea:number;\r\n    apartmenttype:string;\r\n    type:string;\r\n    createdat:any;\r\n    updatedat:any;\r\n    totalamount:number;\r\n    totalamountpaid:number;\r\n    totalamountleft:number;\r\n    status:string;\r\n    installment:Installments;\r\n    installmentamount:number;\r\n}","import { Injectable } from \"@angular/core\";\r\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from \"@angular/router\";\r\nimport { first } from \"rxjs/operators\";\r\nimport { AuthenticationService } from \"../service\";\r\nimport { AuthService } from \"../service/authservice\";\r\nimport { ApputilsService } from '../helpers/apputils.service';\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class AdminRouteAuthGuard implements CanActivate {\r\n  /**\r\n   *\r\n   * @param {Router} _router\r\n   * @param {AuthenticationService} _authenticationService\r\n   */\r\n  constructor(\r\n    public ApputilsService: ApputilsService,\r\n    public auth: AuthService,\r\n    private _router: Router,\r\n    private _authenticationService: AuthenticationService\r\n  ) {}\r\n\r\n  // canActivate\r\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    const currentUser = this._authenticationService.currentUserValue;\r\n    if (currentUser) {\r\n    \r\n      await this.auth.auth.authState.pipe(first()).toPromise();\r\n      var authstate = await this.auth.auth.currentUser;\r\n      if (authstate.uid != undefined) {\r\n        var role = this.auth.getRole();\r\n        if (\r\n          role == this.ApputilsService.AdminRole\r\n          \r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n      this._router.navigateByUrl(\"/\");\r\n      return false;\r\n    }\r\n    \r\n    return false;\r\n  }\r\n}","import { Injectable } from \"@angular/core\";\r\nimport {\r\n  CanActivate,\r\n  Router,\r\n  ActivatedRouteSnapshot,\r\n  RouterStateSnapshot,\r\n} from \"@angular/router\";\r\nimport { first } from \"rxjs/operators\";\r\nimport { AuthenticationService } from \"../service\";\r\nimport { AuthService } from \"../service/authservice\";\r\nimport { ApputilsService } from \"../helpers/apputils.service\";\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class ManagerEmployeeRouteAuthGuard implements CanActivate {\r\n  /**\r\n   *\r\n   * @param {Router} _router\r\n   * @param {AuthenticationService} _authenticationService\r\n   */\r\n  constructor(\r\n    public ApputilsService: ApputilsService,\r\n    public auth: AuthService,\r\n    private _router: Router,\r\n    private _authenticationService: AuthenticationService\r\n  ) {}\r\n\r\n  // canActivate\r\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    const currentUser = this._authenticationService.currentUserValue;\r\n    if (currentUser) {\r\n        await this.auth.auth.authState.pipe(first()).toPromise();\r\n      var authstate = await this.auth.auth.currentUser;\r\n      if (authstate.uid != undefined) {\r\n        var role = this.auth.getRole();\r\n        if (\r\n          role == this.ApputilsService.ManagerRole ||\r\n          role == this.ApputilsService.EmployeeRole\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n      this._router.navigateByUrl(\"/\");\r\n      return false;\r\n    }\r\n    this._router.navigateByUrl(\"/\");\r\n    return false;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { environment } from 'environments/environment';\r\nimport { User, Role } from 'app/auth/models';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthenticationService {\r\n  //public\r\n  public currentUser: Observable<String>;\r\n\r\n  //private\r\n  private currentUserSubject: String;\r\n\r\n  /**\r\n   *\r\n   * @param {HttpClient} _http\r\n   * @param {ToastrService} _toastrService\r\n   */\r\n  constructor(private _http: HttpClient,  public auth:AngularFireAuth,private _toastrService: ToastrService) {\r\n    this.currentUserSubject = localStorage.getItem('currentUser');\r\n    \r\n   \r\n  }\r\n\r\n  // getter: currentUserValue\r\n  public get currentUserValue(): String {\r\n    return this.currentUserSubject;\r\n  }\r\n\r\n  // /**\r\n  //  *  Confirms if user is admin\r\n  //  */\r\n  // get isAdmin() {\r\n  //   return this.currentUser && this.currentUserSubject.value.role === Role.Admin;\r\n  // }\r\n\r\n  // /**\r\n  //  *  Confirms if user is client\r\n  //  */\r\n  // get isClient() {\r\n  //   return this.currentUser && this.currentUserSubject.value.role === Role.Client;\r\n  // }\r\n\r\n  /**\r\n   * User login\r\n   *\r\n   * @param email\r\n   * @param password\r\n   * @returns user\r\n   */\r\n  async login(email: string, password: string) {\r\n   var resp = await this.auth.signInWithEmailAndPassword(email,password)\r\n      .then();\r\n      debugger;\r\n      if(resp != null)\r\n      {\r\n       \r\n        localStorage.setItem('currentUser', resp.user.uid);\r\n        // Display welcome toast!\r\n        setTimeout(() => {\r\n          this._toastrService.success(\r\n            'You have successfully logged in as an ' +\r\n              \"Tayyab\" +\r\n              ' user to Vuexy. Now you can start to explore. Enjoy! 🎉',\r\n            '👋 Welcome, ' + \"FS\" + '!',\r\n            { toastClass: 'toast ngx-toastr', closeButton: true }\r\n          );\r\n        }, 2500);\r\n      }\r\n    }\r\n       \r\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n            \r\n\r\n            \r\n\r\n           \r\n\r\n  /**\r\n   * User logout\r\n   *\r\n   */\r\n  async logout() {\r\n    // remove user from local storage to log user out\r\n    localStorage.removeItem('currentUser');\r\n    localStorage.removeItem('role');\r\n    await this.auth.signOut();\r\n   \r\n    // // notify\r\n    // this.currentUserSubject.next(null);\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport firebase from 'firebase';\r\nimport { first } from 'rxjs/operators';\r\nimport { firebaseStoreService } from './firebasestoreservice';\r\nimport { debug } from 'console';\r\n@Injectable({\r\n    providedIn: 'root'\r\n  })\r\n  export class AuthService {\r\n    constructor(public auth: AngularFireAuth,public fs:firebaseStoreService) {\r\n      this.auth.authState.subscribe((user) => {\r\n        if (user) {\r\n          localStorage.setItem(\"uid\", user.uid);\r\n          localStorage.setItem(\"user\", user.email);\r\n          \r\n          debugger;\r\n          this.fs.getUserById(user.uid).valueChanges().subscribe(e=>{\r\n           debugger;\r\n           if(e != null)\r\n           {\r\n            localStorage.setItem(\"role\",e.role);\r\n            localStorage.setItem(\"name\",e.name);\r\n           }\r\n\r\n          });\r\n        } else {\r\n          localStorage.removeItem(\"user\");\r\n          localStorage.removeItem(\"uid\");\r\n          localStorage.removeItem(\"role\");\r\n        }\r\n      });\r\n    }\r\n    async getUID() {\r\n      var user = await this.auth.authState.pipe(first()).toPromise();\r\n      return user != null ? user.uid : null;\r\n    }\r\n    getname(){\r\n        return localStorage.getItem(\"name\");\r\n    }\r\n    getemail(){\r\n        return localStorage.getItem(\"user\");\r\n    }\r\n    isAdmin() {\r\n      debugger;\r\n      // await this.auth.authState.pipe(first()).toPromise();\r\n      return (\r\n        localStorage.getItem(\"role\") != null &&\r\n        localStorage.getItem(\"role\") == \"Admin\"\r\n      );\r\n    }\r\n    getRole()\r\n    {\r\n        return localStorage.getItem(\"role\");\r\n    }\r\n    loginByEmailPassword(email: string, password: string) {\r\n      return this.auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n    createUserByEmailPassword(email: string, password: string) {\r\n      return this.auth.createUserWithEmailAndPassword(email, password);\r\n    }\r\n    logout() {\r\n      return this.auth.signOut();\r\n    }\r\n    forgotpassword(email: string) {\r\n      return this.auth.sendPasswordResetEmail(email);\r\n    }\r\n    async changepassword(oldpassword: string, newpassword: string) {\r\n      var user = await this.auth.authState.pipe(first()).toPromise();\r\n      var credential = firebase.auth.EmailAuthProvider.credential(\r\n        user.email,\r\n        oldpassword\r\n      );\r\n      var response = await (await this.auth.currentUser)\r\n        .reauthenticateWithCredential(credential)\r\n        \r\n      if (response.user != null) {\r\n        var newresponse = await user.updatePassword(newpassword).then();\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  ","import { Injectable } from \"@angular/core\";\r\nimport {\r\n  AngularFirestore,\r\n  AngularFirestoreDocument,\r\n  DocumentSnapshot,\r\n} from \"@angular/fire/firestore\";\r\nimport { arch } from \"os\";\r\n\r\nimport { Apartmentdto, Invoicedto } from '../models/apartmentdto';\r\nimport { apartmenttypes } from \"../models/apartmenttypesdto\";\r\nimport {\r\n  PlanDto,\r\n  PlanScheduleDto,\r\n  SalesDto,\r\n  Transaction,\r\n} from \"../models/plandto\";\r\nimport { ApputilsService } from \"../helpers/apputils.service\";\r\nimport { CustomerDto, creditamounts } from '../models/customerinfo';\r\nimport { query } from \"@angular/animations\";\r\nimport { metadata } from \"../models/metadata\";\r\nimport { User } from \"../models\";\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class firebaseStoreService {\r\n  getransactionbytransactionid(val: string) {\r\n    return this.fs.collection(this.transactionsCollection,res=>res.where(\"transactionid\",\"==\",val));\r\n  }\r\n  updateSaleStatus(id:string, Completed: string) {\r\n    return this.fs.collection(this.salesCollection).doc(id).update({\"status\":Completed});\r\n  }\r\n  changeApartmentStatus(apartmentid: string, HoldStatus: string) {\r\n    return this.fs\r\n      .collection(this.apartments)\r\n      .doc(apartmentid)\r\n      .update({ status: HoldStatus });\r\n  }\r\n  constructor(public fs: AngularFirestore, public appUtils: ApputilsService) {}\r\n  apartments = \"apartments\";\r\n  apartmenttypesCollection = \"apartmenttypes\";\r\n  planCollection = \"plans\";\r\n  salesCollection = \"sales\";\r\n  customersCollection = \"customers\";\r\n  planinvoicesCollection = \"planinvoices\";\r\n  metadataCollection = \"metadata\";\r\n  transactionsCollection = \"transactions\";\r\n  creditCollection = \"credits\";\r\n  usersCollection=\"users\";\r\n\r\n  async addCustomer(customer: CustomerDto) {\r\n    var doc = this.fs.collection(this.customersCollection).doc();\r\n    customer.id = doc.ref.id;\r\n    await doc.set(customer).then();\r\n    return customer.id;\r\n  }\r\n\r\n  getUserById(id:string)\r\n  {\r\n    return this.fs.collection<User>(this.usersCollection).doc(id);\r\n  }\r\n  getusers()\r\n  {\r\n    return this.fs.collection<User>(this.usersCollection);\r\n  }\r\n  updateuser(usr:User)\r\n  {\r\n    return this.fs.collection<User>(this.usersCollection).doc(usr.uid).update(usr);\r\n  }\r\n\r\n  async getTotalAmountReceivedThisMonth(startdate:any,enddate:any)\r\n  {\r\n    return this.fs.collection<Transaction>(this.transactionsCollection,(res)=>res.where(\"transactiondate\",\">=\",startdate).where(\"transactiondate\",\"<=\",enddate).where(\"status\",\"==\",\"Successfull\"));\r\n  }\r\n  async getAllTotalAmountReceivedThisMonth()\r\n  {\r\n    return this.fs.collection<Transaction>(this.transactionsCollection,(res)=>res.where(\"status\",\"==\",\"Successfull\"));\r\n  }\r\n  // async getTotalSoldApartment()\r\n  // {\r\n  //   return  (await this.fs.collection<SalesDto>(this).get().toPromise()).docs.length;\r\n  // }\r\n  async GetUpComingInvoices(currentdate: Date, lastdate: Date) {\r\n    debugger;\r\n    var invoices = await this.fs\r\n      .collection<PlanScheduleDto>(this.planinvoicesCollection, (res) =>\r\n        res\r\n          .where(\"invoicepaid\", \"==\", false)\r\n          .where(\"invoicedueon\", \">=\", currentdate)\r\n          .where(\"invoicedueon\", \"<=\", lastdate)\r\n      )\r\n      .get()\r\n      .toPromise();\r\n    let invoicelist: PlanScheduleDto[] = [];\r\n    invoices.forEach((e) => {\r\n      invoicelist.push(e.data());\r\n    });\r\n    return invoicelist;\r\n  }\r\n  async GetAllUpComingInvoices(currentdate: Date, ) {\r\n    debugger;\r\n    var invoices = await this.fs\r\n      .collection<PlanScheduleDto>(this.planinvoicesCollection, (res) =>\r\n        res\r\n          .where(\"invoicepaid\", \"==\", false)\r\n          .where(\"invoicedueon\", \">=\", currentdate)\r\n         \r\n      )\r\n      .get()\r\n      .toPromise();\r\n    let invoicelist: PlanScheduleDto[] = [];\r\n    invoices.forEach((e) => {\r\n      invoicelist.push(e.data());\r\n    });\r\n    return invoicelist;\r\n  }\r\n  async gettransactionsbybank(bank:string)\r\n  {\r\n   return this.fs.collection<Transaction>(this.transactionsCollection,res=>res.where(\"iban\",\"==\",bank).orderBy(\"transactiondate\")).get().toPromise();\r\n  }\r\n  getallinvoices()\r\n  {\r\n    return this.fs.collection<PlanScheduleDto>(this.planinvoicesCollection);\r\n  }\r\n  async gettrialbalance()\r\n  {\r\n    this.fs.collectionGroup<creditamounts>(\"credits\").get().forEach(e=>{\r\n\r\n      e.forEach(d=>{\r\n        console.log(d.data());\r\n      })\r\n    });\r\n   return  await this.fs.collection<Transaction>(this.transactionsCollection,res=>res.where(\"status\",\"==\",this.appUtils.TransactionSuccessfull).orderBy(\"transactiondate\")).get().toPromise();\r\n  }\r\n  async GetCustomerUpComingInvoices(\r\n    id: string,\r\n    currentdate: Date,\r\n    lastdate: Date\r\n  ) {\r\n    var invoices = await this.GetUpComingInvoices(currentdate, lastdate);\r\n    var customerplans = await this.getCustomerSales(id).get().toPromise();\r\n    invoices = invoices.filter(\r\n      (i) =>\r\n        customerplans.docs.filter((e) => e.data().id == i.planid).length > 0\r\n    );\r\n    return invoices;\r\n  }\r\n  async GetDueInvoices(currentdate: Date) {\r\n    let due: PlanScheduleDto[] = [];\r\n    var dueinvoices = await this.fs\r\n      .collection<PlanScheduleDto>(this.planinvoicesCollection, (res) =>\r\n        res\r\n          .where(\"invoicepaid\", \"==\", false)\r\n          .where(\"invoicedueon\", \"<=\", currentdate)\r\n      )\r\n      .get()\r\n      .toPromise();\r\n    dueinvoices.docs.forEach((e) => {\r\n      due.push(e.data());\r\n    });\r\n    return due;\r\n  }\r\n  async GetPaidInvoice() {\r\n    this.fs.collection(this.planinvoicesCollection, (res) =>\r\n      res.where(\"invoicepaid\", \"==\", true)\r\n    );\r\n  }\r\n\r\n  getinvoicebyid(id: string) {\r\n    return this.fs\r\n      .collection<PlanScheduleDto>(this.planinvoicesCollection)\r\n      .doc(id);\r\n  }\r\n  getmetadata() {\r\n    return this.fs.collection<metadata>(this.metadataCollection).doc(\"values\");\r\n  }\r\n  getCustomer() {\r\n    return this.fs.collection<CustomerDto>(this.customersCollection);\r\n  }\r\n  getCustomerCredits(id: string, tid: string) {\r\n    return this.fs\r\n      .collection(this.customersCollection)\r\n      .doc(id)\r\n      .collection<creditamounts>(this.creditCollection)\r\n      .doc(tid);\r\n  }\r\n  deleteCustomerCredit(id: string, tid: string) {\r\n    return this.fs\r\n      .collection(this.customersCollection)\r\n      .doc(id)\r\n      .collection<creditamounts>(this.creditCollection)\r\n      .doc(tid)\r\n      .delete();\r\n  }\r\n  async addSales(sale: SalesDto) {\r\n    var doc = this.fs.collection(this.salesCollection).doc();\r\n    sale.id = doc.ref.id;\r\n\r\n    debugger;\r\n    var batch = this.fs.firestore.batch();\r\n    sale.planscehdule.forEach((pl) => {\r\n      var doc = this.fs.collection(\"planinvoices\").doc();\r\n      pl.id = doc.ref.id;\r\n      pl.planid = sale.id;\r\n      batch.set(doc.ref, pl);\r\n    });\r\n\r\n    await batch.commit();\r\n    sale.planscehdule = null;\r\n\r\n    return doc.set(sale);\r\n  }\r\n  getSales() {\r\n    return this.fs.collection<SalesDto>(this.salesCollection);\r\n  }\r\n  async addtransaction(tr: Transaction, invoiceid: string) {\r\n    var doc = this.fs.collection(this.transactionsCollection).doc();\r\n    tr.id = doc.ref.id;\r\n    var invoice = (\r\n      await this.getinvoicebyid(invoiceid).get().toPromise()\r\n    ).data();\r\n    await doc.set(tr).then();\r\n\r\n    await this.runTransaction(tr);\r\n  }\r\n  async toggletransactionupdate(tid: string, status: boolean) {\r\n    return this.fs\r\n      .collection(this.transactionsCollection)\r\n      .doc(tid)\r\n      .update({ editable: status });\r\n  }\r\n  gettransactionbyid(id: string) {\r\n    return this.fs.collection<Transaction>(this.transactionsCollection).doc(id);\r\n  }\r\n  async updatetransaction(tr: Transaction) {\r\n    var updateTr = await this.fs\r\n      .collection(this.transactionsCollection)\r\n      .doc(tr.id)\r\n      .update(tr);\r\n    await this.runTransaction(tr);\r\n  }\r\n  async creditAmountToCustomer(id: string, creditamounts: creditamounts) {\r\n    return this.fs\r\n      .collection(this.customersCollection)\r\n      .doc(id)\r\n      .collection(this.creditCollection)\r\n      .doc(creditamounts.id)\r\n      .set(creditamounts);\r\n  }\r\n  async runTransaction(tr: Transaction) {\r\n    await this.fs.firestore\r\n      .runTransaction(async (t) => {\r\n        var transc = await this.getvalidtransactions(tr.invoiceid)\r\n          .get()\r\n          .toPromise();\r\n        var totalSum = 0;\r\n        transc.docs.forEach((e) => {\r\n          totalSum += e.data().amount;\r\n        });\r\n        var invoice = (\r\n          await this.getinvoicebyid(tr.invoiceid).get().toPromise()\r\n        ).data();\r\n        await this.updateInvoiceTransaction(totalSum, invoice);\r\n      })\r\n      .then();\r\n  }\r\n  async updateInvoiceTransaction(\r\n    amount: number,\r\n    invoicedetail: PlanScheduleDto\r\n  ) {\r\n    var amountLeft = invoicedetail.amount - amount;\r\n    invoicedetail.amountpaid = amount;\r\n    invoicedetail.amountleft = amountLeft;\r\n\r\n    invoicedetail.invoicepaid =\r\n      invoicedetail.amount == invoicedetail.amountpaid;\r\n    invoicedetail.invoicepaidon = null;\r\n\r\n    if (invoicedetail.invoicepaid) {\r\n      invoicedetail.invoicepaidon = this.appUtils.getServerTimestamp();\r\n    }\r\n\r\n    await this.updateinvoice(invoicedetail).then();\r\n  }\r\n\r\n  getalltransactions() {\r\n    return this.fs.collection<Transaction>(this.transactionsCollection, (res) =>\r\n      res.orderBy(\"transactiondate\", \"desc\")\r\n    );\r\n  }\r\n\r\n  gettransactions(invoiceid: string) {\r\n    return this.fs.collection<Transaction>(this.transactionsCollection, (res) =>\r\n      res.where(\"invoiceid\", \"==\", invoiceid).orderBy(\"transactiondate\", \"desc\")\r\n    );\r\n  }\r\n\r\n  getvalidtransactions(invoiceid: string) {\r\n    return this.fs.collection<Transaction>(this.transactionsCollection, (res) =>\r\n      res\r\n        .where(\"invoiceid\", \"==\", invoiceid)\r\n        .where(\"status\", \"==\", this.appUtils.TransactionSuccessfull)\r\n        .orderBy(\"transactiondate\", \"desc\")\r\n    );\r\n  }\r\n  async toggletransaction(invoiceid: string, tid: string, status: string) {\r\n    await this.fs\r\n      .collection(this.transactionsCollection)\r\n      .doc(tid)\r\n\r\n      .update({\r\n        status: status,\r\n      })\r\n      .then();\r\n    var tr = (\r\n      await this.fs\r\n        .collection<Transaction>(this.transactionsCollection)\r\n        .doc(tid)\r\n        .get()\r\n        .toPromise()\r\n    ).data();\r\n    return this.runTransaction(tr);\r\n  }\r\n  updateinvoice(invoice: PlanScheduleDto) {\r\n    return this.fs\r\n      .collection(this.planinvoicesCollection)\r\n      .doc(invoice.id)\r\n      .update(invoice);\r\n  }\r\n  getSalebyId(id: string) {\r\n    console.log(id);\r\n    return this.fs.collection<SalesDto>(this.salesCollection).doc(id);\r\n  }\r\n  getCustomerbyId(id: string) {\r\n    return this.fs.collection<CustomerDto>(this.customersCollection).doc(id);\r\n  }\r\n  getSaleInvoices(id: string, fetchtype: number = 0) {\r\n    if (fetchtype == 0) {\r\n      return this.fs.collection<PlanScheduleDto>(\r\n        this.planinvoicesCollection,\r\n        (res) => res.where(\"planid\", \"==\", id)\r\n      );\r\n    } else if (fetchtype == 1) {\r\n      return this.fs.collection<PlanScheduleDto>(\r\n        this.planinvoicesCollection,\r\n        (res) => res.where(\"planid\", \"==\", id).where(\"invoicepaid\", \"==\", true)\r\n      );\r\n    } else {\r\n      return this.fs.collection<PlanScheduleDto>(\r\n        this.planinvoicesCollection,\r\n        (res) => res.where(\"planid\", \"==\", id).where(\"invoicepaid\", \"==\", false)\r\n      );\r\n    }\r\n  }\r\n  getCustomerSales(id: string) {\r\n    return this.fs.collection<SalesDto>(this.salesCollection, (res) =>\r\n      res.where(\"customerid\", \"==\", id)\r\n    );\r\n  }\r\n  addapartmenttypes(apartmenttypes: apartmenttypes) {\r\n    var doc = this.fs.collection(this.apartmenttypesCollection).doc();\r\n    apartmenttypes.id = doc.ref.id;\r\n    return doc.set(apartmenttypes);\r\n  }\r\n  getapartmentbyid(id: string) {\r\n    return this.fs.collection<Apartmentdto>(this.apartments).doc(id);\r\n  }\r\n  getapartmenttypes() {\r\n    return this.fs.collection<apartmenttypes>(\r\n      this.apartmenttypesCollection,\r\n      (res) => res.orderBy(\"orderno\")\r\n    );\r\n  }\r\n  savePlan(PlanDto: PlanDto) {\r\n    var doc = this.fs.collection<PlanDto>(this.planCollection).doc();\r\n    PlanDto.id = doc.ref.id;\r\n    PlanDto.updatedat = this.appUtils.getServerTimestamp();\r\n    return doc.set(PlanDto);\r\n  }\r\n  getPlans() {\r\n    return this.fs.collection<PlanDto>(this.planCollection);\r\n  }\r\n  getPlanById(id: string) {\r\n    return this.fs.collection<PlanDto>(this.planCollection).doc(id);\r\n  }\r\n  deletePlanById(id: string) {\r\n    return this.fs.collection<PlanDto>(this.planCollection).doc(id).delete();\r\n  }\r\n  updatePlanById(PlanDto: PlanDto) {\r\n    PlanDto.updatedat = this.appUtils.getServerTimestamp();\r\n    return this.fs\r\n      .collection<PlanDto>(this.planCollection)\r\n      .doc(PlanDto.id)\r\n      .update(PlanDto);\r\n  }\r\n  deleteapartmenttype(id: string) {\r\n    return this.fs.collection(this.apartmenttypesCollection).doc(id).delete();\r\n  }\r\n  addapartments(Apartmentdto: Apartmentdto) {\r\n    var doc = this.fs.collection(this.apartments).doc();\r\n    Apartmentdto.docid = doc.ref.id;\r\n    return doc.set(Apartmentdto);\r\n  }\r\n  updateapartments(Apartmentdto: Apartmentdto) {\r\n    return this.fs\r\n      .collection(this.apartments)\r\n      .doc(Apartmentdto.docid)\r\n      .update(Apartmentdto);\r\n  }\r\n  getAllCustomerCredits(id: string) {\r\n    return this.fs\r\n      .collection(this.customersCollection)\r\n      .doc(id)\r\n      .collection<creditamounts>(this.creditCollection)\r\n      \r\n  }\r\n  getapartments(isarchive: boolean) {\r\n    return this.fs.collection(this.apartments, (res) =>\r\n      res.where(\"isarchive\", \"==\", isarchive)\r\n    );\r\n  }\r\n  getSALEapartments() {\r\n    return this.fs.collection(this.apartments, (res) =>\r\n      res.where(\"isarchive\", \"==\", false).where(\"status\", \"==\", \"Open\")\r\n    );\r\n  }\r\n  getSalebyApartment(id:string)\r\n  {\r\n    return this.fs.collection(this.salesCollection,(res)=>res.where(\"apartmentname\",\"==\",id));\r\n  }\r\n  async getApartments(arr: String[], isarchive: boolean = false) {\r\n    var apartment = await this.fs\r\n      .collection<Apartmentdto>(this.apartments, (res) =>\r\n        res.where(\"isarchive\", \"==\", isarchive)\r\n      )\r\n      .get()\r\n      .pipe()\r\n      .toPromise();\r\n    var apt: Apartmentdto[] = [];\r\n    apartment.docs.forEach((e) => {\r\n      apt.push(e.data());\r\n    });\r\n\r\n    return arr.length > 0 ? apt.filter((e) => arr.includes(e.status)) : apt;\r\n  }\r\n  archiveapartment(opt: boolean, id: string) {\r\n    return this.fs\r\n      .collection(this.apartments)\r\n      .doc(id)\r\n      .update({ isarchive: opt });\r\n  }\r\n  delete(Apartmentdto: Apartmentdto) {\r\n    return this.fs.collection(this.apartments).doc(Apartmentdto.docid).delete();\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { AngularFireFunctions } from \"@angular/fire/functions\";\r\nimport { User } from '../models/user';\r\n\r\n@Injectable({\r\n    providedIn: \"root\",\r\n  })\r\nexport class firefunctionsservice{\r\n\r\n    constructor(public af:AngularFireFunctions)\r\n    {\r\n\r\n    }\r\n\r\n    createUser(usr:User)\r\n    {\r\n        debugger;\r\n       var createUsr =  this.af.httpsCallable(\"createUser\");\r\n       return createUsr({\r\n           \"email\":usr.email,\r\n           \"password\":\"123456\",\r\n           \"name\":usr.name,\r\n           \"role\":usr.role\r\n       });\r\n    }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NotificationService {\r\n\r\n  constructor(private toastr: ToastrService) { }\r\n\r\n  showSuccess(message: string | undefined, title: string | undefined) {\r\n    this.toastr.success(message, title)\r\n  }\r\n\r\n  showError(message: string | undefined, title: string | undefined) {\r\n    this.toastr.error(message, title)\r\n  }\r\n\r\n  showInfo(message: string | undefined, title: string | undefined) {\r\n    this.toastr.info(message, title)\r\n  }\r\n\r\n  showWarning(message: string | undefined, title: string | undefined) {\r\n    this.toastr.warning(message, title)\r\n  }\r\n}\r\n","import { Injectable, TemplateRef } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ToastService {\r\n  toasts: any[] = [];\r\n\r\n  show(textOrTpl: string | TemplateRef<any>, options: any = {}) {\r\n    this.toasts.push({ textOrTpl, ...options });\r\n  }\r\n\r\n  remove(toast) {\r\n    this.toasts = this.toasts.filter(t => t !== toast);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from 'environments/environment';\r\nimport { User } from 'app/auth/models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UserService {\r\n  /**\r\n   *\r\n   * @param {HttpClient} _http\r\n   */\r\n  constructor(private _http: HttpClient) {}\r\n\r\n  /**\r\n   * Get all users\r\n   */\r\n  getAll() {\r\n    return this._http.get<User[]>(`${environment.apiUrl}/users`);\r\n  }\r\n\r\n  /**\r\n   * Get user by id\r\n   */\r\n  getById(id: number) {\r\n    return this._http.get<User>(`${environment.apiUrl}/users/${id}`);\r\n  }\r\n}\r\n","<!-- app-breadcrumb start -->\r\n<div\r\n  class=\"breadcrumb-wrapper d-flex\"\r\n  [ngClass]=\"{\r\n    'justify-content-center': breadcrumb.alignment == 'center',\r\n    'justify-content-end': breadcrumb.alignment == 'right'\r\n  }\"\r\n>\r\n  <ol\r\n    class=\"breadcrumb\"\r\n    [ngClass]=\"{\r\n      'breadcrumb-slash': breadcrumb.type == 'slash',\r\n      'breadcrumb-dots': breadcrumb.type == 'dots',\r\n      'breadcrumb-dashes': breadcrumb.type == 'dashes',\r\n      'breadcrumb-pipes': breadcrumb.type == 'pipes',\r\n      'breadcrumb-chevron': breadcrumb.type == 'chevron',\r\n      'mr-1': breadcrumb.alignment == 'right'\r\n    }\"\r\n  >\r\n    <li class=\"breadcrumb-item\" *ngFor=\"let link of breadcrumb.links\">\r\n      <a *ngIf=\"link.isLink\" routerLink=\"{{ link.link }}\">{{ link.name }}</a>\r\n      <span *ngIf=\"!link.isLink\">{{ link.name }}</span>\r\n    </li>\r\n  </ol>\r\n</div>\r\n<!-- app-breadcrumb end -->\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n// Breadcrumb component interface\r\nexport interface Breadcrumb {\r\n  type?: string;\r\n  alignment?: string;\r\n  links?: Array<{\r\n    name: string;\r\n    isLink: boolean;\r\n    link?: string;\r\n  }>;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-breadcrumb',\r\n  templateUrl: './breadcrumb.component.html'\r\n})\r\nexport class BreadcrumbComponent implements OnInit {\r\n  // input variable\r\n  @Input() breadcrumb: Breadcrumb;\r\n\r\n  constructor() {}\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit() {\r\n    // concatenate default properties with passed properties\r\n    this.breadcrumb = this.breadcrumb;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { BreadcrumbComponent } from 'app/layout/components/content-header/breadcrumb/breadcrumb.component';\r\n\r\n@NgModule({\r\n  declarations: [BreadcrumbComponent],\r\n  imports: [CommonModule, RouterModule.forChild([])],\r\n  exports: [BreadcrumbComponent]\r\n})\r\nexport class BreadcrumbModule {}\r\n","<!-- app-content-header start -->\r\n<ng-container *ngIf=\"contentHeader\">\r\n  <div class=\"content-header row\">\r\n    <div class=\"content-header-left col-md-9 col-12 mb-2\">\r\n      <div class=\"row breadcrumbs-top\">\r\n        <div class=\"col-12 d-flex\">\r\n          <h2 class=\"content-header-title float-left mb-0\">\r\n            {{ contentHeader.headerTitle }}\r\n          </h2>\r\n          <!-- app-breadcrumb component -->\r\n          <app-breadcrumb [breadcrumb]=\"contentHeader.breadcrumb\"></app-breadcrumb>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ng-container *ngIf=\"contentHeader.actionButton\">\r\n      <div class=\"content-header-right text-md-right col-md-3 col-12 d-md-block d-none\">\r\n        <div class=\"form-group breadcrum-right\">\r\n          <div ngbDropdown>\r\n            <button\r\n              ngbDropdownToggle\r\n              id=\"dropdownSettings\"\r\n              class=\"btn-icon btn btn-primary btn-round btn-sm\"\r\n              type=\"button\"\r\n              rippleEffect\r\n            >\r\n              <span [data-feather]=\"'grid'\"></span>\r\n            </button>\r\n            <div ngbDropdownMenu aria-labelledby=\"dropdownSettings\">\r\n              <a ngbDropdownItem [routerLink]=\"['/']\"\r\n                ><span [data-feather]=\"'check-square'\" [class]=\"'mr-50'\"></span> Todo</a\r\n              >\r\n              <a ngbDropdownItem [routerLink]=\"['/']\"\r\n                ><span [data-feather]=\"'message-square'\" [class]=\"'mr-50'\"></span> Chat</a\r\n              >\r\n              <a ngbDropdownItem [routerLink]=\"['/']\"><span [data-feather]=\"'mail'\" [class]=\"'mr-50'\"></span> Email</a>\r\n              <a ngbDropdownItem [routerLink]=\"['/']\"\r\n                ><span [data-feather]=\"'calendar'\" [class]=\"'mr-50'\"></span> Calendar</a\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</ng-container>\r\n<!-- app-content-header end -->\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n// ContentHeader component interface\r\nexport interface ContentHeader {\r\n  headerTitle: string;\r\n  actionButton: boolean;\r\n  breadcrumb?: {\r\n    type?: string;\r\n    links?: Array<{\r\n      name?: string;\r\n      isLink?: boolean;\r\n      link?: string;\r\n    }>;\r\n  };\r\n}\r\n\r\n@Component({\r\n  selector: 'app-content-header',\r\n  templateUrl: './content-header.component.html'\r\n})\r\nexport class ContentHeaderComponent implements OnInit {\r\n  // input variable\r\n  @Input() contentHeader: ContentHeader;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { CoreCommonModule } from '@core/common.module';\r\n\r\nimport { BreadcrumbModule } from 'app/layout/components/content-header/breadcrumb/breadcrumb.module';\r\nimport { ContentHeaderComponent } from 'app/layout/components/content-header/content-header.component';\r\n\r\n@NgModule({\r\n  declarations: [ContentHeaderComponent],\r\n  imports: [CommonModule, RouterModule, CoreCommonModule, BreadcrumbModule, NgbModule],\r\n  exports: [ContentHeaderComponent]\r\n})\r\nexport class ContentHeaderModule {}\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { CoreConfigService } from '@core/services/config.service';\r\nimport { fadeInLeft, zoomIn, fadeIn } from '@core/animations/core.animation';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'content',\r\n  templateUrl: './content.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations: [fadeInLeft, zoomIn, fadeIn]\r\n})\r\nexport class ContentComponent {\r\n  public coreConfig: any;\r\n  public animate;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {CoreConfigService} _coreConfigService\r\n   *\r\n   */\r\n  constructor(private _coreConfigService: CoreConfigService) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  /**\r\n   * Fade In Left Animation\r\n   *\r\n   * @param outlet\r\n   */\r\n  fadeInLeft(outlet) {\r\n    if (this.animate === 'fadeInLeft') {\r\n      return outlet.activatedRouteData.animation;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Zoom In Animation\r\n   *\r\n   * @param outlet\r\n   */\r\n  zoomIn(outlet) {\r\n    if (this.animate === 'zoomIn') {\r\n      return outlet.activatedRouteData.animation;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Fade In Animation\r\n   *\r\n   * @param outlet\r\n   */\r\n  fadeIn(outlet) {\r\n    if (this.animate === 'fadeIn') {\r\n      return outlet.activatedRouteData.animation;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On Init\r\n   */\r\n  ngOnInit(): void {\r\n    // Subscribe config change\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n      this.animate = this.coreConfig.layout.animation;\r\n    });\r\n  }\r\n}\r\n","<!-- Create a template reference to the outlet directive with the template variable assignment #outlet=\"outlet\".\r\nWith this reference to the outlet directive, we can get the information of when the router outlet is active to trigger our animations. -->\r\n<div [@zoomIn]=\"zoomIn(outlet)\" [@fadeInLeft]=\"fadeInLeft(outlet)\" [@fadeIn]=\"fadeIn(outlet)\">\r\n  <router-outlet #outlet=\"outlet\"></router-outlet>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { CoreCommonModule } from '@core/common.module';\r\n\r\nimport { ContentComponent } from 'app/layout/components/content/content.component';\r\n\r\n@NgModule({\r\n  declarations: [ContentComponent],\r\n  imports: [RouterModule, CoreCommonModule],\r\n  exports: [ContentComponent]\r\n})\r\nexport class ContentModule {}\r\n","import { OnInit, OnDestroy, Component } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { CoreConfigService } from '@core/services/config.service';\r\n\r\n@Component({\r\n  selector: 'footer',\r\n  templateUrl: './footer.component.html'\r\n})\r\nexport class FooterComponent implements OnInit, OnDestroy {\r\n  public coreConfig: any;\r\n  public year: number = new Date().getFullYear();\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {CoreConfigService} _coreConfigService\r\n   */\r\n  constructor(public _coreConfigService: CoreConfigService) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Lifecycle hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Subscribe to config changes\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<!-- Footer -->\r\n<p class=\"clearfix mb-0 print-hide\">\r\n    <span class=\"float-md-left d-block d-md-inline-block mt-25\">\r\n\r\n    <!-- <a class=\"ml-25\" href=\"#\" target=\"_blank\">Muhammad Tayyab Tariq</a>\r\n    <span class=\"d-none d-sm-inline-block\">, All rights Reserved</span> -->\r\n    </span>\r\n    <!-- <span class=\"float-md-right d-none d-md-block\">\r\n    Hand-crafted & Made with <span [data-feather]=\"'heart'\" [class]=\"'pink'\"></span>\r\n    </span> -->\r\n</p>\r\n<!--/ Footer -->\r\n\r\n<!-- Move to top Button-->\r\n<!-- <app-scroll-top *ngIf=\"coreConfig.layout.scrollTop\"></app-scroll-top> -->\r\n\r\n<!-- Buynow Button\r\n<div class=\"buy-now\">\r\n    <a href=\"https://1.envato.market/vuexy_admin\" target=\"_blank\" class=\"btn btn-danger\" *ngIf=\"coreConfig.layout.buyNow\">Buy Now</a\r\n  >\r\n</div> -->","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { CoreCommonModule } from '@core/common.module';\r\n\r\nimport { FooterComponent } from 'app/layout/components/footer/footer.component';\r\nimport { ScrollTopComponent } from 'app/layout/components/footer/scroll-to-top/scroll-top.component';\r\n\r\n@NgModule({\r\n  declarations: [FooterComponent, ScrollTopComponent],\r\n  imports: [RouterModule, CoreCommonModule],\r\n  exports: [FooterComponent]\r\n})\r\nexport class FooterModule {}\r\n","import { Component, OnInit, Inject, HostListener } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-scroll-top',\r\n  templateUrl: './scroll-top.component.html',\r\n  styleUrls: ['./scroll-top.component.scss']\r\n})\r\nexport class ScrollTopComponent implements OnInit {\r\n  windowScrolled: boolean;\r\n  topOffset: number = 150; // Top offset to display scroll to top button\r\n\r\n  constructor(@Inject(DOCUMENT) private document: Document) {}\r\n\r\n  @HostListener('window:scroll', [])\r\n  onWindowScroll() {\r\n    if (\r\n      window.pageYOffset > this.topOffset ||\r\n      document.documentElement.scrollTop > this.topOffset ||\r\n      document.body.scrollTop > this.topOffset\r\n    ) {\r\n      this.windowScrolled = true;\r\n    } else if (\r\n      (this.windowScrolled && window.pageYOffset) ||\r\n      document.documentElement.scrollTop ||\r\n      document.body.scrollTop < 10\r\n    ) {\r\n      this.windowScrolled = false;\r\n    }\r\n  }\r\n\r\n  scrollToTop() {\r\n    (function smoothscroll() {\r\n      var currentScroll = document.documentElement.scrollTop || document.body.scrollTop;\r\n\r\n      if (currentScroll > 0) {\r\n        window.requestAnimationFrame(smoothscroll);\r\n        window.scrollTo(0, currentScroll - currentScroll / 8);\r\n      }\r\n    })();\r\n  }\r\n\r\n  ngOnInit() {}\r\n}\r\n","<!--Scroll to top-->\r\n<button\r\n  class=\"btn btn-primary btn-icon scroll-to-top\"\r\n  [ngClass]=\"{ 'show-scroll-to-top': windowScrolled }\"\r\n  type=\"button\"\r\n  (click)=\"scrollToTop()\"\r\n  rippleEffect\r\n>\r\n  <span [data-feather]=\"'arrow-up'\"></span>\r\n</button>\r\n","import { Component, OnInit, OnDestroy, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil, filter } from 'rxjs/operators';\r\n\r\nimport { CoreConfigService } from '@core/services/config.service';\r\nimport { CoreMenuService } from '@core/components/core-menu/core-menu.service';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\n\r\n@Component({\r\n  selector: 'horizontal-menu',\r\n  templateUrl: './horizontal-menu.component.html',\r\n  styleUrls: ['./horizontal-menu.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class HorizontalMenuComponent implements OnInit, OnDestroy {\r\n  coreConfig: any;\r\n  menu: any;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {CoreConfigService} _coreConfigService\r\n   * @param {CoreMenuService} _coreMenuService\r\n   * @param {CoreSidebarService} _coreSidebarService\r\n   */\r\n  constructor(\r\n    private _coreConfigService: CoreConfigService,\r\n    private _coreMenuService: CoreMenuService,\r\n    private _coreSidebarService: CoreSidebarService\r\n  ) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On Init\r\n   */\r\n  ngOnInit(): void {\r\n    // Subscribe config change\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n    });\r\n\r\n    // Get current menu\r\n    this._coreMenuService.onMenuChanged\r\n      .pipe(\r\n        filter(value => value !== null),\r\n        takeUntil(this._unsubscribeAll)\r\n      )\r\n      .subscribe(() => {\r\n        this.menu = this._coreMenuService.getCurrentMenu();\r\n      });\r\n  }\r\n\r\n  /**\r\n   * On Destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","<!-- Main menu -->\r\n<div class=\"navbar-container main-menu-content\">\r\n  <ul class=\"nav navbar-nav\" id=\"main-menu-navigation\" layout=\"horizontal\" core-menu></ul>\r\n</div>\r\n<!--/ Main menu -->\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { CoreMenuModule } from '@core/components';\r\nimport { CoreCommonModule } from '@core/common.module';\r\n\r\nimport { HorizontalMenuComponent } from 'app/layout/components/menu/horizontal-menu/horizontal-menu.component';\r\n\r\n@NgModule({\r\n  declarations: [HorizontalMenuComponent],\r\n  imports: [CoreMenuModule, CoreCommonModule],\r\n  exports: [HorizontalMenuComponent]\r\n})\r\nexport class HorizontalMenuModule {}\r\n","<!-- Vertical Menu -->\r\n<ng-container *ngIf=\"menuType === 'vertical-menu'\">\r\n  <vertical-menu></vertical-menu>\r\n</ng-container>\r\n<!--/ Vertical Menu -->\r\n\r\n<!-- Horizontal Menu -->\r\n<ng-container *ngIf=\"menuType === 'horizontal-menu'\">\r\n  <horizontal-menu></horizontal-menu>\r\n</ng-container>\r\n<!--/ Horizontal Menu -->\r\n","import { Component, ElementRef, Input, Renderer2, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MenuComponent {\r\n  private _menuType: string;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {ElementRef} _elementRef\r\n   * @param {Renderer2} _renderer\r\n   */\r\n  constructor(private _elementRef: ElementRef, private _renderer: Renderer2) {\r\n    // Set the default menu\r\n    this._menuType = 'vertical-menu';\r\n  }\r\n\r\n  // Accessors\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  //Get the menu type\r\n  get menuType(): string {\r\n    return this._menuType;\r\n  }\r\n\r\n  @Input()\r\n  //Set the menu type to the native element\r\n  set menuType(value: string) {\r\n    // Remove the old class name from native element\r\n    this._renderer.removeClass(this._elementRef.nativeElement, this.menuType);\r\n\r\n    // Store the menuType value\r\n    this._menuType = value;\r\n\r\n    // Add the new class name from native element\r\n    this._renderer.addClass(this._elementRef.nativeElement, value);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { CoreCommonModule } from '@core/common.module';\r\n\r\nimport { MenuComponent } from 'app/layout/components/menu/menu.component';\r\nimport { VerticalMenuModule } from 'app/layout/components/menu/vertical-menu/vertical-menu.module';\r\nimport { HorizontalMenuModule } from 'app/layout/components/menu/horizontal-menu/horizontal-menu.module';\r\n\r\n@NgModule({\r\n  declarations: [MenuComponent],\r\n  imports: [CoreCommonModule, VerticalMenuModule, HorizontalMenuModule],\r\n  exports: [MenuComponent]\r\n})\r\nexport class MenuModule {}\r\n","import { Component, OnInit, OnDestroy, ViewChild, HostListener, ViewEncapsulation } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { take, takeUntil, filter } from 'rxjs/operators';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar';\r\n\r\nimport { CoreConfigService } from '@core/services/config.service';\r\nimport { CoreMenuService } from '@core/components/core-menu/core-menu.service';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\n\r\n@Component({\r\n  selector: 'vertical-menu',\r\n  templateUrl: './vertical-menu.component.html',\r\n  styleUrls: ['./vertical-menu.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class VerticalMenuComponent implements OnInit, OnDestroy {\r\n  coreConfig: any;\r\n  menu: any;\r\n  isCollapsed: boolean;\r\n  isScrolled: boolean = false;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {CoreConfigService} _coreConfigService\r\n   * @param {CoreMenuService} _coreMenuService\r\n   * @param {CoreSidebarService} _coreSidebarService\r\n   * @param {Router} _router\r\n   */\r\n  constructor(\r\n    private _coreConfigService: CoreConfigService,\r\n    private _coreMenuService: CoreMenuService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    private _router: Router\r\n  ) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  @ViewChild(PerfectScrollbarDirective, { static: false }) directiveRef?: PerfectScrollbarDirective;\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On Init\r\n   */\r\n  ngOnInit(): void {\r\n    // Subscribe config change\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n    });\r\n\r\n    this.isCollapsed = this._coreSidebarService.getSidebarRegistry('menu').collapsed;\r\n\r\n    // Close the menu on router NavigationEnd (Required for small screen to close the menu on select)\r\n    this._router.events\r\n      .pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        takeUntil(this._unsubscribeAll)\r\n      )\r\n      .subscribe(() => {\r\n        if (this._coreSidebarService.getSidebarRegistry('menu')) {\r\n          this._coreSidebarService.getSidebarRegistry('menu').close();\r\n        }\r\n      });\r\n\r\n    // scroll to active on navigation end\r\n    this._router.events\r\n      .pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        take(1)\r\n      )\r\n      .subscribe(() => {\r\n        setTimeout(() => {\r\n          this.directiveRef.scrollToElement('.navigation .active', -180, 500);\r\n        });\r\n      });\r\n\r\n    // Get current menu\r\n    this._coreMenuService.onMenuChanged\r\n      .pipe(\r\n        filter(value => value !== null),\r\n        takeUntil(this._unsubscribeAll)\r\n      )\r\n      .subscribe(() => {\r\n        this.menu = this._coreMenuService.getCurrentMenu();\r\n      });\r\n  }\r\n\r\n  /**\r\n   * On Destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n\r\n  // Public Methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On Sidebar scroll set isScrolled as true\r\n   */\r\n  onSidebarScroll(): void {\r\n    if (this.directiveRef.position(true).y > 3) {\r\n      this.isScrolled = true;\r\n    } else {\r\n      this.isScrolled = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle sidebar expanded status\r\n   */\r\n  toggleSidebar(): void {\r\n    this._coreSidebarService.getSidebarRegistry('menu').toggleOpen();\r\n  }\r\n\r\n  /**\r\n   * Toggle sidebar collapsed status\r\n   */\r\n  toggleSidebarCollapsible(): void {\r\n    // Get the current menu state\r\n    this._coreConfigService\r\n      .getConfig()\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(config => {\r\n        this.isCollapsed = config.layout.menu.collapsed;\r\n      });\r\n\r\n    if (this.isCollapsed) {\r\n      this._coreConfigService.setConfig({ layout: { menu: { collapsed: false } } }, { emitEvent: true });\r\n    } else {\r\n      this._coreConfigService.setConfig({ layout: { menu: { collapsed: true } } }, { emitEvent: true });\r\n    }\r\n  }\r\n}\r\n","<!-- Menu header -->\r\n<div class=\"navbar-header\">\r\n  <ul class=\"nav navbar-nav flex-row\">\r\n    <li class=\"nav-item mr-auto\">\r\n      <!-- App Branding -->\r\n      <a class=\"navbar-brand\" [routerLink]=\"['/']\">\r\n        <span class=\"brand-logo\">\r\n          <img src=\"{{ coreConfig.app.appLogoImage }}\" alt=\"brand-logo\" />\r\n        </span>\r\n        <h2 class=\"brand-text mb-0\">{{ coreConfig.app.appName }}</h2>\r\n      </a>\r\n    </li>\r\n\r\n    <!-- Menu Toggler -->\r\n    <li class=\"nav-item nav-toggle\">\r\n      <a class=\"nav-link modern-nav-toggle d-none d-xl-block pr-0\" (click)=\"toggleSidebarCollapsible()\">\r\n        <i\r\n          [ngClass]=\"isCollapsed === true ? 'icon-circle' : 'icon-disc'\"\r\n          class=\"toggle-icon feather font-medium-4 collapse-toggle-icon text-primary\"\r\n        ></i>\r\n      </a>\r\n      <a class=\"nav-link modern-nav-toggle d-block d-xl-none pr-0\" (click)=\"toggleSidebar()\">\r\n        <i data-feather=\"x\" class=\"font-medium-4 text-primary toggle-icon\"></i>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\r\n<!--/ Menu header -->\r\n\r\n<!-- Navbar shadow -->\r\n<div class=\"shadow-bottom\" [ngClass]=\"{ 'd-block': isScrolled }\"></div>\r\n\r\n<!-- Main menu -->\r\n<div class=\"main-menu-content\" [perfectScrollbar] (scroll)=\"onSidebarScroll()\">\r\n  <ul class=\"navigation navigation-main\" layout=\"vertical\" core-menu></ul>\r\n</div>\r\n<!--/ Main menu -->\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { PERFECT_SCROLLBAR_CONFIG } from 'ngx-perfect-scrollbar';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\n\r\nimport { CoreMenuModule } from '@core/components';\r\nimport { CoreCommonModule } from '@core/common.module';\r\n\r\nimport { VerticalMenuComponent } from 'app/layout/components/menu/vertical-menu/vertical-menu.component';\r\n\r\nconst DEFAULT_PERFECT_SCROLLBAR_CONFIG: PerfectScrollbarConfigInterface = {\r\n  suppressScrollX: true,\r\n  wheelPropagation: false\r\n};\r\n@NgModule({\r\n  declarations: [VerticalMenuComponent],\r\n  imports: [CoreMenuModule, CoreCommonModule, PerfectScrollbarModule, RouterModule],\r\n  providers: [\r\n    {\r\n      provide: PERFECT_SCROLLBAR_CONFIG,\r\n      useValue: DEFAULT_PERFECT_SCROLLBAR_CONFIG\r\n    }\r\n  ],\r\n  exports: [VerticalMenuComponent]\r\n})\r\nexport class VerticalMenuModule {}\r\n","<!-- Bookmarked Icons -->\r\n<ul class=\"nav navbar-nav bookmark-icons\">\r\n  <ng-container *ngFor=\"let page of bookmarkedItems\">\r\n    <li class=\"nav-item d-none d-lg-block\">\r\n      <a class=\"nav-link\" [routerLink]=\"page.link\" placement=\"bottom\" ngbTooltip=\"{{ page.title }}\">\r\n        <span [data-feather]=\"page.icon\" [class]=\"'ficon'\"></span>\r\n      </a>\r\n    </li>\r\n  </ng-container>\r\n</ul>\r\n<!-- Bookmarked Icons -->\r\n\r\n<ul class=\"nav navbar-nav\">\r\n  <li class=\"nav-item d-none d-lg-block\">\r\n    <!-- Bookmark Icon -->\r\n    <a class=\"nav-link bookmark-star\" (click)=\"toggleBookmarkPopup()\"\r\n      ><span [data-feather]=\"'star'\" [class]=\"'ficon text-warning'\"></span\r\n    ></a>\r\n    <!--/ Bookmark Icon -->\r\n\r\n    <!-- Bookmark Pop-up -->\r\n    <div class=\"bookmark-input search-input\" [class.show]=\"openBookmarkRef\">\r\n      <div class=\"bookmark-input-icon\"><span [data-feather]=\"'search'\"></span></div>\r\n      <input\r\n        class=\"form-control input\"\r\n        type=\"text\"\r\n        placeholder=\"Bookmark\"\r\n        #openBookmark\r\n        tabindex=\"0\"\r\n        data-search=\"search\"\r\n        (keyup)=\"bookmarkUpdate($event)\"\r\n        [(ngModel)]=\"bookmarkText\"\r\n      />\r\n\r\n      <!-- Auto Suggestion List -->\r\n      <ul class=\"search-list search-list-bookmark show\" [perfectScrollbar]>\r\n        <ng-container *ngIf=\"bookmarkText !== ''; else defaultBookmarks\">\r\n          <li\r\n            class=\"auto-suggestion\"\r\n            *ngFor=\"let page of pages | filter: bookmarkText:'title' | slice: 0:6; let i = index\"\r\n            [ngClass]=\"{ current_item: i === activeIndex }\"\r\n          >\r\n            <a\r\n              class=\"d-flex align-items-center justify-content-between w-100\"\r\n              [routerLink]=\"page.link\"\r\n              (click)=\"$event.stopPropagation(); $event.preventDefault(); closeBookmark(); removeOverlay()\"\r\n              ><div class=\"d-flex justify-content-start align-items-center\">\r\n                <i class=\"feather icon-{{ page.icon }} mr-75\"></i>\r\n                <span>{{ page.title }}</span>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn p-0\"\r\n                (click)=\"$event.stopPropagation(); $event.preventDefault(); toggleBookmark(page.id)\"\r\n              >\r\n                <i class=\"feather icon-star\" [class.text-warning]=\"page.isBookmarked\"></i>\r\n              </button>\r\n            </a>\r\n          </li>\r\n        </ng-container>\r\n        <ng-template #defaultBookmarks>\r\n          <ng-container *ngFor=\"let page of pages | filter: bookmarkText:'title'; let i = index\">\r\n            <li class=\"auto-suggestion\" *ngIf=\"page.isBookmarked\" [ngClass]=\"{ current_item: i === activeIndex }\">\r\n              <a\r\n                class=\"d-flex align-items-center justify-content-between w-100\"\r\n                [routerLink]=\"page.link\"\r\n                (click)=\"$event.stopPropagation(); $event.preventDefault(); closeBookmark(); removeOverlay()\"\r\n                ><div class=\"d-flex justify-content-start align-items-center\">\r\n                  <i class=\"feather icon-{{ page.icon }} mr-75\"></i>\r\n                  <span>{{ page.title }}</span>\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn p-0\"\r\n                  (click)=\"$event.stopPropagation(); $event.preventDefault(); toggleBookmark(page.id)\"\r\n                >\r\n                  <i class=\"feather icon-star\" [class.text-warning]=\"page.isBookmarked\"></i>\r\n                </button>\r\n              </a>\r\n            </li>\r\n          </ng-container>\r\n        </ng-template>\r\n      </ul>\r\n      <!--/ Auto Suggestion List -->\r\n    </div>\r\n    <!--/ Bookmark Pop-up -->\r\n  </li>\r\n</ul>\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { Component, ElementRef, HostListener, Inject, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { SearchService } from 'app/layout/components/navbar/navbar-search/search.service';\r\n\r\n@Component({\r\n  selector: 'app-navbar-bookmark',\r\n  templateUrl: './navbar-bookmark.component.html'\r\n})\r\nexport class NavbarBookmarkComponent implements OnInit {\r\n  // Public\r\n  public bookmarkText = '';\r\n  public openBookmarkRef = false;\r\n  public activeIndex = 0;\r\n  public apiData;\r\n  public pages = [];\r\n  public bookmarkSearchLimit;\r\n  public bookmarkedItems;\r\n\r\n  // Decorator\r\n  @ViewChild('openBookmark') private _bookmarkElement: ElementRef;\r\n  @HostListener('keydown.escape') fn() {\r\n    this.removeOverlay();\r\n    this.openBookmarkRef = false;\r\n    this.bookmarkText = '';\r\n  }\r\n  @HostListener('document:click', ['$event']) clickout(event) {\r\n    // Close Bookmark if Clicked on Overlay\r\n    if (event.target.className === 'content-overlay') {\r\n      this.removeOverlay();\r\n      this.openBookmarkRef = false;\r\n      this.bookmarkText = '';\r\n    }\r\n\r\n    // Close Bookmark if clicked Outside of Container\r\n    if (!(event.target.nodeName === 'INPUT') && this.openBookmarkRef === true) {\r\n      this.removeOverlay();\r\n      this.openBookmarkRef = false;\r\n      this.bookmarkText = '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param document\r\n   * @param _searchService\r\n   */\r\n  constructor(@Inject(DOCUMENT) private document, public _searchService: SearchService) {}\r\n\r\n  // Public Methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Add Bookmark\r\n   *\r\n   * @param id\r\n   */\r\n  addBookmark(id) {\r\n    const index = this.pages.findIndex(object => {\r\n      return object.id === id;\r\n    });\r\n    this.pages[index].isBookmarked = true;\r\n\r\n    this.bookmarkedItems.push(this.pages[index]);\r\n  }\r\n\r\n  /**\r\n   * Remove Bookmark\r\n   *\r\n   * @param id\r\n   */\r\n  removeBookmark(id) {\r\n    const index = this.bookmarkedItems.findIndex(object => {\r\n      return object.id === id;\r\n    });\r\n    this.bookmarkedItems[index].isBookmarked = false;\r\n    this.bookmarkedItems.splice(index, 1);\r\n  }\r\n\r\n  /**\r\n   * Open Bookmark\r\n   */\r\n  openBookmark() {\r\n    this.openBookmarkRef = true;\r\n    this._searchService.onIsBookmarkOpenChange.next(this.openBookmarkRef);\r\n  }\r\n\r\n  /**\r\n   * Close Bookmark\r\n   */\r\n  closeBookmark() {\r\n    this.openBookmarkRef = false;\r\n    this._searchService.onIsBookmarkOpenChange.next(this.openBookmarkRef);\r\n  }\r\n\r\n  /**\r\n   * Remove Overlay\r\n   */\r\n  removeOverlay() {\r\n    this.document.querySelector('.app-content').classList.remove('show-overlay');\r\n  }\r\n\r\n  /**\r\n   * Next Active Match\r\n   */\r\n  nextActiveMatch() {\r\n    this.activeIndex = this.activeIndex < this.bookmarkSearchLimit - 1 ? ++this.activeIndex : this.activeIndex;\r\n  }\r\n\r\n  /**\r\n   * Previous Active Match\r\n   */\r\n  prevActiveMatch() {\r\n    this.activeIndex = this.activeIndex > 0 ? --this.activeIndex : 0;\r\n  }\r\n\r\n  /**\r\n   * Auto Suggestion\r\n   *\r\n   * @param event\r\n   */\r\n  autoSuggestion(event) {\r\n    if (38 === event.keyCode) {\r\n      return this.prevActiveMatch();\r\n    }\r\n    if (40 === event.keyCode) {\r\n      return this.nextActiveMatch();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle Bookmark\r\n   *\r\n   * @param id\r\n   */\r\n  toggleBookmark(id) {\r\n    const index = this.pages.findIndex(object => {\r\n      return object.id === id;\r\n    });\r\n    if (this.pages[index].isBookmarked === true) {\r\n      this.removeBookmark(id);\r\n    } else {\r\n      this.addBookmark(id);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle Bookmark Popup\r\n   */\r\n  toggleBookmarkPopup() {\r\n    setTimeout(() => {\r\n      if (this.openBookmarkRef === false) {\r\n        this.openBookmark();\r\n      } else {\r\n        this.closeBookmark();\r\n      }\r\n      setTimeout(() => {\r\n        this._bookmarkElement.nativeElement.focus();\r\n      }, 0);\r\n    }, 0);\r\n  }\r\n\r\n  /**\r\n   * Update Bookmark\r\n   *\r\n   * @param event\r\n   */\r\n  bookmarkUpdate(event) {\r\n    const val = event.target.value.toLowerCase();\r\n    if (val !== '') {\r\n      this.document.querySelector('.app-content').classList.add('show-overlay');\r\n    } else {\r\n      this.document.querySelector('.app-content').classList.remove('show-overlay');\r\n    }\r\n    this.autoSuggestion(event);\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    this._searchService.onApiDataChange.subscribe(res => {\r\n      this.apiData = res;\r\n      this.pages = this.apiData[0].data;\r\n      this.bookmarkedItems = this.pages.filter(page => page.isBookmarked === true);\r\n      this.bookmarkSearchLimit = this.apiData[0].bookmarkLimit;\r\n    });\r\n    this._searchService.onIsBookmarkOpenChange.subscribe(res => {\r\n      this.openBookmarkRef = res;\r\n    });\r\n  }\r\n}\r\n","<li ngbDropdown class=\"nav-item dropdown-notification mr-25\">\r\n  <a class=\"nav-link\" ngbDropdownToggle id=\"navbarNotificationDropdown\"\r\n    ><i class=\"ficon\" data-feather=\"bell\"></i\r\n    ><span class=\"badge badge-pill badge-danger badge-up\">{{\r\n      notifications.messages?.length + notifications.systemMessages?.length\r\n    }}</span></a\r\n  >\r\n  <ul\r\n    ngbDropdownMenu\r\n    aria-labelledby=\"navbarNotificationDropdown\"\r\n    class=\"dropdown-menu dropdown-menu-media dropdown-menu-right\"\r\n  >\r\n    <!-- Notifications header -->\r\n    <li class=\"dropdown-menu-header\">\r\n      <div class=\"dropdown-header d-flex\">\r\n        <h4 class=\"notification-title mb-0 mr-auto\">Notifications</h4>\r\n        <div class=\"badge badge-pill badge-light-primary\">\r\n          {{ notifications.messages?.length + notifications.systemMessages?.length }} New\r\n        </div>\r\n      </div>\r\n    </li>\r\n    <!--/ Notifications header -->\r\n\r\n    <!-- Notifications content -->\r\n    <li class=\"scrollable-container media-list\" [perfectScrollbar]>\r\n      <a class=\"d-flex\" href=\"javascript:void(0)\" *ngFor=\"let message of notifications.messages\">\r\n        <div class=\"media d-flex align-items-start\">\r\n          <div class=\"media-left\">\r\n            <div class=\"avatar\">\r\n              <img [src]=\"message.image\" alt=\"avatar\" width=\"32\" height=\"32\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"media-body\">\r\n            <p class=\"media-heading\" [innerHTML]=\"message.heading\"></p>\r\n            <small class=\"notification-text\">{{ message.text }}</small>\r\n          </div>\r\n        </div></a\r\n      >\r\n      <div class=\"media d-flex align-items-center\">\r\n        <h6 class=\"font-weight-bolder mr-auto mb-0\">System Notifications</h6>\r\n        <div class=\"custom-control custom-control-primary custom-switch\">\r\n          <input\r\n            class=\"custom-control-input\"\r\n            id=\"systemNotification\"\r\n            type=\"checkbox\"\r\n            [checked]=\"notifications.system\"\r\n          />\r\n          <label class=\"custom-control-label\" for=\"systemNotification\"></label>\r\n        </div>\r\n      </div>\r\n      <a class=\"d-flex\" href=\"javascript:void(0)\" *ngFor=\"let systemMessage of notifications.systemMessages\">\r\n        <div class=\"media d-flex align-items-start\">\r\n          <div class=\"media-left\">\r\n            <div\r\n              class=\"avatar\"\r\n              [ngClass]=\"{\r\n                'bg-light-danger': systemMessage.icon === 'x',\r\n                'bg-light-success': systemMessage.icon === 'check',\r\n                'bg-light-warning': systemMessage.icon === 'alert-triangle'\r\n              }\"\r\n            >\r\n              <div class=\"avatar-content\"><i class=\"avatar-icon\" [data-feather]=\"systemMessage.icon\"></i></div>\r\n            </div>\r\n          </div>\r\n          <div class=\"media-body\">\r\n            <p class=\"media-heading\" [innerHTML]=\"systemMessage.heading\"></p>\r\n            <small class=\"notification-text\">{{ systemMessage.text }}</small>\r\n          </div>\r\n        </div></a\r\n      >\r\n    </li>\r\n    <!--/ Notifications content -->\r\n\r\n    <!-- Notifications footer -->\r\n    <li class=\"dropdown-menu-footer\">\r\n      <a class=\"btn btn-primary btn-block\" href=\"javascript:void(0)\">Read all notifications</a>\r\n    </li>\r\n    <!--/ Notifications footer -->\r\n  </ul>\r\n</li>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { NotificationsService } from 'app/layout/components/navbar/navbar-notification/notifications.service';\r\n\r\n// Interface\r\ninterface notification {\r\n  messages: [];\r\n  systemMessages: [];\r\n  system: Boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-navbar-notification',\r\n  templateUrl: './navbar-notification.component.html'\r\n})\r\nexport class NavbarNotificationComponent implements OnInit {\r\n  // Public\r\n  public notifications: notification;\r\n\r\n  /**\r\n   *\r\n   * @param {NotificationsService} _notificationsService\r\n   */\r\n  constructor(private _notificationsService: NotificationsService) {}\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    this._notificationsService.onApiDataChange.subscribe(res => {\r\n      this.notifications = res;\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NotificationsService {\r\n  // Public\r\n  public apiData = [];\r\n  public onApiDataChange: BehaviorSubject<any>;\r\n\r\n  /**\r\n   *\r\n   * @param {HttpClient} _httpClient\r\n   */\r\n  constructor(private _httpClient: HttpClient) {\r\n    this.onApiDataChange = new BehaviorSubject('');\r\n    this.getNotificationsData();\r\n  }\r\n\r\n  /**\r\n   * Get Notifications Data\r\n   */\r\n  getNotificationsData(): Promise<any[]> {\r\n    return new Promise((resolve, reject) => {\r\n      this._httpClient.get('api/notifications-data').subscribe((response: any) => {\r\n        this.apiData = response;\r\n        this.onApiDataChange.next(this.apiData);\r\n        resolve(this.apiData);\r\n      }, reject);\r\n    });\r\n  }\r\n}\r\n","<li class=\"nav-item nav-search\">\r\n  <!-- Search icon -->\r\n  <a class=\"nav-link nav-link-search\" (click)=\"toggleSearch()\"\r\n    ><span [data-feather]=\"'search'\" [class]=\"'ficon'\"></span\r\n  ></a>\r\n\r\n  <!-- Search -->\r\n  <div class=\"search-input\" [class.open]=\"openSearchRef === true\">\r\n    <!-- Search Input -->\r\n    <div class=\"search-input-icon\"><span [data-feather]=\"'search'\"></span></div>\r\n    <input\r\n      class=\"form-control input\"\r\n      type=\"text\"\r\n      placeholder=\"Explore Vuexy...\"\r\n      tabindex=\"-1\"\r\n      data-search=\"search\"\r\n      (keyup)=\"searchUpdate($event)\"\r\n      [(ngModel)]=\"searchText\"\r\n      #openSearch\r\n    /><button class=\"btn search-input-close p-0\" (click)=\"toggleSearch()\"><span [data-feather]=\"'x'\"></span></button>\r\n\r\n    <!-- Search List -->\r\n    <ul class=\"search-list search-list-main\" [perfectScrollbar] [class.show]=\"searchText !== ''\" #pageList>\r\n      <!-- Pages -->\r\n      <li class=\"d-flex align-items-center\">\r\n        <a href=\"javascript:void(0)\"><h6 class=\"section-label mt-75 mb-0\">Pages</h6></a>\r\n      </li>\r\n      <ng-container *ngIf=\"(pages | filter: searchText:'title').length; else noResultsPages\">\r\n        <li\r\n          class=\"auto-suggestion\"\r\n          *ngFor=\"let page of pages | filter: searchText:'title' | slice: 0:4; let i = index\"\r\n          [ngClass]=\"{ current_item: i === activeIndex }\"\r\n          [class.current_item]=\"page.hover\"\r\n          (mouseover)=\"page.hover = true\"\r\n          (mouseout)=\"page.hover = false\"\r\n        >\r\n          <a\r\n            class=\"d-flex align-items-center justify-content-between w-100\"\r\n            (click)=\"toggleSearch()\"\r\n            (keyup.enter)=\"navigate(page.link)\"\r\n            [routerLink]=\"page.link\"\r\n            ><div class=\"d-flex justify-content-start align-items-center\">\r\n              <i [data-feather]=\"page.icon\" class=\"mr-75\"></i><span>{{ page.title }}</span>\r\n            </div></a\r\n          >\r\n        </li>\r\n      </ng-container>\r\n\r\n      <!-- No results found -->\r\n      <ng-template #noResultsPages>\r\n        <li class=\"auto-suggestion justify-content-between\">\r\n          <a class=\"d-flex align-items-center justify-content-between w-100 py-50\">\r\n            <div class=\"d-flex justify-content-start\">\r\n              <i data-feather=\"alert-circle\" class=\"mr-25\"></i>\r\n              <span>No results found.</span>\r\n            </div></a\r\n          >\r\n        </li>\r\n      </ng-template>\r\n      <!--/ Pages -->\r\n\r\n      <!-- Files -->\r\n      <li class=\"d-flex align-items-center\">\r\n        <a href=\"javascript:void(0)\"><h6 class=\"section-label mt-75 mb-0\">Files</h6></a>\r\n      </li>\r\n      <ng-container *ngIf=\"(files | filter: searchText:'title').length; else noResultsFiles\">\r\n        <li\r\n          class=\"auto-suggestion\"\r\n          *ngFor=\"let file of files | filter: searchText:'title' | slice: 0:4\"\r\n          [ngClass]=\"{ current_item: i === activeIndex }\"\r\n        >\r\n          <a class=\"d-flex align-items-center justify-content-between w-100\" href=\"javascript:void(0)\"\r\n            ><div class=\"d-flex\">\r\n              <div class=\"mr-75\"><img [src]=\"file.file\" alt=\"png\" height=\"32\" /></div>\r\n              <div class=\"search-data\">\r\n                <p class=\"search-data-title mb-0\">{{ file.title }}</p>\r\n                <small class=\"text-muted\">{{ file.by }}</small>\r\n              </div>\r\n            </div>\r\n            <small class=\"search-data-size mr-50 text-muted\">{{ file.size }}</small></a\r\n          >\r\n        </li>\r\n      </ng-container>\r\n      <!-- No results found -->\r\n      <ng-template #noResultsFiles>\r\n        <li class=\"auto-suggestion justify-content-between\">\r\n          <a class=\"d-flex align-items-center justify-content-between w-100 py-50\">\r\n            <div class=\"d-flex justify-content-start\">\r\n              <i data-feather=\"alert-circle\" class=\"mr-25\"></i>\r\n              <span>No results found.</span>\r\n            </div></a\r\n          >\r\n        </li>\r\n      </ng-template>\r\n      <!--/ Files -->\r\n\r\n      <!-- Members -->\r\n      <li class=\"d-flex align-items-center\">\r\n        <a href=\"javascript:void(0)\"><h6 class=\"section-label mt-75 mb-0\">Members</h6></a>\r\n      </li>\r\n      <ng-container *ngIf=\"(contacts | filter: searchText:'title').length; else noResultsMembers\">\r\n        <li class=\"auto-suggestion\" *ngFor=\"let contact of contacts | filter: searchText:'title' | slice: 0:4\">\r\n          <a class=\"d-flex align-items-center justify-content-between py-50 w-100\" href=\"javascript:void(0)\"\r\n            ><div class=\"d-flex align-items-center\">\r\n              <div class=\"avatar mr-75\"><img [src]=\"contact.img\" alt=\"png\" height=\"32\" /></div>\r\n              <div class=\"search-data\">\r\n                <p class=\"search-data-title mb-0\">{{ contact.title }}</p>\r\n                <small class=\"text-muted\">{{ contact.email }}</small>\r\n              </div>\r\n            </div>\r\n            <small class=\"search-data-size mr-50 text-muted\">{{ contact.date }}</small></a\r\n          >\r\n        </li>\r\n      </ng-container>\r\n      <!-- No results found -->\r\n      <ng-template #noResultsMembers>\r\n        <li class=\"auto-suggestion justify-content-between\">\r\n          <a class=\"d-flex align-items-center justify-content-between w-100 py-50\">\r\n            <div class=\"d-flex justify-content-start\">\r\n              <i data-feather=\"alert-circle\" class=\"mr-25\"></i>\r\n              <span>No results found.</span>\r\n            </div></a\r\n          >\r\n        </li>\r\n      </ng-template>\r\n      <!--/ Members -->\r\n    </ul>\r\n    <!--/ Search List -->\r\n  </div>\r\n</li>\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { Component, ElementRef, HostListener, Inject, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { SearchService } from 'app/layout/components/navbar/navbar-search/search.service';\r\n\r\n@Component({\r\n  selector: 'app-navbar-search',\r\n  templateUrl: './navbar-search.component.html'\r\n})\r\nexport class NavbarSearchComponent implements OnInit {\r\n  // Public\r\n  public searchText = '';\r\n  public openSearchRef = false;\r\n  public activeIndex = 0;\r\n  public apiData;\r\n  public pages = [];\r\n  public files = [];\r\n  public contacts = [];\r\n  public pageSearchLimit;\r\n\r\n  // Decorators\r\n  @ViewChild('openSearch') private _inputElement: ElementRef;\r\n  @ViewChild('pageList') private _pageListElement: ElementRef;\r\n\r\n  @HostListener('keydown.escape') fn() {\r\n    this.removeOverlay();\r\n    this.openSearchRef = false;\r\n    this.searchText = '';\r\n  }\r\n  @HostListener('document:click', ['$event']) clickout(event) {\r\n    if (event.target.className === 'content-overlay') {\r\n      this.removeOverlay();\r\n      this.openSearchRef = false;\r\n      this.searchText = '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param document\r\n   * @param router\r\n   * @param _searchService\r\n   */\r\n  constructor(\r\n    @Inject(DOCUMENT) private document,\r\n    private _elementRef: ElementRef,\r\n    private router: Router,\r\n    public _searchService: SearchService\r\n  ) {}\r\n\r\n  // Public Methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Next Active Match\r\n   */\r\n  nextActiveMatch() {\r\n    this.activeIndex = this.activeIndex < this.pageSearchLimit - 1 ? ++this.activeIndex : this.activeIndex;\r\n  }\r\n\r\n  /**\r\n   * Previous Active Match\r\n   */\r\n  prevActiveMatch() {\r\n    this.activeIndex = this.activeIndex > 0 ? --this.activeIndex : 0;\r\n  }\r\n\r\n  /**\r\n   * Remove Overlay\r\n   */\r\n  removeOverlay() {\r\n    this.document.querySelector('.app-content').classList.remove('show-overlay');\r\n  }\r\n\r\n  /**\r\n   * Auto Suggestion\r\n   *\r\n   * @param event\r\n   */\r\n  autoSuggestion(event) {\r\n    if (38 === event.keyCode) {\r\n      return this.prevActiveMatch();\r\n    }\r\n    if (40 === event.keyCode) {\r\n      return this.nextActiveMatch();\r\n    }\r\n    if (13 === event.keyCode) {\r\n      // Navigate to activeIndex\r\n      // ! Todo: Improve this code\r\n      let current_item = this._pageListElement.nativeElement.getElementsByClassName('current_item');\r\n      current_item[0]?.children[0].click();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle Search\r\n   */\r\n  toggleSearch() {\r\n    this._searchService.onIsBookmarkOpenChange.next(false);\r\n    this.removeOverlay();\r\n    this.openSearchRef = !this.openSearchRef;\r\n    this.activeIndex = 0;\r\n    setTimeout(() => {\r\n      this._inputElement.nativeElement.focus();\r\n    });\r\n\r\n    if (this.openSearchRef === false) {\r\n      this.document.querySelector('.app-content').classList.remove('show-overlay');\r\n      this.searchText = '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Search Update\r\n   *\r\n   * @param event\r\n   */\r\n  searchUpdate(event) {\r\n    const val = event.target.value.toLowerCase();\r\n    if (val !== '') {\r\n      this.document.querySelector('.app-content').classList.add('show-overlay');\r\n    } else {\r\n      this.document.querySelector('.app-content').classList.remove('show-overlay');\r\n    }\r\n    this.autoSuggestion(event);\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    this._searchService.onApiDataChange.subscribe(res => {\r\n      this.apiData = res;\r\n      this.pages = this.apiData[0].data;\r\n      this.pageSearchLimit = this.apiData[0].searchLimit;\r\n      this.files = this.apiData[1].data;\r\n      this.contacts = this.apiData[2].data;\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SearchService {\r\n  // Public\r\n  public search = '';\r\n  public apiData = [];\r\n  public onApiDataChange: BehaviorSubject<any>;\r\n  public onIsBookmarkOpenChange: BehaviorSubject<any>;\r\n\r\n  /**\r\n   *\r\n   * @param {HttpClient} _httpClient\r\n   */\r\n  constructor(private _httpClient: HttpClient) {\r\n    this.onApiDataChange = new BehaviorSubject('');\r\n    this.onIsBookmarkOpenChange = new BehaviorSubject(false);\r\n    this.getSearchData();\r\n  }\r\n\r\n  /**\r\n   * Get Search Data\r\n   */\r\n  getSearchData(): Promise<any[]> {\r\n    return new Promise((resolve, reject) => {\r\n      this._httpClient.get('api/search-data').subscribe((response: any) => {\r\n        this.apiData = response;\r\n        this.onApiDataChange.next(this.apiData);\r\n        resolve(this.apiData);\r\n      }, reject);\r\n    });\r\n  }\r\n}\r\n","<div *ngIf=\"horizontalMenu\" class=\"navbar-header d-xl-block d-none\">\r\n    <!-- Navbar brand -->\r\n    <ul class=\"nav navbar-nav flex-row\">\r\n        <li class=\"nav-item\">\r\n            <a class=\"navbar-brand\" [routerLink]=\"['/']\">\r\n                <span class=\"brand-logo\">\r\n        <img src=\"{{ coreConfig.app.appLogoImage }}\" alt=\"brand-logo\" width=\"36\" />\r\n      </span>\r\n                <h2 class=\"brand-text mb-0\">{{ coreConfig.app.appName }}</h2>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n    <!--/ Navbar brand -->\r\n</div>\r\n\r\n<div class=\"navbar-container d-flex content\">\r\n    <div class=\"bookmark-wrapper d-flex align-items-center\">\r\n        <!-- Menu Toggler | Menu icon will be hidden in case of layout without menu -->\r\n        <ul class=\"nav navbar-nav d-xl-none\" *ngIf=\"!coreConfig.layout.menu.hidden\">\r\n            <li class=\"nav-item\">\r\n                <a class=\"nav-link menu-toggle\" (click)=\"toggleSidebar('menu')\">\r\n                    <span [data-feather]=\"'menu'\" [class]=\"'ficon'\"></span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <!--/ Menu Toggler -->\r\n\r\n        <!-- Toggle skin -->\r\n        <li class=\"nav-item d-none d-lg-block\">\r\n            <a type=\"button\" class=\"nav-link nav-link-style btn\" (click)=\"toggleDarkSkin()\">\r\n                <span [ngClass]=\"currentSkin === 'dark' ? 'icon-sun' : 'icon-moon'\" class=\"ficon font-medium-5 feather\"></span>\r\n            </a>\r\n        </li>\r\n        <!--/ Toggle skin -->\r\n    </div>\r\n\r\n    <ul class=\"nav navbar-nav align-items-center ml-auto\">\r\n        <!-- ? Language selection | Uncomment if needed-->\r\n        <!-- <li ngbDropdown class=\"nav-item dropdown dropdown-language\">\r\n    <a class=\"nav-link dropdown-toggle\" id=\"dropdown-flag\" ngbDropdownToggle>\r\n      <i class=\"flag-icon flag-icon-{{ languageOptions[_translateService.currentLang].flag }}\"></i\r\n      ><span class=\"selected-language\">{{ languageOptions[_translateService.currentLang].title }}</span></a\r\n    >\r\n    <div ngbDropdownMenu aria-labelledby=\"dropdown-flag\">\r\n      <a *ngFor=\"let lang of _translateService.getLangs()\" ngbDropdownItem (click)=\"setLanguage(lang)\">\r\n        <i class=\"flag-icon flag-icon-{{ languageOptions[lang].flag }}\"></i> {{ languageOptions[lang].title }}\r\n      </a>\r\n    </div>\r\n  </li> -->\r\n        <!--/ Language selection -->\r\n\r\n        <!-- User Dropdown -->\r\n        <li ngbDropdown class=\"nav-item dropdown-user\">\r\n            <a class=\"nav-link dropdown-toggle dropdown-user-link\" id=\"dropdown-user\" ngbDropdownToggle id=\"navbarUserDropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <div class=\"user-nav d-sm-flex d-none\">\r\n                    <span class=\"user-name font-weight-bolder\">{{this.AuthService.getemail()}}</span><span class=\"user-status\">{{this.AuthService.getname()}} &nbsp; ({{this.AuthService.getRole()}})</span>\r\n                </div>\r\n                <!-- <span class=\"avatar\"\r\n        ><img\r\n          class=\"round\"\r\n          src=\"../../../../assets/images/portrait/small/avatar-s-11.jpg\"\r\n          alt=\"avatar\"\r\n          height=\"40\"\r\n          width=\"40\" /><span class=\"avatar-status-online\"></span\r\n      ></span> -->\r\n            </a>\r\n            <div ngbDropdownMenu aria-labelledby=\"navbarUserDropdown\" class=\"dropdown-menu dropdown-menu-right\">\r\n\r\n                <div class=\"dropdown-divider\"></div>\r\n                <a ngbDropdownItem (click)=\"logout()\"><span [data-feather]=\"'power'\" [class]=\"'mr-50'\"></span> Logout</a\r\n      >\r\n    </div>\r\n  </li>\r\n  <!--/ User Dropdown -->\r\n</ul>\r\n</div>","import { Component, OnDestroy, OnInit, HostBinding, HostListener, ViewEncapsulation } from '@angular/core';\r\nimport { MediaObserver } from '@angular/flex-layout';\r\n\r\nimport * as _ from 'lodash';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { AuthenticationService } from 'app/auth/service';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\nimport { CoreConfigService } from '@core/services/config.service';\r\nimport { CoreMediaService } from '@core/services/media.service';\r\n\r\nimport { User } from 'app/auth/models';\r\n\r\nimport { coreConfig } from 'app/app-config';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../../auth/service/authservice';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NavbarComponent implements OnInit, OnDestroy {\r\n  public horizontalMenu: boolean;\r\n  public hiddenMenu: boolean;\r\n\r\n  public coreConfig: any;\r\n  public currentSkin: string;\r\n  public prevSkin: string;\r\n\r\n  public currentUser: User;\r\n\r\n  public languageOptions: any;\r\n  public navigation: any;\r\n  public selectedLanguage: any;\r\n\r\n  @HostBinding('class.fixed-top')\r\n  public isFixed = false;\r\n\r\n  @HostBinding('class.navbar-static-style-on-scroll')\r\n  public windowScrolled = false;\r\n\r\n  // Add .navbar-static-style-on-scroll on scroll using HostListener & HostBinding\r\n  @HostListener('window:scroll', [])\r\n  onWindowScroll() {\r\n    if (\r\n      (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop > 100) &&\r\n      this.coreConfig.layout.navbar.type == 'navbar-static-top' &&\r\n      this.coreConfig.layout.type == 'horizontal'\r\n    ) {\r\n      this.windowScrolled = true;\r\n    } else if (\r\n      (this.windowScrolled && window.pageYOffset) ||\r\n      document.documentElement.scrollTop ||\r\n      document.body.scrollTop < 10\r\n    ) {\r\n      this.windowScrolled = false;\r\n    }\r\n  }\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {Router} _router\r\n   * @param {AuthenticationService} _authenticationService\r\n   * @param {CoreConfigService} _coreConfigService\r\n   * @param {CoreSidebarService} _coreSidebarService\r\n   * @param {CoreMediaService} _coreMediaService\r\n   * @param {MediaObserver} _mediaObserver\r\n   * @param {TranslateService} _translateService\r\n   */\r\n  constructor(\r\n    private _router: Router,\r\n    private _authenticationService: AuthenticationService,\r\n    private _coreConfigService: CoreConfigService,\r\n    private _coreMediaService: CoreMediaService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    private _mediaObserver: MediaObserver,\r\n    public _translateService: TranslateService,\r\n    public AuthService:AuthService\r\n    \r\n  ) {\r\n    // this._authenticationService.currentUser.subscribe(x => (this.currentUser = x));\r\n\r\n    \r\n    this.languageOptions = {\r\n      en: {\r\n        title: 'English',\r\n        flag: 'us'\r\n      },\r\n      fr: {\r\n        title: 'French',\r\n        flag: 'fr'\r\n      },\r\n      de: {\r\n        title: 'German',\r\n        flag: 'de'\r\n      },\r\n      pt: {\r\n        title: 'Portuguese',\r\n        flag: 'pt'\r\n      }\r\n    };\r\n\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Public Methods\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Toggle sidebar open\r\n   *\r\n   * @param key\r\n   */\r\n  toggleSidebar(key): void {\r\n    this._coreSidebarService.getSidebarRegistry(key).toggleOpen();\r\n  }\r\n\r\n  /**\r\n   * Set the language\r\n   *\r\n   * @param language\r\n   */\r\n  setLanguage(language): void {\r\n    // Set the selected language for the navbar on change\r\n    this.selectedLanguage = language;\r\n\r\n    // Use the selected language id for translations\r\n    this._translateService.use(language);\r\n\r\n    this._coreConfigService.setConfig({ app: { appLanguage: language } }, { emitEvent: true });\r\n  }\r\n\r\n  /**\r\n   * Toggle Dark Skin\r\n   */\r\n  toggleDarkSkin() {\r\n    // Get the current skin\r\n    this._coreConfigService\r\n      .getConfig()\r\n      .pipe(takeUntil(this._unsubscribeAll))\r\n      .subscribe(config => {\r\n        this.currentSkin = config.layout.skin;\r\n      });\r\n\r\n    // Toggle Dark skin with prevSkin skin\r\n    this.prevSkin = localStorage.getItem('prevSkin');\r\n\r\n    if (this.currentSkin === 'dark') {\r\n      this._coreConfigService.setConfig(\r\n        { layout: { skin: this.prevSkin ? this.prevSkin : 'default' } },\r\n        { emitEvent: true }\r\n      );\r\n    } else {\r\n      localStorage.setItem('prevSkin', this.currentSkin);\r\n      this._coreConfigService.setConfig({ layout: { skin: 'dark' } }, { emitEvent: true });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Logout method\r\n   */\r\n  async logout() {\r\n    debugger;\r\n    await this._authenticationService.logout();\r\n    this._router.navigate(['/pages/authentication/login-v2']);\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // get the currentUser details from localStorage\r\n    // this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n\r\n    // Subscribe to the config changes\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n      this.horizontalMenu = config.layout.type === 'horizontal';\r\n      this.hiddenMenu = config.layout.menu.hidden === true;\r\n      this.currentSkin = config.layout.skin;\r\n\r\n      // Fix: for vertical layout if default navbar fixed-top than set isFixed = true\r\n      if (this.coreConfig.layout.type === 'vertical') {\r\n        setTimeout(() => {\r\n          if (this.coreConfig.layout.navbar.type === 'fixed-top') {\r\n            this.isFixed = true;\r\n          }\r\n        }, 0);\r\n      }\r\n    });\r\n\r\n    // Horizontal Layout Only: Add class fixed-top to navbar below large screen\r\n    if (this.coreConfig.layout.type == 'horizontal') {\r\n      // On every media(screen) change\r\n      this._coreMediaService.onMediaUpdate.pipe(takeUntil(this._unsubscribeAll)).subscribe(() => {\r\n        const isFixedTop = this._mediaObserver.isActive('bs-gt-xl');\r\n        if (isFixedTop) {\r\n          this.isFixed = false;\r\n        } else {\r\n          this.isFixed = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Set the selected language from default languageOptions\r\n    this.selectedLanguage = _.find(this.languageOptions, {\r\n      id: this._translateService.currentLang\r\n    });\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport {\r\n  PerfectScrollbarConfigInterface,\r\n  PerfectScrollbarModule,\r\n  PERFECT_SCROLLBAR_CONFIG\r\n} from 'ngx-perfect-scrollbar';\r\n\r\nimport { CoreCommonModule } from '@core/common.module';\r\nimport { CoreTouchspinModule } from '@core/components/core-touchspin/core-touchspin.module';\r\n\r\nimport { NavbarComponent } from 'app/layout/components/navbar/navbar.component';\r\nimport { NavbarBookmarkComponent } from 'app/layout/components/navbar/navbar-bookmark/navbar-bookmark.component';\r\nimport { NavbarSearchComponent } from 'app/layout/components/navbar/navbar-search/navbar-search.component';\r\n\r\nimport { NavbarNotificationComponent } from 'app/layout/components/navbar/navbar-notification/navbar-notification.component';\r\n\r\nconst DEFAULT_PERFECT_SCROLLBAR_CONFIG: PerfectScrollbarConfigInterface = {\r\n  suppressScrollX: true,\r\n  wheelPropagation: false\r\n};\r\n\r\n@NgModule({\r\n  declarations: [NavbarComponent, NavbarSearchComponent, NavbarBookmarkComponent, NavbarNotificationComponent],\r\n  imports: [RouterModule, NgbModule, CoreCommonModule, PerfectScrollbarModule, CoreTouchspinModule],\r\n  providers: [\r\n    {\r\n      provide: PERFECT_SCROLLBAR_CONFIG,\r\n      useValue: DEFAULT_PERFECT_SCROLLBAR_CONFIG\r\n    }\r\n  ],\r\n  exports: [NavbarComponent]\r\n})\r\nexport class NavbarModule {}\r\n","import { BREAKPOINT } from '@angular/flex-layout';\r\n\r\nconst BS_BREAKPOINTS = [\r\n  { alias: 'bs-xs', overlapping: false, mediaQuery: '(max-width: 575.98px)', suffix: 'BsXs' },\r\n  { alias: 'bs-sm', overlapping: false, mediaQuery: '(min-width: 576px) and (max-width: 767.98px)', suffix: 'BsSm' },\r\n  { alias: 'bs-md', overlapping: false, mediaQuery: '(min-width: 768px) and (max-width: 991.98px)', suffix: 'BsMd' },\r\n  { alias: 'bs-lg', overlapping: false, mediaQuery: '(min-width: 992px) and (max-width: 1199.98px)', suffix: 'BsLg' },\r\n  { alias: 'bs-xl', overlapping: false, mediaQuery: '(min-width: 1200px)', suffix: 'BsXl' },\r\n\r\n  { alias: 'bs-gt-sm', overlapping: false, mediaQuery: '(min-width: 576px)', suffix: 'BsGtSm' },\r\n  { alias: 'bs-gt-md', overlapping: false, mediaQuery: '(min-width: 768px)', suffix: 'BsGtMd' },\r\n  { alias: 'bs-gt-lg', overlapping: false, mediaQuery: '(min-width: 992px)', suffix: 'BsGtLg' },\r\n  { alias: 'bs-gt-xl', overlapping: false, mediaQuery: '(min-width: 1200px)', suffix: 'BsGtXl' },\r\n\r\n  { alias: 'bs-lt-sm', overlapping: false, mediaQuery: '(max-width: 575.98px)', suffix: 'BsLtSm' },\r\n  { alias: 'bs-lt-md', overlapping: false, mediaQuery: '(max-width: 767.98px)', suffix: 'BsLtMd' },\r\n  { alias: 'bs-lt-lg', overlapping: false, mediaQuery: '(max-width: 991.98px)', suffix: 'BsLtLg' },\r\n  { alias: 'bs-lt-xl', overlapping: false, mediaQuery: '(max-width: 1199.98px)', suffix: 'BsLtXl' }\r\n];\r\n\r\nexport const CustomBreakPointsProvider = {\r\n  provide: BREAKPOINT,\r\n  useValue: BS_BREAKPOINTS,\r\n  multi: true\r\n};\r\n","<!-- NAVBAR -->\r\n<ng-container *ngTemplateOutlet=\"navbar\"></ng-container>\r\n<!--/ NAVBAR -->\r\n\r\n<!-- MENU -->\r\n<ng-container *ngTemplateOutlet=\"menu\"></ng-container>\r\n<!--/ MENU -->\r\n\r\n<!-- APP-CONTENT -->\r\n<div class=\"app-content content\">\r\n  <div class=\"content-overlay\"></div>\r\n  <div class=\"header-navbar-shadow\" *ngIf=\"!coreConfig.layout.navbar.hidden\"></div>\r\n  <!-- CONTENT -->\r\n  <content></content>\r\n  <!--/ CONTENT -->\r\n</div>\r\n<!--/ APP-CONTENT -->\r\n\r\n<!-- FOOTER -->\r\n<ng-container *ngTemplateOutlet=\"footer\"></ng-container>\r\n<!--/ FOOTER -->\r\n\r\n<!-- PARTIALS ---------------------------------------------------------------------------------------- -->\r\n\r\n<!-- NAVBAR -->\r\n<ng-template #navbar>\r\n  <app-navbar\r\n    *ngIf=\"!coreConfig.layout.navbar.hidden\"\r\n    [ngClass]=\"\r\n      coreConfig.layout.navbar.customBackgroundColor === true\r\n        ? coreConfig.layout.navbar.background + ' ' + coreConfig.layout.navbar.backgroundColor\r\n        : coreConfig.layout.navbar.background\r\n    \"\r\n    class=\"header-navbar horizontal-header-navbar navbar-expand-lg navbar navbar-fixed align-items-center navbar-shadow navbar-brand-center\"\r\n  >\r\n  </app-navbar>\r\n</ng-template>\r\n<!--/ NAVBAR -->\r\n\r\n<!-- MENU -->\r\n<ng-template #menu>\r\n  <div class=\"horizontal-menu-wrapper\">\r\n    <!-- Horizontal menu: Visible above large screen only  -->\r\n    <app-menu\r\n      menuType=\"horizontal-menu\"\r\n      [ngClass]=\"[\r\n        coreConfig.layout.navbar.customBackgroundColor === true\r\n          ? coreConfig.layout.navbar.background +\r\n            ' ' +\r\n            coreConfig.layout.navbar.type +\r\n            ' ' +\r\n            coreConfig.layout.navbar.backgroundColor\r\n          : coreConfig.layout.navbar.background + ' ' + coreConfig.layout.navbar.type,\r\n        coreConfig.layout.navbar.type === 'floating-nav' ? 'container-xxl' : ''\r\n      ]\"\r\n      class=\"header-navbar navbar-expand-sm navbar navbar-horizontal navbar-shadow menu-border d-none d-xl-block\"\r\n      *ngIf=\"!coreConfig.layout.menu.hidden\"\r\n    ></app-menu>\r\n    <!-- Vertical overlay menu: Visible below large screen only  -->\r\n    <core-sidebar\r\n      name=\"menu\"\r\n      [collapsed]=\"coreConfig.layout.menu.collapsed\"\r\n      collapsibleSidebar=\"bs-gt-xl\"\r\n      *ngIf=\"!coreConfig.layout.menu.hidden\"\r\n      class=\"main-menu menu-fixed menu-light menu-accordio menu-shadow d-xl-none\"\r\n      overlayClass=\"sidenav-overlay\"\r\n      [ngClass]=\"[coreConfig.layout.menu.collapsed === true ? '' : 'expanded']\"\r\n    >\r\n      <app-menu menuType=\"vertical-menu\" class=\"vertical-menu\"></app-menu>\r\n    </core-sidebar>\r\n  </div>\r\n</ng-template>\r\n<!--/ MENU -->\r\n\r\n<!-- FOOTER -->\r\n<ng-template #footer>\r\n  <footer\r\n    *ngIf=\"!coreConfig.layout.footer.hidden\"\r\n    class=\"footer\"\r\n    [ngClass]=\"\r\n      coreConfig.layout.footer.customBackgroundColor === true\r\n        ? coreConfig.layout.footer.background +\r\n          ' ' +\r\n          coreConfig.layout.footer.type +\r\n          ' ' +\r\n          coreConfig.layout.footer.backgroundColor\r\n        : coreConfig.layout.footer.background + ' ' + coreConfig.layout.footer.type\r\n    \"\r\n  ></footer>\r\n</ng-template>\r\n<!-- / FOOTER -->\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { CoreConfigService } from '@core/services/config.service';\r\n\r\n@Component({\r\n  selector: 'horizontal-layout',\r\n  templateUrl: './horizontal-layout.component.html',\r\n  styleUrls: ['./horizontal-layout.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class HorizontalLayoutComponent implements OnInit, OnDestroy {\r\n  coreConfig: any;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {CoreConfigService} _coreConfigService\r\n   */\r\n  constructor(private _coreConfigService: CoreConfigService) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Subscribe to config changes\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { CoreSidebarModule } from '@core/components';\r\nimport { CoreCommonModule } from '@core/common.module';\r\n\r\nimport { NavbarModule } from 'app/layout/components/navbar/navbar.module';\r\nimport { ContentModule } from 'app/layout/components/content/content.module';\r\nimport { MenuModule } from 'app/layout/components/menu/menu.module';\r\nimport { FooterModule } from 'app/layout/components/footer/footer.module';\r\n\r\nimport { HorizontalLayoutComponent } from 'app/layout/horizontal/horizontal-layout.component';\r\n\r\n@NgModule({\r\n  declarations: [HorizontalLayoutComponent],\r\n  imports: [RouterModule, CoreCommonModule, CoreSidebarModule, NavbarModule, ContentModule, MenuModule, FooterModule],\r\n  exports: [HorizontalLayoutComponent]\r\n})\r\nexport class HorizontalLayoutModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\nimport { CustomBreakPointsProvider } from 'app/layout/custom-breakpoints';\r\nimport { VerticalLayoutModule } from 'app/layout/vertical/vertical-layout.module';\r\nimport { HorizontalLayoutModule } from 'app/layout/horizontal/horizontal-layout.module';\r\n\r\n@NgModule({\r\n  imports: [FlexLayoutModule.withConfig({ disableDefaultBps: true }), VerticalLayoutModule, HorizontalLayoutModule],\r\n  providers: [CustomBreakPointsProvider],\r\n  exports: [VerticalLayoutModule, HorizontalLayoutModule]\r\n})\r\nexport class LayoutModule {}\r\n","<!-- NAVBAR -->\r\n<ng-container *ngTemplateOutlet=\"navbar\"></ng-container>\r\n<!--/ NAVBAR -->\r\n\r\n<!-- MENU -->\r\n<ng-container *ngTemplateOutlet=\"menu\"></ng-container>\r\n<!--/ MENU -->\r\n\r\n<!-- APP-CONTENT -->\r\n<div class=\"app-content content\">\r\n  <div class=\"content-overlay\"></div>\r\n  <div class=\"header-navbar-shadow\" *ngIf=\"!coreConfig.layout.navbar.hidden\"></div>\r\n  <!-- CONTENT -->\r\n  <content></content>\r\n  <!--/ CONTENT -->\r\n</div>\r\n<!--/ APP-CONTENT -->\r\n\r\n<!-- FOOTER -->\r\n<ng-container *ngTemplateOutlet=\"footer\"></ng-container>\r\n<!--/ FOOTER -->\r\n\r\n<!-- PARTIALS ---------------------------------------------------------------------------------------- -->\r\n\r\n<!-- NAVBAR -->\r\n<ng-template #navbar>\r\n  <app-navbar\r\n    *ngIf=\"!coreConfig.layout.navbar.hidden\"\r\n    [ngClass]=\"[\r\n      coreConfig.layout.navbar.customBackgroundColor === true\r\n        ? coreConfig.layout.navbar.background +\r\n          ' ' +\r\n          coreConfig.layout.navbar.type +\r\n          ' ' +\r\n          coreConfig.layout.navbar.backgroundColor\r\n        : coreConfig.layout.navbar.background + ' ' + coreConfig.layout.navbar.type,\r\n      coreConfig.layout.navbar.type === 'floating-nav' ? 'container-xxl' : ''\r\n    ]\"\r\n    class=\"header-navbar navbar navbar-expand-lg align-items-center navbar-shadow\"\r\n  >\r\n  </app-navbar>\r\n</ng-template>\r\n<!--/ NAVBAR -->\r\n\r\n<!-- MENU -->\r\n<ng-template #menu>\r\n  <core-sidebar\r\n    name=\"menu\"\r\n    [collapsed]=\"coreConfig.layout.menu.collapsed\"\r\n    collapsibleSidebar=\"bs-gt-xl\"\r\n    *ngIf=\"!coreConfig.layout.menu.hidden\"\r\n    class=\"main-menu menu-fixed menu-accordio menu-shadow\"\r\n    overlayClass=\"sidenav-overlay\"\r\n    [ngClass]=\"[\r\n      coreConfig.layout.skin === 'semi-dark' || coreConfig.layout.skin === 'dark' ? 'menu-dark' : 'menu-light',\r\n      coreConfig.layout.menu.collapsed ? '' : 'expanded'\r\n    ]\"\r\n  >\r\n    <app-menu menuType=\"vertical-menu\" class=\"vertical-menu\"></app-menu>\r\n  </core-sidebar>\r\n</ng-template>\r\n<!--/ MENU -->\r\n\r\n<!-- FOOTER -->\r\n<ng-template #footer>\r\n  <footer\r\n    *ngIf=\"!coreConfig.layout.footer.hidden\"\r\n    class=\"footer\"\r\n    [ngClass]=\"\r\n      coreConfig.layout.footer.customBackgroundColor === true\r\n        ? coreConfig.layout.footer.background +\r\n          ' ' +\r\n          coreConfig.layout.footer.type +\r\n          ' ' +\r\n          coreConfig.layout.footer.backgroundColor\r\n        : coreConfig.layout.footer.background + ' ' + coreConfig.layout.footer.type\r\n    \"\r\n  ></footer>\r\n</ng-template>\r\n<!-- / FOOTER -->\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation, ElementRef } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { CoreConfigService } from '@core/services/config.service';\r\n\r\n@Component({\r\n  selector: 'vertical-layout',\r\n  templateUrl: './vertical-layout.component.html',\r\n  styleUrls: ['./vertical-layout.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class VerticalLayoutComponent implements OnInit, OnDestroy {\r\n  coreConfig: any;\r\n\r\n  // Private\r\n  private _unsubscribeAll: Subject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {CoreConfigService} _coreConfigService\r\n   */\r\n  constructor(private _coreConfigService: CoreConfigService, private _elementRef: ElementRef) {\r\n    // Set the private defaults\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  ngOnInit(): void {\r\n    // Subscribe to config changes\r\n    this._coreConfigService.config.pipe(takeUntil(this._unsubscribeAll)).subscribe(config => {\r\n      this.coreConfig = config;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * On destroy\r\n   */\r\n  ngOnDestroy(): void {\r\n    // Unsubscribe from all subscriptions\r\n    this._unsubscribeAll.next();\r\n    this._unsubscribeAll.complete();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { CoreCommonModule } from '@core/common.module';\r\nimport { CoreSidebarModule } from '@core/components';\r\n\r\nimport { NavbarModule } from 'app/layout/components/navbar/navbar.module';\r\nimport { ContentModule } from 'app/layout/components/content/content.module';\r\nimport { MenuModule } from 'app/layout/components/menu/menu.module';\r\nimport { FooterModule } from 'app/layout/components/footer/footer.module';\r\n\r\nimport { VerticalLayoutComponent } from 'app/layout/vertical/vertical-layout.component';\r\n\r\n@NgModule({\r\n  declarations: [VerticalLayoutComponent],\r\n  imports: [RouterModule, CoreCommonModule, CoreSidebarModule, NavbarModule, MenuModule, ContentModule, FooterModule],\r\n  exports: [VerticalLayoutComponent]\r\n})\r\nexport class VerticalLayoutModule {}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">Apartments</span>\r\n                        <span class=\"float-right\">\r\n              <div class=\"d-flex align-items-center justify-content-end\">\r\n                <label class=\"d-flex align-items-center\"\r\n                  >Search<input\r\n                    type=\"search\"\r\n                    placeholder=\"Search\"\r\n                    class=\"form-control ml-25\"\r\n                    (keyup)=\"filterUpdate($event)\"\r\n                /></label>\r\n              </div>\r\n\r\n              <!-- <i data-feather=\"filter\" class=\"text-primary cursor-pointer mr-50\"></i> -->\r\n            </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12 mb-50 pl-0\">\r\n                            <button *ngIf=\"this.AuthService.getRole() == this.appUtil.EmployeeRole\" (click)=\"AddNew()\" class=\"btn btn-primary ml-1\" rippleEffect>\r\n                <i data-feather=\"plus\" class=\"mr-0 mr-sm-1\"></i\r\n                ><span class=\"d-none d-sm-inline-block\">Add New Record</span>\r\n              </button>\r\n                            <button (click)=\"advancesearch()\" class=\"btn btn-success ml-1\" rippleEffect>\r\n                <i data-feather=\"plus\" class=\"mr-0 mr-sm-1\"></i\r\n                ><span class=\"d-none d-sm-inline-block\">Advance Search</span>\r\n              </button>\r\n                            <span *ngIf=\"showsearch\" (click)=\"clearsearch()\" style=\"color: red;\">\r\n                clear Advance Search\r\n              </span>\r\n\r\n                            <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n              >\r\n            </div>\r\n\r\n            <div\r\n              class=\"col-md-12 col-12 d-flex justify-content-md-end mb-1 mt-1\"\r\n            >\r\n              <div class=\"form-check form-check-inline\">\r\n                <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  id=\"inlineCheckbox2\"\r\n                  value=\"Owner\"\r\n                  (change)=\"viewArchive($event)\"\r\n                />\r\n                <label class=\"form-check-label\" for=\"inlineCheckbox2\"\r\n                  >View Owner Property</label\r\n                >\r\n              </div>\r\n\r\n              <div\r\n                class=\"form-check form-check-inline\"\r\n                *ngFor=\"let status of appUtil.Status\"\r\n              >\r\n                <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  id=\"inlineCheckbox2\"\r\n                  value=\"{{ status }}\"\r\n                  (change)=\"AddFilter($event)\"\r\n                />\r\n                <label class=\"form-check-label\" for=\"inlineCheckbox2\"\r\n                  >View {{ status }}</label\r\n                >\r\n              </div>\r\n              \r\n              \r\n            </div>\r\n          </div>\r\n\r\n          <!-- ngx-datatables responsive -->\r\n          <ngx-datatable\r\n            #table\r\n            class=\"bootstrap core-bootstrap\"\r\n            [columnMode]=\"ColumnMode.force\"\r\n            [headerHeight]=\"30\"\r\n            [rowHeight]=\"35\"\r\n            [footerHeight]=\"30\"\r\n            rowHeight=\"auto\"\r\n            [limit]=\"100\"\r\n            [rows]=\"apt\"\r\n            [scrollbarH]=\"true\"\r\n          >\r\n            <ngx-datatable-column name=\"Name\" prop=\"full_name\">\r\n              <ng-template\r\n                let-row=\"row\"\r\n                let-name=\"value\"\r\n                ngx-datatable-cell-template\r\n              >\r\n                {{ row.name }}\r\n                <!-- <div class=\"d-flex align-items-center\">\r\n\r\n                        <div *ngIf=\"row.avatar.length > 0; else customAvatar\">\r\n                            <img class=\"rounded-circle mr-1\" src=\"assets/images/portrait/small/{{ row.avatar }}\" height=\"32\" width=\"32\" alt=\"datatable-avatar\" />\r\n                        </div>\r\n                        <ng-template #customAvatar>\r\n                            <div class=\"avatar mr-1 ml-0\" [ngClass]=\"{\r\n              'bg-light-primary': row.status == '1',\r\n              'bg-light-success': row.status == '2',\r\n              'bg-light-danger': row.status == '3',\r\n              'bg-light-warning': row.status == '4',\r\n              'bg-light-info': row.status == '5'\r\n            }\">\r\n                                <div class=\"avatar-content\">{{ name | initials }}</div>\r\n                            </div>\r\n                        </ng-template>\r\n                        <div class=\"cell-line-height\">\r\n                            <p class=\"font-medium-1 line-height-1 mb-0\">{{ name }}</p>\r\n                            <span class=\"text-muted font-small-2\"> {{ row.post }}</span>\r\n                        </div>\r\n                    </div> -->\r\n              </ng-template>\r\n            </ngx-datatable-column>\r\n            <ngx-datatable-column\r\n              name=\"Type\"\r\n              [width]=\"50\"\r\n              prop=\"type\"\r\n            ></ngx-datatable-column>\r\n            <ngx-datatable-column\r\n              name=\"Bedding Type\"\r\n              [width]=\"200\"\r\n              prop=\"apartmenttype\"\r\n            ></ngx-datatable-column>\r\n            <ngx-datatable-column name=\"Floor No\" [width]=\"80\" prop=\"floorno\">\r\n            </ngx-datatable-column>\r\n            <ngx-datatable-column name=\"Gross Area Sqft\" prop=\"grossarea\">\r\n              <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n                <span>{{ row.grossarea | number }} </span>\r\n              </ng-template>\r\n            </ngx-datatable-column>\r\n            <ngx-datatable-column name=\"Rate (PKR)\" [width]=\"90\">\r\n              <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n                <span>{{ row.price | number }} </span>\r\n              </ng-template>\r\n            </ngx-datatable-column>\r\n            \r\n\r\n            <ngx-datatable-column name=\"Total Price\" [width]=\"110\">\r\n              <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n                <span>{{ row.totalprice | number }} </span>\r\n              </ng-template>\r\n            </ngx-datatable-column>\r\n\r\n            <ngx-datatable-column [width]=\"100\" name=\"Status\">\r\n              <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n                <span\r\n                  class=\"badge badge-pill badge-light-{{\r\n                    row.status | status\r\n                  }} mr-1\"\r\n                  >{{ row.status }}</span\r\n                >\r\n              </ng-template>\r\n            </ngx-datatable-column>\r\n\r\n            <ngx-datatable-column\r\n            *ngIf=\"this.AuthService.getRole() == this.appUtil.EmployeeRole\"\r\n              name=\"Action\"\r\n              [width]=\"120\"\r\n              [sortable]=\"false\"\r\n            >\r\n              <ng-template ngx-datatable-cell-template let-row=\"row\">\r\n                <div class=\"d-flex align-items-center\">\r\n                  <div ngbDropdown container=\"body\">\r\n                    <a\r\n                      ngbDropdownToggle\r\n                      href=\"javascript:void(0);\"\r\n                      class=\"hide-arrow\"\r\n                      id=\"dropdownBrowserState\"\r\n                      data-toggle=\"dropdown\"\r\n                      aria-haspopup=\"true\"\r\n                      aria-expanded=\"false\"\r\n                    >\r\n                      <i\r\n                        data-feather=\"more-vertical\"\r\n                        class=\"text-primary cursor-pointer mr-50\"\r\n                      ></i>\r\n                    </a>\r\n                            <div ngbDropdownMenu class=\"dropdown-menu-right\" aria-labelledby=\"dropdownBrowserState\">\r\n                                <a routerLink=\"/{{row.docid}}/plan\" ngbDropdownItem class=\"d-flex align-items-center\"><i data-feather=\"file-text\" class=\"mr-50\"></i>\r\n                        Generate Plan</a\r\n                      >\r\n                      <a\r\n                        (click)=\"Archive(row,row.isarchive)\"\r\n                        href=\"javascript:void(0)\"\r\n                        ngbDropdownItem\r\n                        class=\"d-flex align-items-center\"\r\n                        ><i data-feather=\"archive\" class=\"mr-50\"></i>\r\n                        {{ this.archive }}\r\n                      </a>\r\n                                <a (click)=\"OnDelete(row)\" href=\"javascript:void(0)\" ngbDropdownItem class=\"d-flex align-items-center\"><i data-feather=\"trash-2\" class=\"mr-50\"></i> Delete</a\r\n                      >\r\n                    </div>\r\n                  </div>\r\n\r\n                  <span (click)=\"edit(row)\">\r\n                    <i\r\n                      data-feather=\"edit\"\r\n                      class=\"text-primary cursor-pointer\"\r\n                    ></i>\r\n                  </span>\r\n                </div>\r\n              </ng-template>\r\n            </ngx-datatable-column>\r\n\r\n            <ngx-datatable-column name=\"Discount\">\r\n              <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n                <span>{{row.discount != undefined  ? row.discount + \"%\" : \"\" }} </span>\r\n              </ng-template>\r\n            </ngx-datatable-column>\r\n          </ngx-datatable>\r\n        </div>\r\n        <!--/ ngx-datatables responsive -->\r\n      </core-card-snippet>\r\n    </section>\r\n    <!--/ Responsive Datatable -->\r\n  </div>\r\n</div>","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ColumnMode, DatatableComponent } from \"@swimlane/ngx-datatable\";\r\nimport { DatatablesService } from \"app/modules/datatables.service\";\r\nimport { Subject, Subscription } from \"rxjs\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\nimport { firebaseStoreService } from \"../../auth/service/firebasestoreservice\";\r\nimport { AdvanceInventorySearch, Apartmentdto } from '../../auth/models/apartmentdto';\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { ApartmentComponent } from \"./createapartment/apartment/apartment.component\";\r\nimport { GeneralconfirmationdialogComponent } from \"../generalconfirmationdialog/generalconfirmationdialog.component\";\r\nimport { GeneralConfirmationDialogDto } from \"../../auth/models/generalconfirmationdialogdto\";\r\nimport { arch } from \"os\";\r\nimport { transition } from \"@angular/animations\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\nimport { ApputilsService } from '../../auth/helpers/apputils.service';\r\nimport { fn } from \"@angular/compiler/src/output/output_ast\";\r\nimport Swal from \"sweetalert2\";\r\nimport { ToastService } from '../../auth/service/toasts.service';\r\nimport { NotificationService } from '../../auth/service/notification.service';\r\nimport { PlanScheduleDto } from '../../auth/models/plandto';\r\nimport { AdvanceinventorysearchComponent } from \"./advanceinventorysearch/advanceinventorysearch.component\";\r\nimport { AuthService } from '../../auth/service/authservice';\r\n\r\n@Component({\r\n  selector: \"app-InventoryManagement\",\r\n  templateUrl: \"./InventoryManagement.component.html\",\r\n  styleUrls: [\"./InventoryManagement.component.scss\"],\r\n})\r\nexport class InventoryManagementComponent implements OnInit {\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  apt: Apartmentdto[] = [];\r\n  archive = \"Owner Property\";\r\n  qr: Subscription;\r\n  filters: String[] = [];\r\n  tempData: Apartmentdto[] = [];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  private _unsubscribeAll: Subject<any>;\r\n  exportCSVData: Object[] = [];\r\n  showsearch: boolean;\r\n  constructor(\r\n    public modal: NgbModal,\r\n    public toast:ToastService,\r\n    public nts:NotificationService,\r\n    private _datatablesService: DatatablesService,\r\n    public fs: firebaseStoreService,\r\n    public appUtil:ApputilsService,\r\n    public AuthService:AuthService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  apttypes:string[] = [];\r\n  ngOnInit() {\r\n  \r\n    this.fetchApartment();\r\n  }\r\n  // async fetchApartments(archive: boolean = false) {\r\n  //   if (this.qr != undefined) {\r\n  //     this.qr.unsubscribe();\r\n  //   }\r\n  //   var fb = await this.fs\r\n  //     .getapartments(archive)\r\n  //     .get()\r\n  //     .toPromise();\r\n\r\n  //       var e:Apartmentdto[] = [];\r\n  //       fb.forEach(ob=>{\r\n  //         e.push(ob.data() as Apartmentdto);\r\n  //       });\r\n  //       this.apt = [];\r\n  //       this.tempData = e as Apartmentdto[];\r\n  //       this.apt = e as Apartmentdto[];\r\n  //       this.exportCSVData = e as Object[];\r\n  // }\r\n  viewArchive(event: any) {\r\n    if (event.target.checked) {\r\n      this.archive = \"Add For Sale\";\r\n    } else {\r\n      this.archive = \"Owner Property\";\r\n    }\r\n    this.fetchApartment(event.target.checked);\r\n  }\r\n  AddFilter(event: any) {\r\n    debugger;\r\n    var val = event.target.value;\r\n    if (event.target.checked) {\r\n      this.filters.push(val);\r\n    } else {\r\n      var index = this.filters.indexOf(val);\r\n      this.filters.splice(index,1);\r\n    }\r\n    this.fetchApartment();\r\n  }\r\n  async fetchApartment(archive: boolean = false) {\r\n    debugger;\r\n    var e = await this.fs.getApartments(this.filters,archive);\r\n    this.apt = [];\r\n    this.tempData = e as Apartmentdto[];\r\n    this.apt = e as Apartmentdto[];\r\n    this.exportCSVData = e as Object[];\r\n  }\r\n  edit(row: Apartmentdto) {\r\n    console.log(\"clicked\");\r\n    var dialogRef = this.modal.open(ApartmentComponent, {\r\n      backdrop: false,\r\n    });\r\n    dialogRef.componentInstance.apartment = row;\r\n    dialogRef.closed.subscribe(e=>{\r\n      this.fetchApartment();\r\n    });\r\n  }\r\n  OnDelete(row: Apartmentdto) {\r\n    var mod = this.modal.open(GeneralconfirmationdialogComponent, {\r\n      backdrop: false,\r\n      centered: true,\r\n    });\r\n    let gcd: GeneralConfirmationDialogDto = {\r\n      title: \"Delete Apartment\",\r\n      message: \"Delete \" + row.name,\r\n      confirmbuttontext: \"Delete\",\r\n      cancelbuttontext: \"\",\r\n    };\r\n    mod.componentInstance.dto = gcd;\r\n    mod.closed.subscribe((e) => {\r\n      debugger;\r\n      if (e) {\r\n        this.fs\r\n          .delete(row)\r\n          .then((e) => {\r\n            \r\n              this.fetchApartment();\r\n           \r\n          })\r\n          .catch((ct) => {});\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  AddNew() {\r\n    this.modal.open(ApartmentComponent, {\r\n      backdrop: false,\r\n    }).closed.subscribe(e=>{\r\n      this.fetchApartment();\r\n    });\r\n  }\r\n  Archive(id: Apartmentdto, archive: boolean = true) {\r\n    archive = !(archive);\r\n    debugger;\r\n    if(id.status != \"Open\")\r\n    {\r\n        Swal.fire({\r\n          title:\"Transfer Error\",\r\n          text:'Cannot Transfer, Apartment is not Open',\r\n          icon: 'warning',\r\n          showCancelButton:false,\r\n          confirmButtonText:\"OK\"\r\n        });\r\n    }\r\n    else{\r\n      this.fs\r\n      .archiveapartment(archive, id.docid)\r\n      .then((e) => {\r\n        this.nts.showSuccess(\"Operation Done\",\"Success\");\r\n      })\r\n      .catch((e) => {\r\n        this.toast.show(e);\r\n      });\r\n    this.fetchApartment();\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * Search (filter)\r\n   *\r\n   * @param event\r\n   */\r\n  filterUpdate(event) {\r\n    debugger;\r\n    const val = event.target.value.toLowerCase().trim().replace(/\\s/g, \"\");\r\n\r\n    const count = this.table.bodyComponent._columns.length;\r\n\r\n    // get the key names of each column in the dataset\r\n    const keys = Object.keys(this.tempData[0]);\r\n    // assign filtered matches to the active datatable\r\n    this.apt = this.tempData.filter((item) => {\r\n      // iterate through each row's column data\r\n      for (let i = 0; i < keys.length; i++) {\r\n        // check for a match\r\n        if (item[keys[i]]) {\r\n          var it = item[keys[i]]\r\n            .toString()\r\n            .toLowerCase()\r\n            .trim()\r\n            .replace(/\\s/g, \"\");\r\n          console.log(it);\r\n          if (it.includes(val)) {\r\n            // found match, return true to add to result set\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // Whenever the filter changes, always go back to the first page\r\n    this.table.offset = 0;\r\n  }\r\n  advancesearch() {\r\n    this.modal\r\n      .open(AdvanceinventorysearchComponent, {\r\n        backdrop: false,\r\n      })\r\n      .closed.subscribe((e) => {\r\n        var modal = e as AdvanceInventorySearch;\r\n        console.log(modal);\r\n        this.searchapartment(modal);\r\n        this.showsearch = true;\r\n      });\r\n  }\r\n  searchapartment(searchdto: AdvanceInventorySearch) {\r\n    let arr = this.tempData;\r\n    debugger;\r\n    this.apt = arr.filter(\r\n      (e) =>\r\n        (searchdto.budget == 0 || searchdto.budget >= e.totalprice) &&\r\n        (searchdto.apartmenttype == \"\" ||\r\n          searchdto.apartmenttype == \"All\" ||\r\n          searchdto.apartmenttype == e.apartmenttype) &&\r\n        (searchdto.type == \"\" || searchdto.type == \"All\" || searchdto.type == e.type) &&\r\n        (searchdto.floorno == 0 || searchdto.floorno.toString() == e.floorno)\r\n    );\r\n    this.table.offset = 0;\r\n  }\r\n  clearsearch() {\r\n    this.apt = this.tempData;\r\n  }\r\n\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">Invoices</span>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"card-body\">\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12 mb-2\">\r\n                            <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1 mb-2\" rippleEffect>Export CSV</a\r\n                                >\r\n                            <label>\r\n                            Choose Filter Option\r\n                        </label>\r\n                            <select class=\"form form-control mt-2\" (change)=\"filterselect($event.target.value)\">\r\n                                <option>\r\n                                    {{this.ApputilsService.ThisMonth}}\r\n                                </option>\r\n                                <option>\r\n                                    {{this.ApputilsService.ThisYear}}\r\n                                </option>\r\n                                <option>\r\n                                    {{this.ApputilsService.OverDue}}\r\n                                </option>\r\n                                <option>\r\n                                    {{this.ApputilsService.ThisMonthDue}}\r\n                                </option>\r\n                                <option>\r\n                                    {{this.ApputilsService.ThisMonthPaid}}\r\n                                </option>\r\n                               \r\n                                <option>\r\n                                    {{this.ApputilsService.ThisMonthUpComing}}\r\n                                </option>\r\n                                <option>\r\n                                    {{this.ApputilsService.Due}}\r\n                                </option>\r\n                                <option>\r\n                                    {{this.ApputilsService.Paid}}\r\n                                </option>\r\n                                <option selected>\r\n                                    {{this.ApputilsService.All}}\r\n                                </option>\r\n                                \r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- ngx-datatables responsive -->\r\n                    <ngx-datatable *ngIf=\"show\" #table class=\"bootstrap core-bootstrap\" [columnMode]=\"ColumnMode.force\" [headerHeight]=\"30\" [rowHeight]=\"35\" [footerHeight]=\"40\" rowHeight=\"auto\" [limit]=\"100\" rowHeight=\"auto\" [limit]=\"10\" [rows]=\"this.customerinvoices\" [scrollbarH]=\"true\">\r\n                        <ngx-datatable-column name=\"Customer\" prop=\"customer\">\r\n                           \r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Amount\" prop=\"amount\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row?.amount | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Amount Left\" prop=\"amount\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row?.amountleft | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Amount Paid\" prop=\"amount\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row?.amountpaid | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Invoice Due On\" prop=\"invoicedueon\">\r\n\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row?.invoicedueon | date }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Invoice Paid On\" prop=\"invoicedueon\">\r\n\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row?.invoicepaidon | date }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        <ngx-datatable-column name=\"Status\" prop=\"invoicepaid\">\r\n                            <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n                                <span class=\"badge badge-pill badge-light-danger\" *ngIf=\"!row.invoicepaid\">Pending</span>\r\n                                <span class=\"badge badge-pill badge-light-success\" *ngIf=\"row.invoicepaid\">Paid</span>\r\n                            </ng-template>\r\n\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Action\">\r\n                            <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n                                <a class=\"mr-1\" (click)=\"dismissdialog()\" routerLink=\"/sales/{{row.planid}}/invoice/{{ row.id }}\" container=\"body\" placement=\"top\" ngbTooltip=\"Preview Invoice\"><i size=\"18\" data-feather=\"eye\"></i\r\n                                ></a>\r\n                            </ng-template>\r\n\r\n                            </ngx-datatable-column>\r\n\r\n\r\n                            </ngx-datatable>\r\n                        </div>\r\n                        <!--/ ngx-datatables responsive -->\r\n            </core-card-snippet>\r\n        </section>\r\n        <!--/ Responsive Datatable -->\r\n        </div>\r\n        </div>","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { firebaseStoreService } from \"app/auth/service/firebasestoreservice\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { ApputilsService } from \"../../../auth/helpers/apputils.service\";\r\nimport { AuthService } from \"../../../auth/service/authservice\";\r\nimport { Invoicedto } from \"../../../auth/models/apartmentdto\";\r\nimport { PlanScheduleDto, Transaction, SalesDto, InvoicesDetailDto } from '../../../auth/models/plandto';\r\nimport { ColumnMode, DatatableComponent } from \"@swimlane/ngx-datatable\";\r\n\r\n@Component({\r\n  selector: \"app-ViewInvoices\",\r\n  templateUrl: \"./ViewInvoices.component.html\",\r\n  styleUrls: [\"./ViewInvoices.component.scss\"],\r\n})\r\nexport class ViewInvoicesComponent implements OnInit {\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  show  = false;\r\n\r\n  filters: String[] = [];\r\n  tempData: Transaction[] = [];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  invoices: PlanScheduleDto[] = [];\r\n  tempinvoice:PlanScheduleDto[]=[];\r\n  sales:SalesDto[]=[];\r\n  customerinvoices:InvoicesDetailDto[]=[];\r\n  exportCSVData: Object[] = [];\r\n  constructor(\r\n    public modal: NgbModal,\r\n\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n    public AuthService: AuthService,\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.fs.getSales().valueChanges().subscribe(e=>{\r\n      this.sales = e;\r\n      this.fs\r\n      .getallinvoices()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        \r\n        this.invoices = e;\r\n        this.invoices.forEach(i=>{\r\n\r\n          i.invoicedueon = new Date(i.invoicedueon?.seconds * 1000);\r\n          i.invoicepaidon = i.invoicepaid ? new Date(i.invoicepaidon?.seconds * 1000) : \"\";\r\n        \r\n          debugger;\r\n          let idd:InvoicesDetailDto=i;\r\n          idd.customer = this.sales.filter(s => s.id == i.planid)[0].customername;\r\n          this.customerinvoices.push(idd);\r\n        });\r\n        this.show =true;\r\n        this.tempinvoice = e;\r\n        this.exportCSVData = e as Object[];\r\n      \r\n      });\r\n    });\r\n    \r\n  }\r\n  filterselect(val: string) {\r\n    this.customerinvoices = [];\r\n    this.tempinvoice.forEach(i=>{\r\n\r\n   \r\n      \r\n      let idd:InvoicesDetailDto=i;\r\n      idd.customer = this.sales.filter(s => s.id == i.planid)[0].customername;\r\n      this.customerinvoices.push(idd);\r\n    });\r\n    debugger;\r\n    switch (val) {\r\n      case this.ApputilsService.All:\r\n        this.invoices = this.tempinvoice;\r\n        this.exportCSVData = this.invoices as Object[];\r\n        break;\r\n      case this.ApputilsService.ThisMonth:\r\n        var drp = this.ApputilsService.getMonthRange();\r\n       this.customerinvoices = this.customerinvoices.filter(\r\n          (i) =>\r\n            i.invoicedueon >= drp.startdate &&\r\n            i.invoicedueon <= drp.enddate\r\n        );\r\n        break;\r\n      case this.ApputilsService.ThisMonthDue:\r\n        var drp = this.ApputilsService.getMonthRange();\r\n        this.customerinvoices = this.customerinvoices .filter(\r\n          (i) =>\r\n          i.invoicedueon >= drp.startdate &&\r\n          i.invoicedueon <= drp.enddate &&\r\n            i.invoicepaid == false\r\n        );\r\n        break;\r\n      case this.ApputilsService.ThisMonthPaid:\r\n        var drp = this.ApputilsService.getMonthRange();\r\n        this.customerinvoices = this.customerinvoices .filter(\r\n          (i) =>\r\n          i.invoicedueon >= drp.startdate &&\r\n          i.invoicedueon <= drp.enddate &&\r\n            i.invoicepaid\r\n        );\r\n        break;\r\n      case this.ApputilsService.ThisMonthUpComing:\r\n        var drp = this.ApputilsService.getMonthRange();\r\n        this.customerinvoices = this.customerinvoices .filter(\r\n          (i) =>\r\n          i.invoicedueon >= new Date() &&\r\n          i.invoicedueon <= drp.enddate &&\r\n            i.invoicepaid == false\r\n        );\r\n        break;\r\n        case this.ApputilsService.OverDue:\r\n        var drp = this.ApputilsService.getMonthRange();\r\n        this.customerinvoices = this.customerinvoices .filter(\r\n          (i) =>\r\n        \r\n          i.invoicedueon <= drp.startdate &&\r\n            i.invoicepaid == false\r\n        );\r\n        break;\r\n      case this.ApputilsService.ThisYear:\r\n        var drp = this.ApputilsService.getYearRange();\r\n        this.customerinvoices = this.customerinvoices .filter(\r\n          (i) =>\r\n          i.invoicedueon >= drp.startdate &&\r\n          i.invoicedueon <= drp.enddate &&\r\n            i.invoicepaid == false\r\n        );\r\n        break;\r\n      case this.ApputilsService.Due:\r\n      \r\n        this.customerinvoices = this.customerinvoices .filter(\r\n          (i) =>\r\n          \r\n          i.invoicedueon <= new Date() &&\r\n            i.invoicepaid == false\r\n        );\r\n        break;\r\n        case this.ApputilsService.Paid:\r\n      \r\n          this.customerinvoices = this.customerinvoices .filter(\r\n          (i) =>\r\n          \r\n            \r\n            i.invoicepaid == true\r\n        );\r\n    }\r\n    this.customerinvoices = this.customerinvoices.sort((a,b)=>{\r\n      return a.invoicedueon >= b.invoicedueon ? 1:-1;\r\n    });\r\n    this.exportCSVData = this.customerinvoices  as Object[];\r\n  }\r\n}\r\n","<form [formGroup]=\"form\" *ngIf=\"this.start\">\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\" id=\"myModalLabel1\">Apartments</h4>\r\n        <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n    </div>\r\n    <div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"floorno\">Floor No</label>\r\n                    <input type=\"text\" [class.error]=\"\r\n  isSubmit && form.controls.floorno.errors\r\n\" class=\"form-control\" id=\"floorno\" formControlName=\"floorno\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"apartmenttype\">Apartment</label>\r\n                    <select id=\"apartmenttype\" formControlName=\"apartmenttype\" [(value)]=\"this.ApputilsService.ApartmentType[0]\" [ngModel]=\"this.apartmenttype\" (change)=\"onApartmentTypeSelect($event.target.value)\" class=\"form-control\">\r\n                      <option\r\n                      value=\"All\"\r\n                      \r\n                      >\r\n                      All\r\n                    </option>\r\n        \r\n                      <option\r\n            value=\"{{ food }}\"\r\n            *ngFor=\"let food of ApputilsService.ApartmentType\"\r\n            >\r\n            {{ food }}\r\n          </option>\r\n        </select>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\" *ngIf=\"this.showType\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"type\">Type</label>\r\n                    <select id=\"type\" formControlName=\"type\" [(value)]=\"this.ApputilsService.Type[0]\" [ngModel]=\"this.type\" class=\"form-control\">\r\n                      <option\r\n                      value=\"All\"\r\n                      \r\n                      >\r\n                      All\r\n                    </option>\r\n                      <option\r\n                  value=\"{{ food }}\"\r\n                  *ngFor=\"let food of ApputilsService.Type\"\r\n                  selected\r\n                >\r\n                  {{ food }}\r\n                </option>\r\n              </select>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"price\">Maximum Budget</label>\r\n                    <input type=\"number\" [class.error]=\"\r\n    isSubmit && form.controls.price.errors\r\n  \" class=\"form-control\" id=\"price\" formControlName=\"price\" />\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\" rippleEffect>\r\n    Search\r\n  </button>\r\n    </div>\r\n</form>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AdvanceInventorySearch, Apartmentdto } from 'app/auth/models/apartmentdto';\r\nimport { apartmenttypes } from 'app/auth/models/apartmenttypesdto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { ProgressdialogComponent } from 'app/main/progressdialog/progressdialog.component';\r\nimport { ApputilsService } from '../../../auth/helpers/apputils.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-advanceinventorysearch',\r\n  templateUrl: './advanceinventorysearch.component.html',\r\n  styleUrls: ['./advanceinventorysearch.component.scss']\r\n})\r\nexport class AdvanceinventorysearchComponent implements OnInit {\r\n\r\n  public form: FormGroup;\r\n  isSubmit = false;\r\n  showType = true;\r\n  apartmenttype: String = \"\";\r\n  type: String = \"\";\r\n  status: String = \"\";\r\n  apartment: Apartmentdto;\r\n  start = false;\r\n  apttypes: apartmenttypes[] = [];\r\n  search:AdvanceInventorySearch;\r\n\r\n  constructor(\r\n    public fs: firebaseStoreService,\r\n    public AppUtilApiService: ApputilsService,\r\n    public ApputilsService: ApputilsService,\r\n    public modal: NgbActiveModal,\r\n    public modalservice: NgbModal,\r\n    public formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    var apt = await this.fs.getapartmenttypes().get().toPromise();\r\n    this.ApputilsService.ApartmentType = [];\r\n    apt.forEach((e) => {\r\n      this.apttypes.push(e.data());\r\n      this.ApputilsService.ApartmentType.push(e.data().name);\r\n    });\r\n    this.apartmenttype =\r\n      this.apartment == null\r\n        ? this.ApputilsService.ApartmentType[0]\r\n        : this.apartment.apartmenttype;\r\n    this.type =\r\n      this.apartment == null || this.apartment.type == undefined\r\n        ? this.ApputilsService.Type[0]\r\n        : this.apartment.type;\r\n    this.status =\r\n      this.apartment == null || this.apartment.status == undefined\r\n        ? this.ApputilsService.Status[0]\r\n        : this.apartment.status;\r\n    if (this.apartment != null) {\r\n      this.showTypes(this.apartment.apartmenttype);\r\n    }\r\n    this.form = this.formBuilder.group({\r\n      apartmenttype: [\r\n        this?.apartment?.apartmenttype ?? \"\",\r\n        Validators.required,\r\n      ],\r\n     \r\n      type: [this?.apartment?.type ?? \"\"],\r\n    \r\n      floorno: [this?.apartment?.floorno ?? \"\", ],\r\n     \r\n      price: [this?.apartment?.price ?? \"\", ],\r\n\r\n    });\r\n    this.start = true;\r\n  }\r\n  onApartmentTypeSelect(option: any) {\r\n    console.log(option);\r\n    this.showTypes(option);\r\n  }\r\n  showTypes(option) {\r\n    if (\r\n      option != this.ApputilsService.Apartment4BedDuplex &&\r\n      option != this.ApputilsService.Apartment5BedDuplex &&\r\n      option != this.ApputilsService.Penthouse\r\n    ) {\r\n      this.showType = true;\r\n    } else {\r\n      this.showType = false;\r\n    }\r\n  }\r\n  onSubmit() {\r\n    console.log(\"clicked\");\r\n    this.isSubmit = true;\r\n    if (this.form.valid) {\r\n      var pDialog = this.modalservice.open(ProgressdialogComponent, {\r\n        windowClass: \"transparent\",\r\n        backdrop: false,\r\n        centered: true,\r\n      });\r\n      var aptype = this.form.controls[\"apartmenttype\"].value;\r\n      var type = this.form.controls[\"type\"]?.value;\r\n      var floorno = this.form.controls[\"floorno\"]?.value ?? 0;\r\n    \r\n      var price = this.form.controls[\"price\"]?.value ?? 0 ;\r\n      \r\n      let search:AdvanceInventorySearch={\r\n        type: type,\r\n        apartmenttype: aptype as string,\r\n        budget: price,\r\n        floorno: floorno\r\n      };\r\n      pDialog.close();\r\n      this.modal.close(search);\r\n      \r\n\r\n\r\n\r\n    \r\n      \r\n      \r\n    }\r\n  }\r\n\r\n}\r\n","<form [formGroup]=\"form\" *ngIf=\"this.start\">\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\" id=\"myModalLabel1\">Apartments</h4>\r\n        <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n    </div>\r\n    <div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"floorno\">Floor No</label>\r\n                    <input type=\"text\" [class.error]=\"\r\n    isSubmit && form.controls.floorno.errors\r\n  \" class=\"form-control\" id=\"floorno\" formControlName=\"floorno\" required />\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"apartmenttype\">Apartment</label>\r\n                    <select id=\"apartmenttype\" formControlName=\"apartmenttype\" [(value)]=\"this.ApputilsService.ApartmentType[0]\" [ngModel]=\"this.apartmenttype\" (change)=\"onApartmentTypeSelect($event.target.value)\" class=\"form-control\">\r\n            <option\r\n              value=\"{{ food }}\"\r\n              *ngFor=\"let food of ApputilsService.ApartmentType\"\r\n              >\r\n              {{ food }}\r\n            </option>\r\n          </select>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\" *ngIf=\"this.showType\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"type\">Type</label>\r\n                    <select id=\"type\" formControlName=\"type\" [(value)]=\"this.ApputilsService.Type[0]\" [ngModel]=\"this.type\" class=\"form-control\">\r\n                  <option\r\n                    value=\"{{ food }}\"\r\n                    *ngFor=\"let food of ApputilsService.Type\"\r\n                    selected\r\n                  >\r\n                    {{ food }}\r\n                  </option>\r\n                </select>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"grossarea\">Gross Area Sqft</label>\r\n                    <input type=\"number\" [class.error]=\"\r\n        isSubmit && form.controls.grossarea.errors\r\n      \" class=\"form-control\" id=\"grossarea\" formControlName=\"grossarea\" required />\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"netarea\">Net Area Sqft</label>\r\n                    <input type=\"number\" [class.error]=\"\r\n            isSubmit && form.controls.netarea.errors\r\n          \" class=\"form-control\" id=\"netarea\" formControlName=\"netarea\" required />\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"Name\">Apartment Name</label>\r\n                    <input [class.error]=\"\r\n              isSubmit && form.controls.name.errors\r\n            \" type=\"text\" class=\"form-control\" id=\"Name\" formControlName=\"name\" />\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <!-- <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"apartmentno\">Apartment No</label>\r\n                    <input type=\"number\" [class.error]=\"\r\n        isSubmit && form.controls.no.errors\r\n      \" class=\"form-control\" id=\"apartmentno\" formControlName=\"no\" required />\r\n                </div>\r\n            </div> -->\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"price\">Rate Sqft</label>\r\n                    <input type=\"number\" [class.error]=\"\r\n      isSubmit && form.controls.price.errors\r\n    \" class=\"form-control\" id=\"price\" formControlName=\"price\" required />\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"discount\">Discount %</label>\r\n                    <input type=\"number\" [class.error]=\"\r\n    isSubmit && form.controls.price.errors\r\n  \" class=\"form-control\" id=\"discount\" formControlName=\"discount\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"status\">Status</label>\r\n                    <select id=\"status\" formControlName=\"status\" [(value)]=\"this.ApputilsService.Status[0]\" [ngModel]=\"this.status\" class=\"form-control\">\r\n                <option\r\n                  value=\"{{ food }}\"\r\n                  *ngFor=\"let food of ApputilsService.Status\"\r\n                  selected\r\n                >\r\n                  {{ food }}\r\n                </option>\r\n              </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"notes\">Notes</label>\r\n                    <input type=\"text\" [class.error]=\"\r\n      isSubmit && form.controls.notes.errors\r\n    \" class=\"form-control\" id=\"notes\" formControlName=\"notes\" />\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\" rippleEffect>\r\n      Save\r\n    </button>\r\n    </div>\r\n</form>","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { NgbActiveModal, NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { Apartmentdto } from \"app/auth/models/apartmentdto\";\r\nimport { apartmenttypes } from \"app/auth/models/apartmenttypesdto\";\r\nimport { ProgressdialogComponent } from \"app/main/progressdialog/progressdialog.component\";\r\nimport { ApputilsService } from \"../../../../auth/helpers/apputils.service\";\r\nimport { firebaseStoreService } from \"../../../../auth/service/firebasestoreservice\";\r\n\r\n@Component({\r\n  selector: \"app-apartment\",\r\n  templateUrl: \"./apartment.component.html\",\r\n  styleUrls: [\"./apartment.component.scss\"],\r\n})\r\nexport class ApartmentComponent implements OnInit {\r\n  public form: FormGroup;\r\n  isSubmit = false;\r\n  showType = true;\r\n  apartmenttype: String = \"\";\r\n  type: String = \"\";\r\n  status: String = \"\";\r\n  apartment: Apartmentdto;\r\n  start = false;\r\n  apttypes: apartmenttypes[] = [];\r\n\r\n  constructor(\r\n    public fs: firebaseStoreService,\r\n    public AppUtilApiService: ApputilsService,\r\n    public ApputilsService: ApputilsService,\r\n    public modal: NgbActiveModal,\r\n    public modalservice: NgbModal,\r\n    public formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    var apt = await this.fs.getapartmenttypes().get().toPromise();\r\n    this.ApputilsService.ApartmentType = [];\r\n    apt.forEach((e) => {\r\n      this.apttypes.push(e.data());\r\n      this.ApputilsService.ApartmentType.push(e.data().name);\r\n    });\r\n    this.apartmenttype =\r\n      this.apartment == null\r\n        ? this.ApputilsService.ApartmentType[0]\r\n        : this.apartment.apartmenttype;\r\n    this.type =\r\n      this.apartment == null || this.apartment.type == undefined\r\n        ? this.ApputilsService.Type[0]\r\n        : this.apartment.type;\r\n    this.status =\r\n      this.apartment == null || this.apartment.status == undefined\r\n        ? this.ApputilsService.Status[0]\r\n        : this.apartment.status;\r\n    if (this.apartment != null) {\r\n      this.showTypes(this.apartment.apartmenttype);\r\n    }\r\n    this.form = this.formBuilder.group({\r\n      apartmenttype: [\r\n        this?.apartment?.apartmenttype ?? \"\",\r\n        Validators.required,\r\n      ],\r\n      name: [this?.apartment?.name ?? \"\"],\r\n      type: [this?.apartment?.type ?? \"\"],\r\n      discount: [this?.apartment?.discount ?? null],\r\n      floorno: [this?.apartment?.floorno ?? \"\", [Validators.required]],\r\n      netarea: [this?.apartment?.netarea ?? \"\", [Validators.required]],\r\n      grossarea: [this?.apartment?.grossarea ?? \"\", [Validators.required]],\r\n      status: [this?.apartment?.status ?? \"\", [Validators.required]],\r\n      price: [this?.apartment?.price ?? \"\", [Validators.required]],\r\n      notes: [this?.apartment?.notes ?? \"\"],\r\n    });\r\n    this.start = true;\r\n  }\r\n  onApartmentTypeSelect(option: any) {\r\n    console.log(option);\r\n    this.showTypes(option);\r\n  }\r\n  showTypes(option) {\r\n    if (\r\n      option != this.ApputilsService.Apartment4BedDuplex &&\r\n      option != this.ApputilsService.Apartment5BedDuplex &&\r\n      option != this.ApputilsService.Penthouse\r\n    ) {\r\n      this.showType = true;\r\n    } else {\r\n      this.showType = false;\r\n    }\r\n  }\r\n  onSubmit() {\r\n    console.log(\"clicked\");\r\n    this.isSubmit = true;\r\n    if (this.form.valid) {\r\n      var pDialog = this.modalservice.open(ProgressdialogComponent, {\r\n        windowClass: \"transparent\",\r\n        backdrop: false,\r\n        centered: true,\r\n      });\r\n      var aptype = this.form.controls[\"apartmenttype\"].value;\r\n      var type = this.form.controls[\"type\"]?.value;\r\n      var floorno = this.form.controls[\"floorno\"].value;\r\n      var discount = this.form.controls[\"discount\"]?.value ?? null;\r\n      var name = this.form.controls[\"name\"]?.value;\r\n      var netarea = this.form.controls[\"netarea\"].value;\r\n      var grossarea = this.form.controls[\"grossarea\"].value;\r\n      var status = this.form.controls[\"status\"].value;\r\n      var price = this.form.controls[\"price\"].value;\r\n      var notes = this.form.controls[\"notes\"]?.value;\r\n      let apartment: Apartmentdto = {\r\n        name: name,\r\n        id: \"\",\r\n        isarchive: false,\r\n        apartmenttype: aptype,\r\n        netarea: netarea,\r\n        floorno: floorno,\r\n        discount: discount,\r\n        grossarea: grossarea,\r\n        status: status,\r\n        price: price,\r\n        // createdat: this.ApputilsService.getServerTimestamp(),\r\n        // updatedat:this.ApputilsService.getServerTimestamp(),\r\n        updatedby: \"\",\r\n        notes: notes,\r\n        updatedat: this.AppUtilApiService.getServerTimestamp(),\r\n      };\r\n      if (this.apartment != null) {\r\n        apartment.docid = this.apartment.docid;\r\n        apartment.createdat = this.apartment.createdat;\r\n        apartment.createdby = this.apartment.createdby;\r\n      } else {\r\n        apartment.createdat = this.AppUtilApiService.getServerTimestamp();\r\n        apartment.createdby = \"\";\r\n      }\r\n      apartment.totalprice = this.AppUtilApiService.getTotalPrice(\r\n        apartment.grossarea,\r\n        apartment.price,\r\n        apartment.discount\r\n      );\r\n\r\n      console.log(type);\r\n      apartment.type = this.showType ? type : null;\r\n      var number = 1;\r\n\r\n      console.log(\r\n        new Intl.NumberFormat(\"en-IN\", { minimumIntegerDigits: 2 }).format(\r\n          number\r\n        )\r\n      );\r\n      debugger;\r\n      var apt: any;\r\n      var aptyp = this.apttypes.filter(\r\n        (e) => e.name == apartment.apartmenttype\r\n      );\r\n      var fn = new Intl.NumberFormat(\"en-IN\", {\r\n        minimumIntegerDigits: 2,\r\n      }).format(Number.parseInt(apartment.floorno));\r\n      var tp = new Intl.NumberFormat(\"en-IN\", {\r\n        minimumIntegerDigits: 2,\r\n      }).format(Number.parseInt(apartment.type));\r\n      apartment.name =\r\n        fn +\r\n        \"F-\" +\r\n        aptyp[0].nameformat +\r\n        \"-T\" +\r\n        tp +\r\n        \"-\" +\r\n        apartment.grossarea;\r\n\r\n      if (apartment.docid != undefined && apartment.docid != \"\") {\r\n        apt = this.fs.updateapartments(apartment);\r\n      } else {\r\n        apt = this.fs.addapartments(apartment);\r\n      }\r\n      apt\r\n        .then((e) => {\r\n          pDialog.close();\r\n          this.modal.close();\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          pDialog.close();\r\n        });\r\n    }\r\n  }\r\n}\r\n","<form>\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\" id=\"myModalLabel1\">Transaction</h4>\r\n        <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n    </div>\r\n    <div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <span>\r\n              {{this?.customer?.name}}\r\n            </span> | <span> {{this?.customer?.cnic}}</span>\r\n\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\" *ngIf=\"this.istransactionsfetched\">\r\n                    <label> \r\n                    Choose Transaction\r\n                  </label>\r\n                    <ng-select class=\"ng-select-size-lg\" #SelectSizeLarge [ngModelOptions]=\"{standalone: true}\" (change)=\"ontransactionselect($event)\" [items]=\"transacitons\" [searchable]=\"true\" bindLabel=\"transactionid\" bindValue=\"id\">\r\n                        <ng-template ng-header-tmp>\r\n                            <input class=\"form-control w-100\" placeholder=\"Search Transactions\" type=\"text\" (input)=\"SelectSizeLarge.filter($event.target.value)\" />\r\n                        </ng-template>\r\n                        <!--/ select size large -->\r\n                    </ng-select>\r\n\r\n\r\n                    <label> \r\n                      Choose Apartment\r\n                    </label>\r\n                    <ng-select [ngModelOptions]=\"{standalone: true}\" class=\"ng-select-size-lg\" #SelectSize (change)=\"oncustomselect($event)\" [items]=\"customerSales\" [searchable]=\"true\" bindLabel=\"apartmentname\" bindValue=\"id\">\r\n                        <ng-template ng-header-tmp>\r\n                            <input class=\"form-control w-100\" placeholder=\"Search Apartment\" type=\"text\" (input)=\"SelectSize.filter($event.target.value)\" />\r\n                        </ng-template>\r\n                        <!--/ select size large -->\r\n                    </ng-select>\r\n                </div>\r\n\r\n\r\n                <div class=\"form-group mt-2\">\r\n                    <label for=\"invoices\">Choose Invoice</label>\r\n                    <select id=\"invoices\" [ngModelOptions]=\"{standalone: true}\" (change)=\"invoiceselect($event.target.value)\" [ngModel]=\"this.invoiceid\" class=\"form-control\">\r\n              <option\r\n                value=\"{{ food.id }}\"\r\n                *ngFor=\"let food of invoices\"\r\n              >\r\n                {{ food.type }}  {{ food.type == \"Installment\" ? food?.installmentno:\"\"}} ({{food.amountleft | number}})\r\n              </option>\r\n            </select>\r\n                </div>\r\n\r\n\r\n                <div class=\"form-group\">\r\n                    <label for=\"amount\">Amount  \r\n                           </label>\r\n                    <input type=\"number\" min=\"0\" [value]=\"amount\" class=\"form-control\" id=\"amount\" disabled required />\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\" rippleEffect>\r\n    Save\r\n  </button>\r\n    </div>\r\n</form>","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { FormGroup, Validators, FormBuilder } from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\r\nimport { NgbActiveModal, NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { creditamounts } from \"app/auth/models/customerinfo\";\r\nimport { banksdto, metadata } from \"app/auth/models/metadata\";\r\nimport {\r\n  SalesDto,\r\n  PlanScheduleDto,\r\n  Transaction,\r\n} from \"app/auth/models/plandto\";\r\nimport { firebaseStoreService } from \"app/auth/service/firebasestoreservice\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { ProgressdialogComponent } from \"app/main/progressdialog/progressdialog.component\";\r\nimport { FlatpickrOptions } from \"ng2-flatpickr\";\r\nimport { ApputilsService } from \"../../../auth/helpers/apputils.service\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { NgSelectComponent } from \"@ng-select/ng-select\";\r\nimport { CustomerDto } from \"../../../auth/models/customerinfo\";\r\nimport { Invoicedto } from \"../../../auth/models/apartmentdto\";\r\n@Component({\r\n  selector: \"app-creditadjustments\",\r\n  templateUrl: \"./creditadjustments.component.html\",\r\n  styleUrls: [\"./creditadjustments.component.scss\"],\r\n})\r\nexport class CreditadjustmentsComponent implements OnInit {\r\n  sales: SalesDto[] = [];\r\n  customerSales: SalesDto[] = [];\r\n\r\n  saleinfo: SalesDto;\r\n  invoices: PlanScheduleDto[] = [];\r\n  invoiceid: string;\r\n\r\n  Transaction: Transaction;\r\n  invoiceselected: PlanScheduleDto;\r\n\r\n  id: string;\r\n  creditamount: creditamounts;\r\n  customer: CustomerDto;\r\n  amount: number = 0;\r\n  transacitons: Transaction[] = [];\r\n  istransactionsfetched = false;\r\n  selectedapartment: any;\r\n  @ViewChild(\"SelectSize\") ngSelectComponent: NgSelectComponent;\r\n\r\n  constructor(\r\n    public modal: NgbActiveModal,\r\n\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n    public FormBuilder: FormBuilder,\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this.fs\r\n      .getalltransactions()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.transacitons = e.filter((e) => e.amount != e.totalamount);\r\n        this.istransactionsfetched = true;\r\n      });\r\n\r\n    this.fs\r\n      .getSales()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.sales = e;\r\n        if (this.Transaction != undefined) {\r\n        }\r\n      });\r\n  }\r\n  async ontransactionselect(tr: Transaction) {\r\n    console.log(this.ngSelectComponent);\r\n    this.ngSelectComponent.handleClearClick();\r\n    this.Transaction = tr;\r\n    var invoice = (\r\n      await this.fs.getinvoicebyid(tr.invoiceid).get().toPromise()\r\n    ).data();\r\n    var selectedSale = this.sales.filter((e) => e.id == invoice.planid)[0];\r\n    this.customerSales = [];\r\n    this.invoiceid = \"\";\r\n    this.selectedapartment = null;\r\n    this.customerSales = this.sales.filter(\r\n      (e) => e.customerid == selectedSale.customerid\r\n    );\r\n    this.customer = (\r\n      await this.fs.getCustomerbyId(selectedSale.customerid).get().toPromise()\r\n    ).data();\r\n    this.creditamount = (\r\n      await this.fs\r\n        .getCustomerCredits(selectedSale.customerid, this.Transaction.id)\r\n        .get()\r\n        .toPromise()\r\n    ).data();\r\n    this.amount = this.creditamount.amount;\r\n    this.invoices = [];\r\n  }\r\n  async oncustomselect(sale: SalesDto) {\r\n    this.fetchinvoicesofsale(this.sales.filter((e) => e.id == sale.id)[0]);\r\n  }\r\n  invoiceselect(id: string) {\r\n    debugger;\r\n    this.invoiceid = id;\r\n  }\r\n\r\n  async fetchinvoicesofsale(sale: SalesDto) {\r\n    this.invoices = [];\r\n    this.saleinfo = sale;\r\n    if (sale != undefined) {\r\n      (\r\n        await this.fs.getSaleInvoices(sale.id, 2).get().toPromise()\r\n      ).docs.forEach((e) => {\r\n        if (e.data().amountleft >= this.amount) {\r\n          this.invoices.push(e.data());\r\n          this.invoices = this.invoices.sort((f1, f2) =>\r\n            f1.installmentno == null\r\n              ? 1\r\n              : f1.installmentno > f2.installmentno\r\n              ? 1\r\n              : -2\r\n          );\r\n        }\r\n      });\r\n      this.invoiceid = this.invoices.length > 0 ? this.invoices[0].id : \"\";\r\n    }\r\n  }\r\n  async onSubmit() {\r\n    if (this.invoiceid.length != 0) {\r\n      var pDialog = this.modalservice.open(ProgressdialogComponent, {\r\n        windowClass: \"transparent\",\r\n        backdrop: false,\r\n        centered: true,\r\n      });\r\n      var Invoicedto = this.invoices.filter((i) => i.id == this.invoiceid)[0];\r\n      let tr: Transaction = {\r\n        totalamount: this.creditamount.amount,\r\n        amount: this.creditamount.amount,\r\n        id: \"\",\r\n        apartmentname: this.saleinfo.apartmentname,\r\n        customername: this.customer.name + \" \" + this.customer.fathername,\r\n        invoicename: Invoicedto.type + \" \",\r\n        bank: this.Transaction.bank,\r\n        iban: this.Transaction.iban,\r\n        paymentmethod: this.Transaction.paymentmethod,\r\n        transactionid: this.Transaction.transactionid,\r\n        invoiceid: this.invoiceid,\r\n        createdat: this.ApputilsService.getServerTimestamp(),\r\n        status: this.Transaction.status,\r\n        updatedat: this.ApputilsService.getServerTimestamp(),\r\n        notes: \"\",\r\n        transactiondate: this.Transaction.transactiondate,\r\n        editable: false,\r\n      };\r\n      if (Invoicedto.type == \"Installment\") {\r\n        tr.invoicename += Invoicedto.installmentno.toString();\r\n      }\r\n      await this.fs\r\n        .addtransaction(tr, Invoicedto.id)\r\n        .then(\r\n          await this.fs\r\n            .toggletransactionupdate(this.Transaction.id, false)\r\n            .then(),\r\n          await this.fs\r\n            .deleteCustomerCredit(this.customer.id, this.Transaction.id)\r\n            .then()\r\n        );\r\n      pDialog.close();\r\n      this.modal.close();\r\n    }\r\n  }\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\" *ngIf=\"showinvoice\">\r\n    <div class=\"content-body\">\r\n        <div class=\"row invoice-edit\">\r\n            <!-- Invoice Edit Left starts -->\r\n            <div class=\" col-9 printRef  \">\r\n                <div class=\"card invoice-preview-card\" #pdfTable>\r\n                    <!-- Header starts -->\r\n                    <div class=\"card-body invoice-head invoice-padding  pb-0\">\r\n                        <div class=\"\r\n              d-flex\r\n              justify-content-between\r\n              flex-md-row flex-column\r\n              invoice-spacing\r\n              mt-0\r\n            \">\r\n\r\n                            <div>\r\n                                <div class=\"row p-0\" style=\"width: 100%;\">\r\n                                    <div class=\"col-4 p-0\">\r\n                                        <div class=\"logo-wrapper mb-0\">\r\n                                            <svg id=\"Layer_1\" width=\"\" height=\"\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 372.72 297.14\"><defs><style>.cls-1{fill:url(#linear-gradient);}.cls-2{fill:url(#linear-gradient-2);}.cls-3{fill:url(#linear-gradient-3);}.cls-4{fill:url(#linear-gradient-4);}.cls-5{fill:url(#linear-gradient-5);}.cls-6{fill:url(#linear-gradient-6);}.cls-7{fill:url(#linear-gradient-7);}.cls-8{fill:url(#linear-gradient-8);}.cls-9{fill:url(#linear-gradient-9);}.cls-10{fill:url(#linear-gradient-10);}.cls-11{fill:url(#linear-gradient-11);}.cls-12{fill:url(#linear-gradient-12);}.cls-13{fill:url(#linear-gradient-13);}.cls-14{fill:url(#linear-gradient-14);}.cls-15{fill:url(#linear-gradient-15);}.cls-16{fill:url(#linear-gradient-16);}.cls-17{fill:url(#linear-gradient-17);}.cls-18{fill:url(#linear-gradient-18);}.cls-19{fill:url(#linear-gradient-19);}.cls-20{fill:url(#linear-gradient-20);}.cls-21{fill:url(#linear-gradient-21);}.cls-22{fill:url(#linear-gradient-22);}.cls-23{fill:url(#linear-gradient-23);}</style><linearGradient id=\"linear-gradient\" x1=\"304.74\" y1=\"196.82\" x2=\"145.92\" y2=\"59.7\" gradientUnits=\"userSpaceOnUse\"><stop offset=\"0.1\" stop-color=\"#92764b\"/><stop offset=\"0.33\" stop-color=\"#ecddb8\"/><stop offset=\"0.49\" stop-color=\"#836231\"/><stop offset=\"0.61\" stop-color=\"#836231\"/><stop offset=\"0.8\" stop-color=\"#ecddb8\"/></linearGradient><linearGradient id=\"linear-gradient-2\" x1=\"290.36\" y1=\"213.47\" x2=\"131.54\" y2=\"76.35\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-3\" x1=\"261.13\" y1=\"247.34\" x2=\"102.31\" y2=\"110.21\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-4\" x1=\"264.51\" y1=\"243.42\" x2=\"105.69\" y2=\"106.3\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-5\" x1=\"268.05\" y1=\"239.31\" x2=\"109.24\" y2=\"102.19\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-6\" x1=\"213.51\" y1=\"302.48\" x2=\"54.69\" y2=\"165.36\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-7\" x1=\"224.24\" y1=\"290.05\" x2=\"65.43\" y2=\"152.93\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-8\" x1=\"236.04\" y1=\"276.4\" x2=\"77.22\" y2=\"139.27\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-9\" x1=\"246\" y1=\"264.85\" x2=\"87.18\" y2=\"127.73\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-10\" x1=\"258.97\" y1=\"249.84\" x2=\"100.15\" y2=\"112.72\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-11\" x1=\"268.04\" y1=\"239.33\" x2=\"109.22\" y2=\"102.2\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-12\" x1=\"277\" y1=\"228.95\" x2=\"118.18\" y2=\"91.83\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-13\" x1=\"283.4\" y1=\"221.53\" x2=\"124.59\" y2=\"84.41\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-14\" x1=\"202.7\" y1=\"315\" x2=\"43.89\" y2=\"177.88\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-15\" x1=\"209.93\" y1=\"306.64\" x2=\"51.11\" y2=\"169.51\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-16\" x1=\"216.69\" y1=\"298.81\" x2=\"57.87\" y2=\"161.68\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-17\" x1=\"222.58\" y1=\"291.98\" x2=\"63.77\" y2=\"154.86\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-18\" x1=\"228.3\" y1=\"285.36\" x2=\"69.48\" y2=\"148.24\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-19\" x1=\"236.16\" y1=\"276.26\" x2=\"77.34\" y2=\"139.14\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-20\" x1=\"243.01\" y1=\"268.32\" x2=\"84.19\" y2=\"131.2\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-21\" x1=\"250.93\" y1=\"259.15\" x2=\"92.11\" y2=\"122.03\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-22\" x1=\"257.91\" y1=\"251.06\" x2=\"99.09\" y2=\"113.94\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-23\" x1=\"264.67\" y1=\"243.23\" x2=\"105.85\" y2=\"106.11\" xlink:href=\"#linear-gradient\"/></defs><path class=\"cls-1\" d=\"M141.47,105.22a45,45,0,0,1,89.78,0v.2h9.25l0-.23a54.25,54.25,0,0,0-108.27,0v.23h9.24Z\"/><path class=\"cls-2\" d=\"M238.89,122.84a55.26,55.26,0,0,0,1.6-8.83l0-.24H199.88V123h29.17a45.14,45.14,0,0,1-87.58-9l0-.2h-9.09l0,.24a54.35,54.35,0,0,0,106.52,8.83Z\"/><polygon class=\"cls-3\" points=\"178.81 181.77 178.81 173.11 181.92 173.11 181.92 172.13 174.18 172.13 174.18 173.11 177.29 173.11 177.29 181.77 178.81 181.77\"/><polygon class=\"cls-4\" points=\"191.37 181.76 191.37 172.11 189.84 172.11 189.84 176.44 185.13 176.44 185.13 172.11 183.62 172.11 183.62 181.76 185.13 181.76 185.13 177.42 189.84 177.42 189.84 181.76 191.37 181.76\"/><polygon class=\"cls-5\" points=\"193.07 181.76 198.54 181.76 198.54 180.78 194.58 180.78 194.58 177.42 197.5 177.42 197.5 176.44 194.58 176.44 194.58 173.09 198.54 173.09 198.54 172.11 193.07 172.11 193.07 181.76\"/><path class=\"cls-6\" d=\"M102.26,207.84H116.1a15.48,15.48,0,0,1-1.25,5.25,15.24,15.24,0,0,1-3,4.49,14.2,14.2,0,0,1-4.23,3,12.1,12.1,0,0,1-5.09,1.1,12.35,12.35,0,0,1-5.28-1.17A13.85,13.85,0,0,1,93,217.31,15.33,15.33,0,0,1,90,212.55,15.88,15.88,0,0,1,89,206.7,16.1,16.1,0,0,1,90,200.83,15.31,15.31,0,0,1,93,196.05a13.85,13.85,0,0,1,4.34-3.21,12.46,12.46,0,0,1,10.91.18,14.42,14.42,0,0,1,4.52,3.67l.24.28,1.76-2.07-.2-.2a17.13,17.13,0,0,0-5.36-3.62,17.07,17.07,0,0,0-13.21,0,17,17,0,0,0-9,9,16.76,16.76,0,0,0,0,13.18,17.38,17.38,0,0,0,3.62,5.39A17.07,17.07,0,0,0,96,222.3a17,17,0,0,0,13.23,0,17.07,17.07,0,0,0,5.36-3.64,17.58,17.58,0,0,0,3.63-5.39,16.39,16.39,0,0,0,1.34-6.57v-.77H102.26Z\"/><path class=\"cls-7\" d=\"M144.5,223.55h4.08l-.17-.42-6.24-16q-3.09-8-6.19-16l-.07-.2h-1.85l-13.33,32.64h2l11.15-27.2c1.67,4.34,3.37,8.76,5.08,13.14l5.41,13.87Z\"/><polygon class=\"cls-8\" points=\"171.91 221.69 157.86 221.69 157.86 190.91 154.06 190.91 154.06 223.6 171.91 223.6 171.91 221.69\"/><polygon class=\"cls-9\" points=\"181.19 190.91 177.39 190.91 177.39 223.6 195.24 223.6 195.24 221.69 181.19 221.69 181.19 190.91\"/><polygon class=\"cls-10\" points=\"200.72 223.6 218.57 223.6 218.57 221.69 204.53 221.69 204.53 208.21 214.88 208.21 214.88 206.3 204.53 206.3 204.53 192.82 218.57 192.82 218.57 190.91 200.72 190.91 200.72 223.6\"/><path class=\"cls-11\" d=\"M241.15,222.74v.77h3.34v-.77a17,17,0,0,0-.68-4.8,16.52,16.52,0,0,0-1.95-4.29,17.31,17.31,0,0,0-3-3.53,16.34,16.34,0,0,0-2.92-2.09,8.64,8.64,0,0,0,6.65-5.2,8.51,8.51,0,0,0,0-6.62,8.54,8.54,0,0,0-1.84-2.73,8.85,8.85,0,0,0-2.73-1.85,8.5,8.5,0,0,0-3.33-.67H224.05v32.68h3.81V208.12h3.2a12.82,12.82,0,0,1,4,2,14.63,14.63,0,0,1,3.21,3.31,15.85,15.85,0,0,1,2.13,4.3A16.37,16.37,0,0,1,241.15,222.74Zm-7.92-16.58h-5.37V192.92h5.37a6.24,6.24,0,0,1,2.58.53,6.57,6.57,0,0,1,2.1,1.41,6.71,6.71,0,0,1,1.42,2.1,6.54,6.54,0,0,1,0,5.16,6.71,6.71,0,0,1-1.42,2.1,6.57,6.57,0,0,1-2.1,1.41A6.24,6.24,0,0,1,233.23,206.16Z\"/><rect class=\"cls-12\" x=\"249.97\" y=\"190.91\" width=\"3.8\" height=\"32.68\"/><path class=\"cls-13\" d=\"M286.94,223.13q-3.15-8-6.24-16t-6.19-16l-.08-.2h-1.85l-13.33,32.64h2.05l11.16-27.2c1.69,4.41,3.4,8.83,5.08,13.14q2.67,6.88,5.4,13.87l.08.19h4.08Z\"/><path class=\"cls-14\" d=\"M116.7,239.55a4.63,4.63,0,0,0-.88-1,4.58,4.58,0,0,0-.43-.34l.17-.07a2.71,2.71,0,0,0,1.36-1.39,2.52,2.52,0,0,0,.21-1,2.48,2.48,0,0,0-.21-1,2.53,2.53,0,0,0-.56-.84,2.71,2.71,0,0,0-.84-.57,2.56,2.56,0,0,0-1-.21h-3.21v9.65h1.51v-4.37h.65a3.28,3.28,0,0,1,1,.52,3.78,3.78,0,0,1,.86.88,4.41,4.41,0,0,1,.57,1.15,4.33,4.33,0,0,1,.21,1.35v.44h1.38v-.44a5.13,5.13,0,0,0-.2-1.42A4.81,4.81,0,0,0,116.7,239.55Zm-1.45-2.7a1.6,1.6,0,0,1-1.16.49h-1.3v-3.29h1.3a1.56,1.56,0,0,1,.64.13,1.63,1.63,0,0,1,.87.87,1.56,1.56,0,0,1,.13.64,1.53,1.53,0,0,1-.13.64A1.59,1.59,0,0,1,115.25,236.85Z\"/><polygon class=\"cls-15\" points=\"127.54 242.69 133.01 242.69 133.01 241.71 129.05 241.71 129.05 238.36 131.97 238.36 131.97 237.38 129.05 237.38 129.05 234.02 133.01 234.02 133.01 233.04 127.54 233.04 127.54 242.69\"/><path class=\"cls-16\" d=\"M148.42,238a3.84,3.84,0,0,0-1.2-1c-.47-.3-.85-.56-1.12-.77a4.94,4.94,0,0,1-.6-.55.92.92,0,0,1-.21-.34,1.12,1.12,0,0,1,0-.31.71.71,0,0,1,.07-.29.83.83,0,0,1,.2-.3,1.07,1.07,0,0,1,.34-.23,1.32,1.32,0,0,1,1,0,1.44,1.44,0,0,1,.39.24,1.29,1.29,0,0,1,.25.28.72.72,0,0,1,.1.2l0,.24h.72l0-.77,0-.05a1.78,1.78,0,0,0-.41-.59,2.57,2.57,0,0,0-.55-.38,2.4,2.4,0,0,0-.64-.21,3.61,3.61,0,0,0-.66,0,2.42,2.42,0,0,0-1.71,1,2.14,2.14,0,0,0-.4.91,1.91,1.91,0,0,0,.08,1,2.3,2.3,0,0,0,.54.91,5,5,0,0,0,.74.63l.84.55a6.61,6.61,0,0,1,.83.64,2.22,2.22,0,0,1,.66,1,1.93,1.93,0,0,1,0,1,1.45,1.45,0,0,1-.52.75,1.39,1.39,0,0,1-1,.26,1.57,1.57,0,0,1-.79-.2,2.85,2.85,0,0,1-.63-.46,2.25,2.25,0,0,1-.39-.47.83.83,0,0,1-.1-.2v-.27h-1.16l.17.43a3.72,3.72,0,0,0,.61,1,3.66,3.66,0,0,0,.77.67,3.3,3.3,0,0,0,.82.37,3,3,0,0,0,.74.1s0,0,.06,0a2.86,2.86,0,0,0,1.3-.28,2.76,2.76,0,0,0,1-.8,2.72,2.72,0,0,0,.52-1.13,2.92,2.92,0,0,0,0-1.28A3.28,3.28,0,0,0,148.42,238Z\"/><rect class=\"cls-17\" x=\"159.16\" y=\"233.04\" width=\"1.51\" height=\"9.65\"/><path class=\"cls-18\" d=\"M177.48,234.46a5.24,5.24,0,0,0-1.53-1,4.7,4.7,0,0,0-1.87-.38h-3.35v9.65h3.35a4.7,4.7,0,0,0,1.87-.38,5.06,5.06,0,0,0,1.53-1,4.86,4.86,0,0,0,1-1.52,4.78,4.78,0,0,0,.38-1.88,4.71,4.71,0,0,0-.38-1.88A4.91,4.91,0,0,0,177.48,234.46Zm-.3,4.9a3.88,3.88,0,0,1-2,2,3.71,3.71,0,0,1-1.49.3h-1.41V234h1.41a3.71,3.71,0,0,1,1.49.3,3.94,3.94,0,0,1,1.22.83,4.09,4.09,0,0,1,.82,1.22,3.79,3.79,0,0,1,.3,1.5A3.74,3.74,0,0,1,177.18,239.36Z\"/><polygon class=\"cls-19\" points=\"188.95 242.69 194.42 242.69 194.42 241.71 190.47 241.71 190.47 238.36 193.38 238.36 193.38 237.38 190.47 237.38 190.47 234.02 194.42 234.02 194.42 233.04 188.95 233.04 188.95 242.69\"/><polygon class=\"cls-20\" points=\"210.06 240.11 205.24 233.04 203.49 233.04 204.44 234.43 204.44 242.69 205.42 242.69 205.42 235.88 209.97 242.56 210.06 242.69 211.03 242.69 211.03 233.04 210.06 233.04 210.06 240.11\"/><path class=\"cls-21\" d=\"M223.54,234.85a3.77,3.77,0,0,1,1.16-.86,3.3,3.3,0,0,1,2.86,0,3.56,3.56,0,0,1,1.19,1l.22.26.86-.86-.22-.21a4.81,4.81,0,0,0-1.58-1.09,5,5,0,0,0-3.89,0,5,5,0,0,0-3,4.6,4.93,4.93,0,0,0,.4,2,5.07,5.07,0,0,0,1.07,1.58,5,5,0,0,0,1.58,1.06,4.73,4.73,0,0,0,2,.4,4.84,4.84,0,0,0,1.94-.39,5.07,5.07,0,0,0,1.58-1.07l.22-.21-.86-.88-.22.26a3.71,3.71,0,0,1-1.19,1,3.3,3.3,0,0,1-2.86,0,3.74,3.74,0,0,1-1.16-.85,4,4,0,0,1-.78-1.28,4.29,4.29,0,0,1-.28-1.57,4.34,4.34,0,0,1,.28-1.58A4,4,0,0,1,223.54,234.85Z\"/><polygon class=\"cls-22\" points=\"239.89 242.69 245.36 242.69 245.36 241.71 241.4 241.71 241.4 238.36 244.32 238.36 244.32 237.38 241.4 237.38 241.4 234.02 245.36 234.02 245.36 233.04 239.89 233.04 239.89 242.69\"/><path class=\"cls-23\" d=\"M260.77,238a3.78,3.78,0,0,0-1.21-1c-.47-.3-.84-.56-1.11-.77a4.28,4.28,0,0,1-.6-.55.85.85,0,0,1-.22-.34,1.1,1.1,0,0,1,0-.31.88.88,0,0,1,.06-.29,1,1,0,0,1,.21-.3,1.07,1.07,0,0,1,.34-.23,1.32,1.32,0,0,1,1,0,1.84,1.84,0,0,1,.39.24,1.23,1.23,0,0,1,.24.28c.08.13.1.19.11.2l.05.24h.72l0-.77,0-.05a1.78,1.78,0,0,0-.41-.59,2.57,2.57,0,0,0-.55-.38,2.47,2.47,0,0,0-.65-.21,3.46,3.46,0,0,0-.65,0,2.18,2.18,0,0,0-1,.31,2.38,2.38,0,0,0-.75.66,2.27,2.27,0,0,0-.4.91,2,2,0,0,0,.08,1,2.3,2.3,0,0,0,.54.91,5.69,5.69,0,0,0,.75.63c.27.18.54.37.84.55a7.42,7.42,0,0,1,.83.64,2.11,2.11,0,0,1,.65,1,1.83,1.83,0,0,1,0,1,1.38,1.38,0,0,1-.51.75,1.39,1.39,0,0,1-.95.26,1.57,1.57,0,0,1-.79-.2,2.85,2.85,0,0,1-.63-.46,2,2,0,0,1-.39-.47,1.11,1.11,0,0,1-.11-.2v-.27h-1.15l.17.43a3.49,3.49,0,0,0,.61,1,3.66,3.66,0,0,0,.77.67,3.15,3.15,0,0,0,.82.37,2.84,2.84,0,0,0,.73.1s.05,0,.07,0a2.89,2.89,0,0,0,1.3-.28,2.76,2.76,0,0,0,1-.8,2.7,2.7,0,0,0,.51-1.13,2.91,2.91,0,0,0,0-1.28A3.44,3.44,0,0,0,260.77,238Z\"/></svg>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"col-8 vl\">\r\n                                        <h3 class=\"text-primary invoice-logo\">\r\n                                            {{metadata.company[0].name}}\r\n                                        </h3>\r\n                                        <p class=\"card-text mb-25\">\r\n                                            <i data-feather=\"map-pin\" style=\"color:green; background: greenyellow;\"> </i> &nbsp;{{ this.metadata.company[0].address }}\r\n                                        </p>\r\n                                        <p class=\"card-text mb-0\">\r\n                                            <i data-feather=\"phone\"></i>&nbsp; {{this.metadata.company[0].phonenumber }}\r\n                                        </p>\r\n                                        <p class=\"card-text mb-25\">\r\n                                            <i data-feather=\"mail\"></i>&nbsp; {{this.metadata.company[0].email }}\r\n                                        </p>\r\n                                        <p class=\"card-text mb-25\">\r\n                                            <i data-feather=\"globe\"></i>&nbsp; {{this.metadata.company[0].website }}\r\n                                        </p>\r\n                                        <p class=\"card-text mb-25\">\r\n                                            <em style=\"color:#ac8b5f;\"> NTN </em> &nbsp; {{this.metadata.company[0].NTN }}\r\n                                        </p>\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class=\"mt-md-0 mt-2 vcparent\">\r\n                                <h1>\r\n                                    INVOICE\r\n\r\n                                </h1>\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- Header ends -->\r\n\r\n\r\n\r\n                    <!-- Address and Contact starts -->\r\n                    <div class=\"card-body invoice-padding pt-0\">\r\n                        <div class=\"row invoice-spacing\">\r\n                            <div class=\"col-6 p-0\">\r\n                                <div class=\"card invoice-card\">\r\n                                    <div class=\"card-header\">\r\n                                        <div class=\"card-title\">\r\n                                            <h3>\r\n                                                Customer Information\r\n                                            </h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"card-body\">\r\n\r\n                                        <table class=\"table table-responsive table-borderless pl-0\">\r\n\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        Name\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{ cust?.name }}\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        CNIC\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{ cust?.cnic}}\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        Address\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{ cust?.permanentaddress }}\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        Phone\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{ cust?.phonenumber }}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n                                <div class=\"card invoice-card\">\r\n                                    <div class=\"card-header\">\r\n                                        <div class=\"card-title\">\r\n                                            <h3>\r\n                                                Apartment #\r\n                                            </h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"card-body\">\r\n\r\n                                        <table class=\"table table-responsive table-borderless pl-0\">\r\n\r\n                                            <tbody>\r\n                                                <tr>\r\n\r\n                                                    <td>\r\n                                                        {{ sale?.apartmentname }}\r\n                                                    </td>\r\n                                                </tr>\r\n\r\n\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <!-- <h6 class=\"mb-2\">Name</h6>\r\n                                <h6 class=\"mb-25\">{{ cust?.name }}</h6>\r\n                                <p class=\"card-text mb-25\">{{ cust?.mailaddress }}</p>\r\n\r\n                                <p class=\"card-text mb-25\">{{ cust?.phonenumber }}</p>\r\n                                <p class=\"card-text mb-0\">{{ cust?.emailaddress }}</p> -->\r\n                            </div>\r\n                            <div class=\"col-5 p-0 mt-xl-0 mt-2 ml-2\">\r\n\r\n                                <table class=\"table  table-bordered  pl-color\">\r\n                                    <tbody>\r\n\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Invoice No</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\">{{\r\n                        invoicedetail?.installmentno\r\n                      }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Invoice Date</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\">{{\r\n                                                        invoiceDate | date\r\n                      }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Apartment Type</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\">{{\r\n                        sale?.apartmenttype\r\n                      }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Floor No</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\">{{\r\n                        floorno\r\n                      }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Area Sqft</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\">{{\r\n                        sale?.apartmentarea | number\r\n                      }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Rate Per Sqft (PKR)</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\">{{\r\n                        sale?.apartmentrate | number\r\n                      }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Payment Amount (PKR)</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\">{{\r\n                        invoicedetail?.amount | number  \r\n                      }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Installment Plan</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\"> {{sale?.installment?.text}}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td class=\"pr-1\">Due Date</td>\r\n                                            <td>\r\n                                                <span class=\"font-weight-bold\">{{\r\n                        dueDate | date\r\n                      }}</span>\r\n                                            </td>\r\n                                        </tr>\r\n\r\n\r\n\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- Address and Contact ends -->\r\n\r\n                    <div class=\" ml-2 mr-2\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th class=\"py-1 color-yellow br-color-yellow\" colspan=\"2\">description</th>\r\n\r\n                                    <th class=\"py-1 color-yellow br-color-yellow\" style=\"border-left: 1px solid black;\">Amount PKR</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td class=\"py-1\" colspan=\"2\">\r\n                                        <p class=\"card-text font-weight-bold mb-25\">{{this.sale?.apartmentname}}</p>\r\n                                        <p class=\"card-text text-nowrap\">\r\n                                            <span *ngIf=\"!this.customDesc\">\r\n                                                <span *ngIf=\"this.invoicedetail?.type != 'Installment'\">\r\n                                                    {{this.invoicedetail?.type}} Invoice\r\n                                                  </span>\r\n                                            <span *ngIf=\"this.invoicedetail?.type == 'Installment'\">\r\n                                                  {{this.invoicedetail.type == \"Installment\" ? 'Installment # '+this.invoicedetail?.installmentno:''}} for the {{(this.sale?.installment?.text == \"Monthly\") ? \"Month\":\"Quater\"}} of {{this.invoicedetail?.invoicedueon.seconds * 1000 | date:'MMMM'}}, {{this.invoicedetail?.invoicedueon.seconds * 1000 | date:'yyy'}}\r\n                                                 </span>\r\n                                            </span>\r\n                                            <span *ngIf=\"this.customDesc\"> \r\n                                                {{this.invoicedescription}}\r\n                                            </span>\r\n\r\n\r\n                                        </p>\r\n                                    </td>\r\n\r\n                                    <td class=\"py-1\" rowspan=\"3\" style=\"vertical-align: text-top; padding-top: 3% !important;\">\r\n                                        <span class=\"font-weight-bold\">{{ this.invoicedetail.amount | number}}</span>\r\n                                    </td>\r\n\r\n                                </tr>\r\n                                <tr>\r\n                                    <td class=\"py-1 color-yellow\" colspan=\"2\">\r\n                                        For Online Bank Payment\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td class=\"py-1\" colspan=\"2\">\r\n                                        <table class=\"table table-borderless\">\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td style=\"width:20%;\">\r\n\r\n                                                        Title\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.banksdto?.Title}}\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td style=\"width:20%;\">\r\n                                                        Account No\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.banksdto?.Iban}}\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td style=\"width:20%;\">\r\n                                                        Bank\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.banksdto?.Name}}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td class=\"py-1 \">\r\n                                        Amount in Words:\r\n                                    </td>\r\n                                    <td class=\"py-1 color-yellow\">\r\n                                        Grand Total\r\n                                    </td>\r\n                                    <td>\r\n                                        {{invoicedetail?.amount | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td class=\"py-1 \" rowspan=\"2\" style=\"padding:1rem;width:50%;\">\r\n                                        <p>\r\n                                            {{this.amountInWords}}\r\n                                        </p>\r\n                                    </td>\r\n                                    <td class=\"py-1 color-yellow\">\r\n                                        Advance Payments\r\n                                    </td>\r\n                                    <td>\r\n                                        {{previousamount | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n\r\n                                    <td class=\"py-1 color-yellow\" style=\"padding-left: 1rem;\">\r\n                                        Balance Due\r\n                                    </td>\r\n                                    <td>\r\n                                        {{invoicedetail.amount-previousamount | number}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <table class=\"table table-bordered\">\r\n                            <tbody>\r\n\r\n                            </tbody>\r\n\r\n                        </table>\r\n                    </div>\r\n\r\n                    <!-- Invoice Total starts -->\r\n                    <div class=\"card-body invoice-padding\">\r\n                        <div class=\"row invoice-sales-total-wrapper\">\r\n                            <div class=\"col-md-6 order-md-1 order-2 mt-md-0 mt-3\">\r\n                                <h6>\r\n                                    Note:\r\n                                </h6>\r\n                                <ul class=\"p-0\">\r\n                                    <li>\r\n                                        Cheque Payable to M/S Niaz Arbaaz (Pvt) Ltd.\r\n                                    </li>\r\n\r\n                                    <li>\r\n                                        Payment to be made by or before 10th of every month.\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6 d-flex justify-content-end order-md-2 order-1\">\r\n                                <h6>\r\n                                    For Niaz Arbaaz Pvt.Ltd.\r\n                                </h6>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- Invoice Total ends -->\r\n\r\n                    <hr class=\"invoice-spacing mt-0\" />\r\n\r\n                    <div class=\"card-body invoice-padding py-0\">\r\n                        <!-- Invoice Note starts -->\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <p>\r\n                                    It is a system generated invoice, does not need any signature.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <!-- Invoice Note ends -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- Invoice Edit Left ends -->\r\n\r\n            <!-- Invoice Edit Right starts -->\r\n            <!-- Invoice Actions -->\r\n            <div class=\"col-xl-3 col-md-4 col-12 invoice-actions mt-md-0 mt-2\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n\r\n                        <a class=\"btn btn-success btn-outline-secondary btn-block mb-75\" routerLink=\"/sales/{{this.planid}}/invoice/{{this.invoiceid}}\" rippleEffect>\r\n                        Back to Invoice \r\n                      </a>\r\n\r\n                        <a class=\"btn btn-danger btn-outline-secondary btn-block mb-75\" (click)=\"htmltoPDF()\" rippleEffect>\r\n            Download Invoice\r\n          </a>\r\n                        <div class=\"d-flex align-items-center mb-1 mt-2\">\r\n                            <span class=\"title\">Invoice Date:</span>\r\n                            <ng2-flatpickr [(ngModel)]=\"invoiceDate\" [config]=\"InvoiceDateDto\" name=\"Invoice Date\"></ng2-flatpickr>\r\n                        </div>\r\n                        <div class=\"d-flex align-items-center mt-2\">\r\n                            <span class=\"title\">Due Date:</span>\r\n                            <ng2-flatpickr [(ngModel)]=\"dueDate\" [config]=\"DueDateDto\" name=\"Due Date\"></ng2-flatpickr>\r\n                        </div>\r\n                        <div class=\"form-group mt-2\" *ngIf=\"this.showinvoice\">\r\n                            <label>\r\n                            Choose the Bank for payment\r\n                          </label>\r\n\r\n                            <ng-select class=\"ng-select-size-lg\" #SelectSizeLarge [ngModelOptions]=\"{standalone: true}\" (change)=\"onBankSelect($event)\" [items]=\"this.metadata.banks\" [searchable]=\"true\" bindLabel=\"Name\" bindValue=\"Iban\">\r\n                                <ng-template ng-header-tmp>\r\n                                    <input class=\"form-control w-100\" placeholder=\"search customer by cnic\" type=\"text\" (input)=\"SelectSizeLarge.filter($event.target.value)\" />\r\n                                </ng-template>\r\n                                <!--/ select size large -->\r\n                            </ng-select>\r\n                        </div>\r\n\r\n                        <div class=\"form-group mt-2\" *ngIf=\"this.showinvoice\">\r\n                            <label>\r\n                           Invoice Description\r\n                          </label>\r\n\r\n                            <div class=\"custom-control custom-checkbox\">\r\n                                <input type=\"checkbox\" class=\"custom-control-input\" id=\"customCheck2\" [(ngModel)]=\"customDesc\" />\r\n                                <label class=\"custom-control-label\" for=\"customCheck2\">Use Custom Description</label>\r\n                            </div>\r\n                            <br>\r\n\r\n                            <textarea rows=\"10\" class=\"form-control\" [(ngModel)]=\"this.invoicedescription\"></textarea>\r\n                        </div>\r\n\r\n                        <div class=\"form-group mt-2\" *ngIf=\"this.showinvoice\">\r\n                            <label>\r\n                          Amount In Words\r\n                          </label>\r\n\r\n\r\n                            <br>\r\n\r\n                            <textarea rows=\"10\" class=\"form-control\" [(ngModel)]=\"this.amountInWords\"></textarea>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--/ Invoice Actions -->\r\n            <!-- Invoice Edit Right ends -->\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Send Invoice Sidebar -->\r\n    <core-sidebar class=\"modal modal-slide-in sidebar-todo-modal fade\" name=\"invoice-sidebar\" overlayClass=\"modal-backdrop\" hideOnEsc=\"true\">\r\n        <app-send-invoice-sidebar></app-send-invoice-sidebar>\r\n    </core-sidebar>\r\n\r\n    <!--/  Send Invoice Sidebar -->\r\n\r\n    <!-- Add Payment Sidebar -->\r\n    <!-- <core-sidebar\r\n    class=\"modal modal-slide-in sidebar-todo-modal fade\"\r\n    name=\"add-payment-sidebar\"\r\n    overlayClass=\"modal-backdrop\"\r\n    hideOnEsc=\"true\"\r\n  >\r\n    <app-add-payment-sidebar></app-add-payment-sidebar>\r\n  </core-sidebar> -->\r\n    <!--/  Add Payment Sidebar -->\r\n</div>","import { Component, ElementRef, Inject, OnInit, ViewChild } from \"@angular/core\";\r\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\r\nimport { firebaseStoreService } from \"../../../auth/service/firebasestoreservice\";\r\nimport { metadata, banksdto } from \"../../../auth/models/metadata\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { ApputilsService } from \"../../../auth/helpers/apputils.service\";\r\nimport { CustomerDto } from \"app/auth/models/customerinfo\";\r\nimport { SalesDto } from \"app/auth/models/plandto\";\r\nimport { PlanScheduleDto } from \"../../../auth/models/plandto\";\r\nimport { FlatpickrOptions } from \"ng2-flatpickr\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\nimport { DOCUMENT } from \"@angular/common\";\r\nimport { Console, debug } from \"console\";\r\n\r\n@Component({\r\n  selector: \"app-invoicedetail\",\r\n  templateUrl: \"./invoicedetail.component.html\",\r\n  styleUrls: [\"./invoicedetail.component.scss\"],\r\n})\r\nexport class InvoicedetailComponent implements OnInit {\r\n  metadata: metadata;\r\n  showinvoice = false;\r\n  sale: SalesDto;\r\n  floorno:string = '';\r\n  invoiceid: string;\r\n  planid: string;\r\n  cust: CustomerDto;\r\n  previousamount:number = 0;\r\n  invoicedetail: PlanScheduleDto;\r\n  banksdto: banksdto;\r\n  invoiceDate = new Date();\r\n  dueDate = new Date();\r\n  invoicedetailDesc:string;\r\n  invoicedescription:string = \"Description\";\r\n  amountInWords:string;\r\n  customDesc:boolean = false;\r\n  public InvoiceDateDto: FlatpickrOptions = {\r\n    defaultDate: this.invoiceDate,\r\n    altInput: true,\r\n  };\r\n  public DueDateDto: FlatpickrOptions = {\r\n    defaultDate: this.dueDate,\r\n    altInput: true,\r\n  };\r\n\r\n  constructor(\r\n    @Inject(DOCUMENT) private document: Document,\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.invoiceid = this.route.snapshot.paramMap.get(\"invoiceid\");\r\n    console.log(this.invoiceid);\r\n    this.planid = this.route.snapshot.paramMap.get(\"id\");\r\n    this.getinvoice();\r\n    this.fs\r\n      .getmetadata()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.metadata = e;\r\n        console.log(this.metadata);\r\n        this.showinvoice = true;\r\n      });\r\n    this.fs\r\n      .getSalebyId(this.planid)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.sale = e;\r\n        this.fs.getapartmentbyid(this.sale.apartmentid).valueChanges().subscribe(e=>{\r\n          this.floorno = e.floorno;\r\n        });\r\n        this.syncustomer(this.sale.customerid);\r\n      });\r\n      \r\n  }\r\n  async syncustomer(id: string) {\r\n    this.fs\r\n      .getCustomerbyId(id)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.cust = e;\r\n      });\r\n    var credits =   await this.fs.getAllCustomerCredits(id).get().toPromise();\r\n    debugger;\r\n    credits.docs.forEach(e=>{\r\n      this.previousamount += e.data().amount;\r\n    });\r\n  }\r\n  onBankSelect($event) {\r\n    this.banksdto = $event;\r\n  }\r\n  @ViewChild('pdfTable', { static: false }) pdfTable!: ElementRef;\r\n\r\n  htmltoPDF() {\r\n    \r\n    debugger;\r\n    if (window.screen.width < 1024) {\r\n      this.document\r\n        .getElementById('viewport')\r\n        ?.setAttribute('content', 'width=1200px');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      html2canvas(this.pdfTable.nativeElement,{scrollY: -window.scrollY})\r\n        .then((canvas) => {\r\n          debugger;\r\n          var pdf = new jsPDF(\"p\", \"pt\", \"a4\");\r\n\r\n          var imgData = canvas.toDataURL('image/jpeg', 1.0);\r\n          window.open(imgData);\r\n\r\n          var width = pdf.internal.pageSize.getWidth();\r\n          var height = pdf.internal.pageSize.getHeight();\r\n\r\n          pdf.addImage(imgData, 0, 0, width, height);\r\n          pdf.save('converteddoc.pdf');\r\n       \r\n\r\n          if (window.screen.width < 1024) {\r\n            document\r\n              .getElementById('viewport')\r\n              ?.setAttribute('content', 'width=device-width, initial-scale=1');\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          debugger;\r\n        });\r\n    }, 1500);\r\n\r\n    // parentdiv is the html element which has to be converted to PDF\r\n  }\r\n  getinvoice() {\r\n    this.fs\r\n      .getinvoicebyid(this.invoiceid)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        console.log(e);\r\n        this.invoicedetail = e;\r\n        this.dueDate= new Date(this.invoicedetail?.invoicedueon.seconds * 1000);\r\n        this.DueDateDto = {\r\n          defaultDate: this.dueDate,\r\n          altInput: true,\r\n        };\r\n\r\n        var dss = new Date(this.dueDate);\r\n       \r\n        dss.setDate(1);\r\n        console.log(dss);\r\n        this.invoiceDate = dss;\r\n        this.InvoiceDateDto =  {\r\n          defaultDate: this.invoiceDate,\r\n          altInput: true,\r\n        };\r\n        debugger;\r\n      \r\n      });\r\n  }\r\n\r\n  configureInvoiceDescription()\r\n  {\r\n    \r\n  }\r\n\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <a class=\"btn btn-primary mb-2\" routerLink=\"/sales/{{this.planid}}\">Back</a>\r\n            <a class=\"btn btn-secondary mb-2 float-right\" routerLink=\"/sales/{{this.planid}}/invoicepreview/{{this.invoiceid}}\">Send Invoice</a>\r\n            <core-card-snippet>\r\n                <div class=\"card-title\">Invoice Detail</div>\r\n                <div class=\"card-body\">\r\n                    <table class=\"table table-bordered\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Apartment Name</td>\r\n                                <td>\r\n                                    {{ this?.sale?.apartmentname }}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Invoice Type</td>\r\n                                <td>\r\n                                    {{ this.invoicedetail?.type }}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Status</td>\r\n                                <td>\r\n                                    <span>\r\n                                    {{ this.invoicedetail?.invoicepaid ? \"Paid\":\"UnPaid\" }}\r\n                                   </span>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Total Amount</td>\r\n                                <td>\r\n                                    {{ this.invoicedetail?.amount | currency }}\r\n\r\n\r\n                                    <b> ( {{this.invoicedetail?.amount | numberToWords}})</b>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Amount Paid</td>\r\n                                <td>\r\n                                    {{ this.invoicedetail?.amountpaid | currency}}\r\n                                    <b> ( {{this.invoicedetail?.amountpaid | numberToWords}})</b>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Amount Left</td>\r\n                                <td>\r\n                                    {{ this.invoicedetail?.amountleft | currency}}\r\n                                    <b> ( {{this.invoicedetail?.amountleft | numberToWords}})</b>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Due Date</td>\r\n                                <td>\r\n                                    {{ this.invoicedetail?.invoicedueon.seconds * 1000 | date: \"dd/MM/yyyy\" }}\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </core-card-snippet>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">Transactions</span>\r\n                        <span class=\"float-right\">\r\n              <div class=\"d-flex align-items-center justify-content-end\">\r\n                <a\r\n                  (click)=\"AddTransaction()\"\r\n                  class=\"btn btn-outline-secondary mr-1\"\r\n                  rippleEffect\r\n                  >Add Transaction</a\r\n                >\r\n              </div>\r\n\r\n              <!-- <i data-feather=\"filter\" class=\"text-primary  cursor-pointer mr-50\"></i> -->\r\n            </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <ul class=\"timeline\">\r\n                        <li class=\"timeline-item\" *ngFor=\"let tr of transactions\">\r\n                            <span class=\"timeline-point {{\r\n                  this.tr.status == this.ApputilsService.TransactionSuccessfull\r\n                    ? 'timeline-point-success'\r\n                    : 'timeline-point-danger'\r\n                }} timeline-point-indicator\"></span>\r\n                            <div class=\"timeline-event\">\r\n                                <div class=\"\r\n                    d-flex\r\n                    justify-content-between\r\n                    flex-sm-row flex-column\r\n                    mb-sm-0 mb-1\r\n                  \">\r\n                                    <h6>{{ tr.amount | currency }}</h6>\r\n                                    <span class=\"timeline-event-time\">{{\r\n                    tr?.createdat?.seconds * 1000 | date: \"dd/MM/yyyy\"\r\n                  }}</span>\r\n                                </div>\r\n                                <p>\r\n                                    {{ tr.status }}\r\n                                    <bold> ({{ tr.paymentmethod }}).</bold>\r\n                                </p>\r\n                                <div class=\"media align-items-center\">\r\n                                    <table class=\"table table-responsive table-borderless\">\r\n                                        <tr>\r\n                                            <td>Bank</td>\r\n                                            <td>\r\n                                                {{ tr.bank }}\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>IBAN</td>\r\n                                            <td>\r\n                                                {{ tr.iban }}\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Transaction Id</td>\r\n                                            <td>\r\n                                                {{ tr.transactionid }}\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td></td>\r\n                                            <td>\r\n\r\n                                                <button (click)=\"ToggleTransaction(tr)\" class=\"btn btn-danger\" value=\"Mark as Void\">\r\n                        \r\n                          {{\r\n                            tr.status ==\r\n                            this.ApputilsService.TransactionSuccessfull\r\n                              ? \"Mark as Void\"\r\n                              : \"Mark as Received\"\r\n                          }}\r\n                        </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </core-card-snippet>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { PlanScheduleDto, SalesDto } from \"app/auth/models/plandto\";\r\nimport { firebaseStoreService } from \"app/auth/service/firebasestoreservice\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { throwIfEmpty } from \"rxjs/operators\";\r\nimport { ApputilsService } from \"../../../../auth/helpers/apputils.service\";\r\nimport { TransactiongeneratorComponent } from \"../../transactiongenerator/transactiongenerator.component\";\r\nimport { Transaction } from \"../../../../auth/models/plandto\";\r\n\r\n@Component({\r\n  selector: \"app-invoicepreview\",\r\n  templateUrl: \"./invoicepreview.component.html\",\r\n  styleUrls: [\"./invoicepreview.component.scss\"],\r\n})\r\nexport class InvoicepreviewComponent implements OnInit {\r\n  invoiceid: string;\r\n  planid: string;\r\n  showReportBasic = true;\r\n  sale: SalesDto;\r\n  transactions: Transaction[] = [];\r\n  invoicedetail: PlanScheduleDto;\r\n  constructor(\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public modal: NgbModal,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.invoiceid = this.route.snapshot.paramMap.get(\"invoiceid\");\r\n    console.log(this.invoiceid);\r\n    this.planid = this.route.snapshot.paramMap.get(\"id\");\r\n    this.invoiceid = this.route.snapshot.paramMap.get(\"invoiceid\");\r\n    console.log(this.invoiceid);\r\n    this.planid = this.route.snapshot.paramMap.get(\"id\");\r\n    this.getinvoice();\r\n\r\n    this.fs\r\n      .getSalebyId(this.planid)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.sale = e;\r\n      });\r\n  }\r\n  getinvoice() {\r\n    this.fs\r\n      .getinvoicebyid(this.invoiceid)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        console.log(e);\r\n        this.invoicedetail = e;\r\n      });\r\n    this.fs\r\n      .gettransactions(this.invoiceid)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.transactions = e;\r\n      });\r\n  }\r\n\r\n  AddTransaction() {\r\n    var dialogRef = this.modal.open(TransactiongeneratorComponent, {\r\n      backdrop: false,\r\n    });\r\n    dialogRef.componentInstance.invoiceid = this.invoiceid;\r\n  }\r\n  ToggleTransaction(tr: Transaction) {\r\n    this.fs\r\n      .toggletransaction(\r\n        this.invoiceid,\r\n        tr.id,\r\n        tr.status == this.ApputilsService.TransactionSuccessfull\r\n          ? this.ApputilsService.TransactionInvalid\r\n          : this.ApputilsService.TransactionSuccessfull\r\n      )\r\n      .then((e) => {\r\n        this.nts.showSuccess(\"Transaction Status changed\", \"Transaction\");\r\n        \r\n      });\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\n\r\n@Component({\r\n  selector: 'app-send-invoice-sidebar',\r\n  templateUrl: './send-invoice-sidebar.component.html'\r\n})\r\nexport class SendInvoiceSidebarComponent implements OnInit {\r\n  constructor(private _coreSidebarService: CoreSidebarService) {}\r\n\r\n  /**\r\n   * Toggle the sidebar\r\n   *\r\n   * @param name\r\n   */\r\n  toggleSidebar(name): void {\r\n    this._coreSidebarService.getSidebarRegistry(name).toggleOpen();\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div class=\"slideout-content\">\r\n  <!-- Modal to add new user starts-->\r\n  <div class=\"modalsd modal-slide-in sdfade new-user-modal\" id=\"modals-slide-in\">\r\n    <div class=\"modal-dialog sidebar-lg\">\r\n      <div class=\"modal-content p-0\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n          (click)=\"toggleSidebar('invoice-sidebar')\"\r\n        >\r\n          ×\r\n        </button>\r\n        <div class=\"modal-header mb-1\">\r\n          <h5 class=\"modal-title\">\r\n            <span class=\"align-middle\">Send Invoice</span>\r\n          </h5>\r\n        </div>\r\n        <div class=\"modal-body flex-grow-1\">\r\n          <form>\r\n            <div class=\"form-group\">\r\n              <label for=\"invoice-from\" class=\"form-label\">From</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"invoice-from\"\r\n                value=\"shelbyComapny@email.com\"\r\n                placeholder=\"company@email.com\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"invoice-to\" class=\"form-label\">To</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"invoice-to\"\r\n                value=\"qConsolidated@email.com\"\r\n                placeholder=\"company@email.com\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"invoice-subject\" class=\"form-label\">Subject</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"invoice-subject\"\r\n                value=\"Invoice of purchased Admin Templates\"\r\n                placeholder=\"Invoice regarding goods\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"invoice-message\" class=\"form-label\">Message</label>\r\n              <textarea\r\n                class=\"form-control\"\r\n                name=\"invoice-message\"\r\n                id=\"invoice-message\"\r\n                cols=\"3\"\r\n                rows=\"11\"\r\n                placeholder=\"Message...\"\r\n              >\r\nDear Queen Consolidated,\r\n\r\nThank you for your business, always a pleasure to work with you!\r\n\r\nWe have generated a new invoice in the amount of $95.59\r\n\r\nWe would appreciate payment of this invoice by 05/11/2019</textarea\r\n              >\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <span class=\"badge badge-light-primary\">\r\n                <i data-feather=\"link\" class=\"mr-25\"></i>\r\n                <span class=\"align-middle\">Invoice Attached</span>\r\n              </span>\r\n            </div>\r\n            <div class=\"form-group d-flex flex-wrap mt-2\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary mr-1\"\r\n                (click)=\"toggleSidebar('invoice-sidebar')\"\r\n                rippleEffect\r\n              >\r\n                Send\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-secondary\"\r\n                data-dismiss=\"modal\"\r\n                (click)=\"toggleSidebar('invoice-sidebar')\"\r\n                rippleEffect\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- Modal to add new user Ends-->\r\n</div>\r\n","import { PlanScheduleDto } from \"../../auth/models/plandto\";\r\nimport { InvoiceType, ApputilsService } from '../../auth/helpers/apputils.service';\r\n export class InvoiceManagement {\r\n  static GenerateInvoice(\r\n    invoiceType: string,\r\n    amount: number,\r\n    dueon: any,\r\n    currentime:any,\r\n    orderno:number\r\n    \r\n  ): PlanScheduleDto {\r\n    let inv: PlanScheduleDto = {\r\n      installmentno: 0,\r\n      amount: amount,\r\n      amountpaid: 0,\r\n      amountleft: amount,\r\n      invoicedueon: dueon,\r\n      invoicepaid: false,\r\n      invoicepaidon: null,\r\n      approvedby: null,\r\n      approvalpicture: \"\",\r\n      id: \"\",\r\n      planid: \"\",\r\n      type: invoiceType,\r\n      createdat: currentime,\r\n      updateat: currentime,\r\n      orderno: orderno\r\n    };\r\n    return inv;\r\n  }\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0 printRef\">\r\n    <div class=\"content-body\">\r\n        <h1 class=\"text-center print-show hide\">\r\n            {{apartment?.name}}\r\n        </h1>\r\n\r\n\r\n\r\n        <div class=\"row\" *ngIf=\"viewform\">\r\n\r\n            <div class=\"col-12 col-md-12 print-hide\">\r\n                <core-card-snippet>\r\n                    <div class=\"card-title\">\r\n                        Generate Your Plan\r\n                    </div>\r\n\r\n                    <div class=\"card-body\">\r\n\r\n                        <form [formGroup]=\"form\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12 col-md-6\">\r\n                                    <!-- select size large -->\r\n                                    <div class=\"form-group\" *ngIf=\"!this.isupdate\">\r\n                                        <ng-select class=\"ng-select-size-lg\" #SelectSizeLarge [ngModelOptions]=\"{standalone: true}\" (change)=\"onApartmentSelect($event)\" [items]=\"apartmentlist\" [(ngModel)]=\"this.apartment.docid\" [searchable]=\"true\" bindLabel=\"name\" bindValue=\"docid\">\r\n                                            <ng-template ng-header-tmp>\r\n                                                <input class=\"form-control w-100\" type=\"text\" (input)=\"SelectSizeLarge.filter($event.target.value)\" />\r\n                                            </ng-template>\r\n                                            <!--/ select size large -->\r\n                                        </ng-select>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div class=\" col-md-6\">\r\n                                    <div class=\"form-group\">\r\n\r\n                                        <input [(ngModel)]=\"rate\" type=\"number\" [class.error]=\"\r\n                    isSubmit && form.controls.rate.errors\r\n                  \" class=\"form-control\" id=\"rate\" formControlName=\"rate\" required />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"client\">Client Name</label>\r\n                                        <input type=\"text\" [class.error]=\"\r\n                    isSubmit && form.controls.client.errors\r\n                  \" class=\"form-control\" id=\"client\" formControlName=\"client\" required />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-6 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"contact\">Contact#</label>\r\n                                        <input type=\"text\" [class.error]=\"\r\n                  isSubmit && form.controls.contact.errors\r\n                \" class=\"form-control\" id=\"contact\" formControlName=\"contact\" required />\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-3 col-sm-4 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"booking\">On Booking </label>\r\n                                        <input type=\"number\" [class.error]=\"\r\n                isSubmit && form.controls.booking.errors\r\n              \" class=\"form-control\" id=\"booking\" max=\"100\" formControlName=\"booking\" required />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-3 col-sm-4 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"confirmation\">On Confirmation</label>\r\n                                        <input type=\"number\" maxlength=\"2\" [class.error]=\"\r\n                isSubmit && form.controls.confirmation.errors\r\n              \" class=\"form-control\" id=\"confirmation\" max=\"100\" formControlName=\"confirmation\" required />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-3  col-sm-4 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"agreement\">On Agreement</label>\r\n                                        <input maxlength=\"2\" type=\"number\" [class.error]=\"\r\n                isSubmit && form.controls.agreement.errors\r\n              \" class=\"form-control\" id=\"agreement\" max=\"100\" formControlName=\"agreement\" required />\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div class=\"col-md-3 col-sm-4 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"possession\">On Possession</label>\r\n                                        <input maxlength=\"2\" max=\"100\" type=\"number\" [class.error]=\"\r\n                isSubmit && form.controls.possession.errors\r\n              \" class=\"form-control\" id=\"possession\" formControlName=\"possession\" required />\r\n                                    </div>\r\n                                </div>\r\n                                \r\n\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"installments\">Installment Plan</label>\r\n                                        <select id=\"installments\" formControlName=\"installments\" [ngModel]=\"this.installmentSelected\" [(value)]=\"this.ApputilsService.InstallmentPlan\" class=\"form-control\" required>\r\n                              <option\r\n                              [ngValue]=\"installment\"\r\n                                *ngFor=\"let installment of ApputilsService.InstallmentPlan\"\r\n                                >\r\n                                {{ installment.text }}\r\n                              </option>\r\n                            </select>\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-6 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"plan\">No. Of Years</label>\r\n                                        <select id=\"plan\" formControlName=\"plan\" [ngModel]=\"this.plan\" [(value)]=\"this.ApputilsService.Years[0]\" class=\"form-control\" required>\r\n                              <option\r\n                                value=\"{{ installment}}\"\r\n                                *ngFor=\"let installment of ApputilsService.Years\"\r\n                                >\r\n                                {{ installment }}\r\n                              </option>\r\n                            </select>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"discount\">Discount</label>\r\n                                        <input maxlength=\"3\" max=\"100\" type=\"number\" [class.error]=\"\r\n                isSubmit && form.controls.discount.errors\r\n              \" class=\"form-control\" id=\"discount\" formControlName=\"discount\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div> -->\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <h3 class=\"align-center\">\r\n                                        Currency \r\n                                    </h3>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"currency\">Currency</label>\r\n                                        <select id=\"currency\" formControlName=\"currency\" (change)=\"currencyChange($event.target.value)\"  [ngModel]=\"this.currency\" class=\"form-control\" required>\r\n                                            <option value=\"dollar\">\r\n                                                Dollar ($)\r\n                                            </option>\r\n                                            <option value=\"pound\">\r\n                                                Pound\r\n                                            </option>\r\n                                            <option value=\"pkr\">\r\n                                                PKR \r\n                                            </option>\r\n                                        </select>\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6 col-sm-4 col-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"possession\">Conversion Rate</label>\r\n                                        <input  type=\"number\" class=\"form-control\"  formControlName=\"crate\" required />\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12\">\r\n                                    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\" rippleEffect>\r\n                                        Generate Plan\r\n                                      </button>\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        </form>\r\n                    </div>\r\n                </core-card-snippet>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-12 col-md-12\" *ngIf=\"show\">\r\n                <core-card-snippet>\r\n                    <div class=\"row card-title\" style=\"width: 100%\">\r\n                        <div class=\"col-12 pr-0\">\r\n                            <span class=\"card-title\">Plan Information</span>\r\n                            <span class=\"float-right\">\r\n                  <div class=\"d-flex align-items-center justify-content-end\">\r\n                    <button type=\"submit\" class=\"btn btn-success print-hide\" (click)=\"onSave()\" rippleEffect>\r\n                        Save Plan\r\n                      </button>\r\n                    <button type=\"submit\" class=\"btn pull-right ml-2 btn-danger print-hide\" (click)=\"onPrint()\" rippleEffect>\r\n                        print\r\n                      </button>\r\n                  </div>\r\n    \r\n                  <!-- <i data-feather=\"filter\" class=\"text-primary cursor-pointer mr-50\"></i> -->\r\n                </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table table-bordered fw-800\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        Date\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.cr}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Client name\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo?.client}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Contact#\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo?.contact}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Rate Sqft.\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo?.apartmentrate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Gross Area Sqft.\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.apartmentarea | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Total Price in {{this.currency}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{ this.PlanInfo.apartmenttotalprice | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Apartment\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.apartmenttype}}-{{this.PlanInfo.type}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Apartment Name\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.apartmentname}}\r\n                                    </td>\r\n                                </tr>\r\n\r\n                            </tbody>\r\n                        </table>\r\n                        <table class=\"table table-bordered fw-800\">\r\n                            <thead class=\"fw-1200\">\r\n                                <th>\r\n                                    Payment Terms\r\n                                </th>\r\n                                <th>\r\n                                    Percentage\r\n                                </th>\r\n                                <th>\r\n                                    Amount ({{this.currency}})\r\n                                </th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        Booking\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.booking}}%\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.bookingamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Confirmation\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.confirmation}}%\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.confirmationamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Agreement\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.agreement}}%\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.agreementamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Total\r\n                                    </td>\r\n                                    <td>\r\n\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo.agreementamount+PlanInfo.bookingamount+PlanInfo.confirmationamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Balance in Installments\r\n                                    </td>\r\n                                    <td>\r\n                                        {{100- (PlanInfo.agreement+PlanInfo.booking+PlanInfo.confirmation+PlanInfo.possession)}}%\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.installmentamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        {{PlanInfo.installment.text}} Amount\r\n                                    </td>\r\n                                    <td>\r\n\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.perinstallmentamount | currencyconvert:this.crate | number:'1.0-0'}}\r\n                                    </td>\r\n                                </tr>\r\n\r\n                                <tr>\r\n                                    <td>\r\n                                        Tenure For Installment\r\n                                    </td>\r\n                                    <td>\r\n\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo.plan}} years\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        No. of Installments\r\n                                    </td>\r\n                                    <td>\r\n\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo.planscehdule.length}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Possession\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.possession}}%\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.possessionamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr *ngIf=\"this.PlanInfo.updatedat != null\">\r\n                                    <td>\r\n                                        Plan Date\r\n                                    </td>\r\n                                    <td>\r\n\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo?.updatedat.seconds * 1000 | date }}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </core-card-snippet>\r\n            </div>\r\n        </div>\r\n        <button (click)=\"htmltoPDF()\" class=\"print-hide btn btn-danger mb-3\"> Download PDF</button>\r\n        <div #pdfTable class=\"row print-hide\" style=\"    background-color:rgb(60, 60, 60);\r\n        max-width: 600px;\r\n        height: 841.89px;\r\n        position: relative;\">\r\n\r\n            <!-- <div class=\"col-6\" style=\"background-image: url('/assets/images/Dusk Masterplan-4.jpg');\r\n            background-size: cover;\r\n            background-position: center center;\r\n            background-repeat: no-repeat;\r\n            text-align: center;\">\r\n\r\n            </div> -->\r\n            <div class=\"col-12\">\r\n                <div class=\"col-12\" style=\"text-align: center;color: beige;padding-top: 20px;\">\r\n\r\n                    <svg id=\"Layer_1\" data-name=\"Layer 1\" height=\"200\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 372.72 297.14\"><defs><style>.cls-1{fill:url(#linear-gradient);}.cls-2{fill:url(#linear-gradient-2);}.cls-3{fill:url(#linear-gradient-3);}.cls-4{fill:url(#linear-gradient-4);}.cls-5{fill:url(#linear-gradient-5);}.cls-6{fill:url(#linear-gradient-6);}.cls-7{fill:url(#linear-gradient-7);}.cls-8{fill:url(#linear-gradient-8);}.cls-9{fill:url(#linear-gradient-9);}.cls-10{fill:url(#linear-gradient-10);}.cls-11{fill:url(#linear-gradient-11);}.cls-12{fill:url(#linear-gradient-12);}.cls-13{fill:url(#linear-gradient-13);}.cls-14{fill:url(#linear-gradient-14);}.cls-15{fill:url(#linear-gradient-15);}.cls-16{fill:url(#linear-gradient-16);}.cls-17{fill:url(#linear-gradient-17);}.cls-18{fill:url(#linear-gradient-18);}.cls-19{fill:url(#linear-gradient-19);}.cls-20{fill:url(#linear-gradient-20);}.cls-21{fill:url(#linear-gradient-21);}.cls-22{fill:url(#linear-gradient-22);}.cls-23{fill:url(#linear-gradient-23);}</style><linearGradient id=\"linear-gradient\" x1=\"304.74\" y1=\"196.82\" x2=\"145.92\" y2=\"59.7\" gradientUnits=\"userSpaceOnUse\"><stop offset=\"0.1\" stop-color=\"#92764b\"/><stop offset=\"0.33\" stop-color=\"#ecddb8\"/><stop offset=\"0.49\" stop-color=\"#836231\"/><stop offset=\"0.61\" stop-color=\"#836231\"/><stop offset=\"0.8\" stop-color=\"#ecddb8\"/></linearGradient><linearGradient id=\"linear-gradient-2\" x1=\"290.36\" y1=\"213.47\" x2=\"131.54\" y2=\"76.35\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-3\" x1=\"261.13\" y1=\"247.34\" x2=\"102.31\" y2=\"110.21\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-4\" x1=\"264.51\" y1=\"243.42\" x2=\"105.69\" y2=\"106.3\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-5\" x1=\"268.05\" y1=\"239.31\" x2=\"109.24\" y2=\"102.19\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-6\" x1=\"213.51\" y1=\"302.48\" x2=\"54.69\" y2=\"165.36\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-7\" x1=\"224.24\" y1=\"290.05\" x2=\"65.43\" y2=\"152.93\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-8\" x1=\"236.04\" y1=\"276.4\" x2=\"77.22\" y2=\"139.27\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-9\" x1=\"246\" y1=\"264.85\" x2=\"87.18\" y2=\"127.73\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-10\" x1=\"258.97\" y1=\"249.84\" x2=\"100.15\" y2=\"112.72\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-11\" x1=\"268.04\" y1=\"239.33\" x2=\"109.22\" y2=\"102.2\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-12\" x1=\"277\" y1=\"228.95\" x2=\"118.18\" y2=\"91.83\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-13\" x1=\"283.4\" y1=\"221.53\" x2=\"124.59\" y2=\"84.41\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-14\" x1=\"202.7\" y1=\"315\" x2=\"43.89\" y2=\"177.88\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-15\" x1=\"209.93\" y1=\"306.64\" x2=\"51.11\" y2=\"169.51\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-16\" x1=\"216.69\" y1=\"298.81\" x2=\"57.87\" y2=\"161.68\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-17\" x1=\"222.58\" y1=\"291.98\" x2=\"63.77\" y2=\"154.86\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-18\" x1=\"228.3\" y1=\"285.36\" x2=\"69.48\" y2=\"148.24\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-19\" x1=\"236.16\" y1=\"276.26\" x2=\"77.34\" y2=\"139.14\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-20\" x1=\"243.01\" y1=\"268.32\" x2=\"84.19\" y2=\"131.2\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-21\" x1=\"250.93\" y1=\"259.15\" x2=\"92.11\" y2=\"122.03\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-22\" x1=\"257.91\" y1=\"251.06\" x2=\"99.09\" y2=\"113.94\" xlink:href=\"#linear-gradient\"/><linearGradient id=\"linear-gradient-23\" x1=\"264.67\" y1=\"243.23\" x2=\"105.85\" y2=\"106.11\" xlink:href=\"#linear-gradient\"/></defs><path class=\"cls-1\" d=\"M141.47,105.22a45,45,0,0,1,89.78,0v.2h9.25l0-.23a54.25,54.25,0,0,0-108.27,0v.23h9.24Z\"/><path class=\"cls-2\" d=\"M238.89,122.84a55.26,55.26,0,0,0,1.6-8.83l0-.24H199.88V123h29.17a45.14,45.14,0,0,1-87.58-9l0-.2h-9.09l0,.24a54.35,54.35,0,0,0,106.52,8.83Z\"/><polygon class=\"cls-3\" points=\"178.81 181.77 178.81 173.11 181.92 173.11 181.92 172.13 174.18 172.13 174.18 173.11 177.29 173.11 177.29 181.77 178.81 181.77\"/><polygon class=\"cls-4\" points=\"191.37 181.76 191.37 172.11 189.84 172.11 189.84 176.44 185.13 176.44 185.13 172.11 183.62 172.11 183.62 181.76 185.13 181.76 185.13 177.42 189.84 177.42 189.84 181.76 191.37 181.76\"/><polygon class=\"cls-5\" points=\"193.07 181.76 198.54 181.76 198.54 180.78 194.58 180.78 194.58 177.42 197.5 177.42 197.5 176.44 194.58 176.44 194.58 173.09 198.54 173.09 198.54 172.11 193.07 172.11 193.07 181.76\"/><path class=\"cls-6\" d=\"M102.26,207.84H116.1a15.48,15.48,0,0,1-1.25,5.25,15.24,15.24,0,0,1-3,4.49,14.2,14.2,0,0,1-4.23,3,12.1,12.1,0,0,1-5.09,1.1,12.35,12.35,0,0,1-5.28-1.17A13.85,13.85,0,0,1,93,217.31,15.33,15.33,0,0,1,90,212.55,15.88,15.88,0,0,1,89,206.7,16.1,16.1,0,0,1,90,200.83,15.31,15.31,0,0,1,93,196.05a13.85,13.85,0,0,1,4.34-3.21,12.46,12.46,0,0,1,10.91.18,14.42,14.42,0,0,1,4.52,3.67l.24.28,1.76-2.07-.2-.2a17.13,17.13,0,0,0-5.36-3.62,17.07,17.07,0,0,0-13.21,0,17,17,0,0,0-9,9,16.76,16.76,0,0,0,0,13.18,17.38,17.38,0,0,0,3.62,5.39A17.07,17.07,0,0,0,96,222.3a17,17,0,0,0,13.23,0,17.07,17.07,0,0,0,5.36-3.64,17.58,17.58,0,0,0,3.63-5.39,16.39,16.39,0,0,0,1.34-6.57v-.77H102.26Z\"/><path class=\"cls-7\" d=\"M144.5,223.55h4.08l-.17-.42-6.24-16q-3.09-8-6.19-16l-.07-.2h-1.85l-13.33,32.64h2l11.15-27.2c1.67,4.34,3.37,8.76,5.08,13.14l5.41,13.87Z\"/><polygon class=\"cls-8\" points=\"171.91 221.69 157.86 221.69 157.86 190.91 154.06 190.91 154.06 223.6 171.91 223.6 171.91 221.69\"/><polygon class=\"cls-9\" points=\"181.19 190.91 177.39 190.91 177.39 223.6 195.24 223.6 195.24 221.69 181.19 221.69 181.19 190.91\"/><polygon class=\"cls-10\" points=\"200.72 223.6 218.57 223.6 218.57 221.69 204.53 221.69 204.53 208.21 214.88 208.21 214.88 206.3 204.53 206.3 204.53 192.82 218.57 192.82 218.57 190.91 200.72 190.91 200.72 223.6\"/><path class=\"cls-11\" d=\"M241.15,222.74v.77h3.34v-.77a17,17,0,0,0-.68-4.8,16.52,16.52,0,0,0-1.95-4.29,17.31,17.31,0,0,0-3-3.53,16.34,16.34,0,0,0-2.92-2.09,8.64,8.64,0,0,0,6.65-5.2,8.51,8.51,0,0,0,0-6.62,8.54,8.54,0,0,0-1.84-2.73,8.85,8.85,0,0,0-2.73-1.85,8.5,8.5,0,0,0-3.33-.67H224.05v32.68h3.81V208.12h3.2a12.82,12.82,0,0,1,4,2,14.63,14.63,0,0,1,3.21,3.31,15.85,15.85,0,0,1,2.13,4.3A16.37,16.37,0,0,1,241.15,222.74Zm-7.92-16.58h-5.37V192.92h5.37a6.24,6.24,0,0,1,2.58.53,6.57,6.57,0,0,1,2.1,1.41,6.71,6.71,0,0,1,1.42,2.1,6.54,6.54,0,0,1,0,5.16,6.71,6.71,0,0,1-1.42,2.1,6.57,6.57,0,0,1-2.1,1.41A6.24,6.24,0,0,1,233.23,206.16Z\"/><rect class=\"cls-12\" x=\"249.97\" y=\"190.91\" width=\"3.8\" height=\"32.68\"/><path class=\"cls-13\" d=\"M286.94,223.13q-3.15-8-6.24-16t-6.19-16l-.08-.2h-1.85l-13.33,32.64h2.05l11.16-27.2c1.69,4.41,3.4,8.83,5.08,13.14q2.67,6.88,5.4,13.87l.08.19h4.08Z\"/><path class=\"cls-14\" d=\"M116.7,239.55a4.63,4.63,0,0,0-.88-1,4.58,4.58,0,0,0-.43-.34l.17-.07a2.71,2.71,0,0,0,1.36-1.39,2.52,2.52,0,0,0,.21-1,2.48,2.48,0,0,0-.21-1,2.53,2.53,0,0,0-.56-.84,2.71,2.71,0,0,0-.84-.57,2.56,2.56,0,0,0-1-.21h-3.21v9.65h1.51v-4.37h.65a3.28,3.28,0,0,1,1,.52,3.78,3.78,0,0,1,.86.88,4.41,4.41,0,0,1,.57,1.15,4.33,4.33,0,0,1,.21,1.35v.44h1.38v-.44a5.13,5.13,0,0,0-.2-1.42A4.81,4.81,0,0,0,116.7,239.55Zm-1.45-2.7a1.6,1.6,0,0,1-1.16.49h-1.3v-3.29h1.3a1.56,1.56,0,0,1,.64.13,1.63,1.63,0,0,1,.87.87,1.56,1.56,0,0,1,.13.64,1.53,1.53,0,0,1-.13.64A1.59,1.59,0,0,1,115.25,236.85Z\"/><polygon class=\"cls-15\" points=\"127.54 242.69 133.01 242.69 133.01 241.71 129.05 241.71 129.05 238.36 131.97 238.36 131.97 237.38 129.05 237.38 129.05 234.02 133.01 234.02 133.01 233.04 127.54 233.04 127.54 242.69\"/><path class=\"cls-16\" d=\"M148.42,238a3.84,3.84,0,0,0-1.2-1c-.47-.3-.85-.56-1.12-.77a4.94,4.94,0,0,1-.6-.55.92.92,0,0,1-.21-.34,1.12,1.12,0,0,1,0-.31.71.71,0,0,1,.07-.29.83.83,0,0,1,.2-.3,1.07,1.07,0,0,1,.34-.23,1.32,1.32,0,0,1,1,0,1.44,1.44,0,0,1,.39.24,1.29,1.29,0,0,1,.25.28.72.72,0,0,1,.1.2l0,.24h.72l0-.77,0-.05a1.78,1.78,0,0,0-.41-.59,2.57,2.57,0,0,0-.55-.38,2.4,2.4,0,0,0-.64-.21,3.61,3.61,0,0,0-.66,0,2.42,2.42,0,0,0-1.71,1,2.14,2.14,0,0,0-.4.91,1.91,1.91,0,0,0,.08,1,2.3,2.3,0,0,0,.54.91,5,5,0,0,0,.74.63l.84.55a6.61,6.61,0,0,1,.83.64,2.22,2.22,0,0,1,.66,1,1.93,1.93,0,0,1,0,1,1.45,1.45,0,0,1-.52.75,1.39,1.39,0,0,1-1,.26,1.57,1.57,0,0,1-.79-.2,2.85,2.85,0,0,1-.63-.46,2.25,2.25,0,0,1-.39-.47.83.83,0,0,1-.1-.2v-.27h-1.16l.17.43a3.72,3.72,0,0,0,.61,1,3.66,3.66,0,0,0,.77.67,3.3,3.3,0,0,0,.82.37,3,3,0,0,0,.74.1s0,0,.06,0a2.86,2.86,0,0,0,1.3-.28,2.76,2.76,0,0,0,1-.8,2.72,2.72,0,0,0,.52-1.13,2.92,2.92,0,0,0,0-1.28A3.28,3.28,0,0,0,148.42,238Z\"/><rect class=\"cls-17\" x=\"159.16\" y=\"233.04\" width=\"1.51\" height=\"9.65\"/><path class=\"cls-18\" d=\"M177.48,234.46a5.24,5.24,0,0,0-1.53-1,4.7,4.7,0,0,0-1.87-.38h-3.35v9.65h3.35a4.7,4.7,0,0,0,1.87-.38,5.06,5.06,0,0,0,1.53-1,4.86,4.86,0,0,0,1-1.52,4.78,4.78,0,0,0,.38-1.88,4.71,4.71,0,0,0-.38-1.88A4.91,4.91,0,0,0,177.48,234.46Zm-.3,4.9a3.88,3.88,0,0,1-2,2,3.71,3.71,0,0,1-1.49.3h-1.41V234h1.41a3.71,3.71,0,0,1,1.49.3,3.94,3.94,0,0,1,1.22.83,4.09,4.09,0,0,1,.82,1.22,3.79,3.79,0,0,1,.3,1.5A3.74,3.74,0,0,1,177.18,239.36Z\"/><polygon class=\"cls-19\" points=\"188.95 242.69 194.42 242.69 194.42 241.71 190.47 241.71 190.47 238.36 193.38 238.36 193.38 237.38 190.47 237.38 190.47 234.02 194.42 234.02 194.42 233.04 188.95 233.04 188.95 242.69\"/><polygon class=\"cls-20\" points=\"210.06 240.11 205.24 233.04 203.49 233.04 204.44 234.43 204.44 242.69 205.42 242.69 205.42 235.88 209.97 242.56 210.06 242.69 211.03 242.69 211.03 233.04 210.06 233.04 210.06 240.11\"/><path class=\"cls-21\" d=\"M223.54,234.85a3.77,3.77,0,0,1,1.16-.86,3.3,3.3,0,0,1,2.86,0,3.56,3.56,0,0,1,1.19,1l.22.26.86-.86-.22-.21a4.81,4.81,0,0,0-1.58-1.09,5,5,0,0,0-3.89,0,5,5,0,0,0-3,4.6,4.93,4.93,0,0,0,.4,2,5.07,5.07,0,0,0,1.07,1.58,5,5,0,0,0,1.58,1.06,4.73,4.73,0,0,0,2,.4,4.84,4.84,0,0,0,1.94-.39,5.07,5.07,0,0,0,1.58-1.07l.22-.21-.86-.88-.22.26a3.71,3.71,0,0,1-1.19,1,3.3,3.3,0,0,1-2.86,0,3.74,3.74,0,0,1-1.16-.85,4,4,0,0,1-.78-1.28,4.29,4.29,0,0,1-.28-1.57,4.34,4.34,0,0,1,.28-1.58A4,4,0,0,1,223.54,234.85Z\"/><polygon class=\"cls-22\" points=\"239.89 242.69 245.36 242.69 245.36 241.71 241.4 241.71 241.4 238.36 244.32 238.36 244.32 237.38 241.4 237.38 241.4 234.02 245.36 234.02 245.36 233.04 239.89 233.04 239.89 242.69\"/><path class=\"cls-23\" d=\"M260.77,238a3.78,3.78,0,0,0-1.21-1c-.47-.3-.84-.56-1.11-.77a4.28,4.28,0,0,1-.6-.55.85.85,0,0,1-.22-.34,1.1,1.1,0,0,1,0-.31.88.88,0,0,1,.06-.29,1,1,0,0,1,.21-.3,1.07,1.07,0,0,1,.34-.23,1.32,1.32,0,0,1,1,0,1.84,1.84,0,0,1,.39.24,1.23,1.23,0,0,1,.24.28c.08.13.1.19.11.2l.05.24h.72l0-.77,0-.05a1.78,1.78,0,0,0-.41-.59,2.57,2.57,0,0,0-.55-.38,2.47,2.47,0,0,0-.65-.21,3.46,3.46,0,0,0-.65,0,2.18,2.18,0,0,0-1,.31,2.38,2.38,0,0,0-.75.66,2.27,2.27,0,0,0-.4.91,2,2,0,0,0,.08,1,2.3,2.3,0,0,0,.54.91,5.69,5.69,0,0,0,.75.63c.27.18.54.37.84.55a7.42,7.42,0,0,1,.83.64,2.11,2.11,0,0,1,.65,1,1.83,1.83,0,0,1,0,1,1.38,1.38,0,0,1-.51.75,1.39,1.39,0,0,1-.95.26,1.57,1.57,0,0,1-.79-.2,2.85,2.85,0,0,1-.63-.46,2,2,0,0,1-.39-.47,1.11,1.11,0,0,1-.11-.2v-.27h-1.15l.17.43a3.49,3.49,0,0,0,.61,1,3.66,3.66,0,0,0,.77.67,3.15,3.15,0,0,0,.82.37,2.84,2.84,0,0,0,.73.1s.05,0,.07,0a2.89,2.89,0,0,0,1.3-.28,2.76,2.76,0,0,0,1-.8,2.7,2.7,0,0,0,.51-1.13,2.91,2.91,0,0,0,0-1.28A3.44,3.44,0,0,0,260.77,238Z\"/></svg>\r\n\r\n                    <h3 style=\"color: white;\">\r\n                        Payment Plan\r\n                    </h3>\r\n                </div>\r\n                <div class=\"col-12 col-12  brouchure\" *ngIf=\"show\" style=\"padding-top: 40px; padding-bottom:40px;\">\r\n\r\n\r\n                    <div class=\"tables\">\r\n                        <table class=\"table table-bordered pl-color\" style=\"margin-bottom: 0px;\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <td>\r\n                                        Apartment Type\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.apartmenttype}}\r\n                                    </td>\r\n                                </tr>\r\n\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td style=\"background-color:blanchedalmond;\">\r\n                                        Average Area - Sqft\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.apartmentarea | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Rate Per Sqft - {{this.currency}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.apartmentrate | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Total Cost Of Apartment {{this.currency}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.apartmenttotalprice | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Tenure For Installements\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo.plan}} years\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Payment Terms\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.apartmenttotalprice | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Monthly / Quaterly\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo.planscehdule.length}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Advance 30%\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo.agreementamount+PlanInfo.bookingamount+PlanInfo.confirmationamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Balance in installments 60%\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.installmentamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        No of Installment Monthly\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo.planscehdule.length}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Monthly Installment {{this.currency}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.PlanInfo.perinstallmentamount | currencyconvert:this.crate | number:'1.0-0'}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        On Possession 10%\r\n                                    </td>\r\n                                    <td>\r\n                                        {{PlanInfo?.possessionamount | currencyconvert:this.crate | number}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        Facing\r\n                                    </td>\r\n                                    <td>\r\n                                        MCB & Gaddafi\r\n                                    </td>\r\n                                </tr>\r\n\r\n                            </tbody>\r\n                        </table>\r\n\r\n                    </div>\r\n\r\n                    <h6 style=\"color:white;\" class=\"mt-2\">\r\n                        For & on behalf of The Galleria Residences\r\n                    </h6>\r\n\r\n\r\n\r\n                </div>\r\n                <div style=\"text-align: center;padding-top: 20px;\">\r\n\r\n\r\n\r\n                    <h6 style=\"color: white;\">\r\n                        The Project Of Niaz Arbaz Pvt Ltd\r\n                    </h6>\r\n                </div>\r\n                <hr class=\"divider\">\r\n\r\n            </div>\r\n\r\n            <div class=\"col-4 p-0 mb-3 bt-plan\">\r\n                <i data-feather=\"map-pin\" style=\"color:green; background: greenyellow;\"> </i> &nbsp;\r\n                <span>\r\n                    {{ this.metadata.company[0].address }}\r\n                </span>\r\n\r\n            </div>\r\n            <div class=\"col-3 p-0 mb-3 bt-plan\">\r\n                <i data-feather=\"phone\"></i>&nbsp;\r\n                <span>\r\n                    {{this.metadata.company[0].phonenumber }}\r\n                </span>\r\n            </div>\r\n            <div class=\"col-3 p-0 mb-3 bt-plan\">\r\n                <i data-feather=\"mail\"></i>&nbsp; <span>\r\n                    act.rec@niazgroup.com\r\n                </span>\r\n\r\n            </div>\r\n            <div class=\"col-2 p-0 mb-3 bt-plan\">\r\n                <i data-feather=\"globe\"></i>&nbsp;\r\n                <span>\r\n                    www.tgr.com\r\n                </span>\r\n            </div>\r\n\r\n        </div>\r\n        <!-- <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <core-card-snippet>\r\n                    <div class=\"card-title\">\r\n                        Installment Plan\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table table-bordered\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>\r\n                                            Month\r\n                                        </th>\r\n                                        <th>\r\n                                            Amount (PKR)\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let p of PlanSchedule\">\r\n                                        <td>\r\n                                            {{ (p.invoicedueon.seconds != undefined ? p.invoicedueon.seconds * 1000 : p.invoicedueon) | date:\"dd/MM/yyyy\" }}\r\n                                        </td>\r\n                                        <td>\r\n                                            {{p.amount | number}}\r\n                                        </td>\r\n\r\n                                    </tr>\r\n                                    <tr *ngIf=\"show\">\r\n                                        <td>\r\n                                            <h5>\r\n\r\n                                                Total\r\n                                            </h5>\r\n                                        </td>\r\n                                        <td>\r\n                                            <h5>\r\n                                                {{this?.PlanInfo?.installmentamount | currency}}\r\n                                            </h5>\r\n\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                </core-card-snippet>\r\n\r\n              \r\n            </div>\r\n        </div> -->\r\n\r\n    </div>\r\n</div>","import { ThrowStmt } from \"@angular/compiler\";\r\nimport { Route } from \"@angular/compiler/src/core\";\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\nimport html2canvas from 'html2canvas';\r\nimport { jsPDF } from 'jspdf';\r\nimport { Component, ElementRef, Inject, OnInit, ViewChild } from \"@angular/core\";\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport {\r\n  ApputilsService,\r\n  Installments,\r\n} from \"../../../auth/helpers/apputils.service\";\r\nimport { RouterHelper } from \"../../../auth/helpers/router-helper\";\r\nimport { firebaseStoreService } from \"../../../auth/service/firebasestoreservice\";\r\nimport { Apartmentdto } from \"../../../auth/models/apartmentdto\";\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PlanDto, PlanScheduleDto } from '../../../auth/models/plandto';\r\nimport { ColumnMode, DatatableComponent, id } from \"@swimlane/ngx-datatable\";\r\nimport { NgbActiveModal, NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { ProgressdialogComponent } from \"app/main/progressdialog/progressdialog.component\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { THIS_EXPR } from \"@angular/compiler/src/output/output_ast\";\r\nimport { InvoiceManagement } from '../invoicemanagement';\r\nimport { InvoiceType } from '../../../auth/helpers/apputils.service';\r\nimport Swal from \"sweetalert2\";\r\nimport { metadata } from \"app/auth/models/metadata\";\r\n\r\n@Component({\r\n  selector: \"app-plan-generator\",\r\n  templateUrl: \"./plan-generator.component.html\",\r\n  styleUrls: [\"./plan-generator.component.scss\"],\r\n})\r\nexport class PlanGeneratorComponent implements OnInit {\r\n  public form: FormGroup;\r\n  isSubmit = false;\r\n  apartment: Apartmentdto;\r\n  installmentSelected: Installments;\r\n  plan: number;\r\n  aptId: string;\r\n  show: boolean = false;\r\n  metadata: metadata;\r\n  isupdate = false;\r\n  planId:string;\r\n  cr:Date = new Date();\r\n  crate:number;\r\n  rate:number;\r\n  viewform: boolean = false;\r\n  PlanSchedule: PlanScheduleDto[] = [];\r\n  currency:string;\r\n  apartmentlist: Apartmentdto[] = [];\r\n  PlanInfo: PlanDto = {\r\n    id: \"\",\r\n    client: \"\",\r\n    contact: \"\",\r\n    plan: 0,\r\n    installment: null,\r\n    installmentamount: 0,\r\n    agreement: 0,\r\n    agreementamount: 0,\r\n    possessionamount: 0,\r\n    possession: 0,\r\n    confirmation: 0,\r\n    confirmationamount: 0,\r\n    booking: 0,\r\n    bookingamount: 0,\r\n    plancreation: null,\r\n    planscehdule: [],\r\n    apartmentid: \"\",\r\n    apartmentname: \"\",\r\n    apartmentrate: 0,\r\n    apartmenttotalprice: 0,\r\n    apartmentarea: 0,\r\n    createdat: null,\r\n    updatedat: null,\r\n    apartmenttype: \"\",\r\n    type: \"\",\r\n    totalamount: 0,\r\n    perinstallmentamount: 0\r\n  };\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  public ColumnMode = ColumnMode;\r\n  constructor(\r\n    @Inject(DOCUMENT) private document: Document,\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser:Router,\r\n    public fs: firebaseStoreService,\r\n    public ApputilsService: ApputilsService,\r\n    public FormBuilder: FormBuilder,\r\n    public router: RouterHelper,\r\n    public nts:NotificationService\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this.installmentSelected = this.ApputilsService.InstallmentPlan[0];\r\n    this.plan = 1;\r\n    this.form = this.FormBuilder.group({\r\n      contact: [null, [Validators.required]],\r\n      client: [null, [Validators.required]],\r\n      booking: [null, [Validators.required]],\r\n      confirmation: [null, [Validators.required]],\r\n      possession: [null, [Validators.required]],\r\n      agreement: [null, [Validators.required]],\r\n      installments: [null, [Validators.required]],\r\n      plan: [null, [Validators.required]],\r\n      rate:[null,Validators.required],\r\n      crate:[null,Validators.required],\r\n      currency:[null,Validators.required]\r\n      // discount: [null],\r\n    });\r\n    debugger;\r\n    var docs = await this.fs.getSALEapartments().get().toPromise();\r\n    docs.docs.forEach((e) => {\r\n      this.apartmentlist.push(e.data() as Apartmentdto);\r\n    });\r\n\r\n    if (this.route.snapshot.url[0].path == \"generateplan\") {\r\n      var planId = this.route.snapshot.queryParamMap.get(\"id\");\r\n      if (planId != null && planId != undefined) {\r\n        this.planId = planId;\r\n        this.PlanInfo = (\r\n          await this.fs.getPlanById(planId).get().toPromise()\r\n        ).data();\r\n        debugger;\r\n        this.PlanSchedule = this.PlanInfo.planscehdule;\r\n        this.show = true;\r\n        this.isupdate = true;\r\n        this.apartment = this.apartmentlist.filter(\r\n          (e) => e.docid == this.PlanInfo.apartmentid\r\n        )[0];\r\n\r\n\r\n        this.form = this.FormBuilder.group({\r\n          contact: [this?.PlanInfo?.contact ?? \"\", [Validators.required]],\r\n          client: [this?.PlanInfo?.client ?? \"\", [Validators.required]],\r\n          booking: [this?.PlanInfo?.booking ?? \"\", [Validators.required]],\r\n          confirmation: [this?.PlanInfo?.confirmation ?? \"\", [Validators.required]],\r\n          possession: [this?.PlanInfo?.possession ?? \"\", [Validators.required]],\r\n          agreement: [this?.PlanInfo?.agreement ?? \"\", [Validators.required]],\r\n          installments: [this?.PlanInfo?.installment ?? \"\", [Validators.required]],\r\n          plan: [this?.PlanInfo?.plan ?? \"\", [Validators.required]],\r\n          rate:[null,Validators.required],\r\n          crate:[null,Validators.required],\r\n      currency:[null,Validators.required]\r\n          // discount: [null],\r\n        });  \r\n        this.installmentSelected = this.ApputilsService.InstallmentPlan.filter(e=>e.months == this.PlanInfo.installment.months)[0];\r\n        this.plan = this.PlanInfo.plan;\r\n        this.rate = this.PlanInfo.apartmentrate;\r\n      } else {\r\n        this.apartment = this.apartmentlist[0];\r\n        this.rate = this.apartment.price;\r\n      }\r\n    } else {\r\n      var id = this.route.snapshot.paramMap.get(\"id\");\r\n      if (id != undefined && id != null) {\r\n        debugger;\r\n        this.aptId = id;\r\n        this.apartment = (\r\n          await this.fs.getapartmentbyid(id).get().toPromise()\r\n        )?.data();\r\n      } else {\r\n        this.apartment = this.apartmentlist[0];\r\n      }\r\n      this.rate = this.apartment.price;\r\n    }\r\n    \r\n    this.fs\r\n    .getmetadata()\r\n    .valueChanges()\r\n    .subscribe((e) => {\r\n      this.metadata = e;\r\n      console.log(this.metadata);\r\n     \r\n    });\r\n    this.viewform = true;\r\n  }\r\n  @ViewChild('pdfTable', { static: false }) pdfTable!: ElementRef;\r\n  currencyChange(events:any)\r\n  {\r\n    this.currency=events;\r\n  }\r\n  htmltoPDF() {\r\n    \r\n    debugger;\r\n    if (window.screen.width < 1024) {\r\n      this.document\r\n        .getElementById('viewport')\r\n        ?.setAttribute('content', 'width=1200px');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      html2canvas(this.pdfTable.nativeElement,{scrollY: -window.scrollY})\r\n        .then((canvas) => {\r\n          debugger;\r\n          var pdf = new jsPDF(\"p\", \"pt\", \"a4\");\r\n\r\n          var imgData = canvas.toDataURL('image/jpeg', 1.0);\r\n          window.open(imgData);\r\n\r\n          var width = pdf.internal.pageSize.getWidth();\r\n          var height = pdf.internal.pageSize.getHeight();\r\n\r\n          pdf.addImage(imgData, 0, 0, width, height);\r\n          pdf.save('converteddoc.pdf');\r\n       \r\n\r\n          if (window.screen.width < 1024) {\r\n            document\r\n              .getElementById('viewport')\r\n              ?.setAttribute('content', 'width=device-width, initial-scale=1');\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          debugger;\r\n        });\r\n    }, 1500);\r\n\r\n    // parentdiv is the html element which has to be converted to PDF\r\n  }\r\n  converttocurrency()\r\n  {\r\n    \r\n  }\r\n  async onSubmit() {\r\n\r\n    \r\n    this.PlanSchedule = [];\r\n\r\n    this.isSubmit = true;\r\n    if (this.form.valid) {\r\n      var pDialog = this.modalservice.open(ProgressdialogComponent, {\r\n        windowClass: \"transparent\",\r\n        backdrop: false,\r\n        centered: true,\r\n      });\r\n\r\n      debugger;\r\n      this.currency = this.form.controls[\"currency\"].value;\r\n      this.crate = this.form.controls[\"crate\"].value;\r\n      var contact = this.form.controls[\"contact\"].value;\r\n      var client = this.form.controls[\"client\"].value;\r\n      var booking = this.form.controls[\"booking\"].value;\r\n      var confirmation = this.form.controls[\"confirmation\"].value;\r\n      var possession = this.form.controls[\"possession\"].value;\r\n      var agreement = this.form.controls[\"agreement\"].value;\r\n      var installments = this.form.controls[\"installments\"]\r\n        .value as Installments;\r\n      var plan = this.form.controls[\"plan\"].value;\r\n      var discount = 0;\r\n      this.PlanInfo.apartmentarea = this.apartment.grossarea;\r\n      let totalPrice: number;\r\n     \r\n        this.PlanInfo.apartmenttotalprice =\r\n        this.ApputilsService.getTotalPrice(this.PlanInfo.apartmentarea,this.rate,null);\r\n      \r\n      totalPrice = this.PlanInfo.apartmenttotalprice;\r\n      var confirmationPrice = this.ApputilsService.getPercentPrice(\r\n        totalPrice,\r\n        confirmation\r\n      );\r\n      var possessionPrice = this.ApputilsService.getPercentPrice(\r\n        totalPrice,\r\n        possession\r\n      );\r\n      var agreementPrice = this.ApputilsService.getPercentPrice(\r\n        totalPrice,\r\n        agreement\r\n      );\r\n      var bookingPrice = this.ApputilsService.getPercentPrice(\r\n        totalPrice,\r\n        booking\r\n      );\r\n      var noInstallments =  installments.text == this.ApputilsService.none.text;\r\n      var installmentAmount =\r\n      installments.text != this.ApputilsService.none.text ?  totalPrice -\r\n        (confirmationPrice + bookingPrice + agreementPrice + possessionPrice):0;\r\n      var totalInstallments = noInstallments ? 0:  (plan * 12) / installments.months;\r\n      var perInstallmentAmount = noInstallments ? 0: installmentAmount / totalInstallments;\r\n\r\n      this.currency = this.form.controls[\"currency\"].value;\r\n      this.crate = this.form.controls[\"crate\"].value;\r\n      this.PlanInfo.client = client;\r\n      this.PlanInfo.contact = contact;\r\n      this.PlanInfo.perinstallmentamount = perInstallmentAmount;\r\n      this.PlanInfo.plan = plan;\r\n      this.PlanInfo.installment = installments;\r\n      this.PlanInfo.agreement = agreement;\r\n      this.PlanInfo.agreementamount = agreementPrice;\r\n      this.PlanInfo.confirmation = confirmation;\r\n      this.PlanInfo.confirmationamount = confirmationPrice;\r\n      this.PlanInfo.booking = booking;\r\n      this.PlanInfo.bookingamount = bookingPrice;\r\n      this.PlanInfo.possession = possession;\r\n      this.PlanInfo.possessionamount = possessionPrice;\r\n      this.PlanInfo.contact = contact;\r\n      this.PlanInfo.client = client;\r\n      this.PlanInfo.type = this.apartment.type;\r\n      this.PlanInfo.apartmenttype = this.apartment.apartmenttype;\r\n      this.PlanInfo.installmentamount = installmentAmount;\r\n      \r\n      this.PlanInfo.apartmentid = this.apartment.docid;\r\n      this.PlanInfo.apartmentname = this.apartment.name;\r\n      this.PlanInfo.apartmentrate = this.rate;\r\n      this.PlanInfo.totalamount = totalPrice;\r\n\r\n      var incrementer = installments.months;\r\n      var currentPlanTime = 0 + incrementer;\r\n      var installmentNo = 1;\r\n      this.PlanSchedule = [];\r\n      perInstallmentAmount = Math.round(perInstallmentAmount);\r\n      while (installmentNo <= totalInstallments) {\r\n        var getDateAfterthreeMonths = this.ApputilsService.getDateAfterMonths(\r\n          new Date(),\r\n          currentPlanTime\r\n        );\r\n        var ps: PlanScheduleDto = {\r\n          installmentno: installmentNo,\r\n          amount: perInstallmentAmount,\r\n          invoicedueon: getDateAfterthreeMonths,\r\n          invoicepaid: false,\r\n          invoicepaidon: null,\r\n          approvedby: null,\r\n          approvalpicture: \"\",\r\n          id: \"\",\r\n          planid: \"\",\r\n          amountpaid: 0,\r\n          amountleft: perInstallmentAmount,\r\n          type: InvoiceType.Installment,\r\n          createdat: new Date(),\r\n          updateat: new Date(),\r\n          orderno: installmentNo+3\r\n        };\r\n\r\n        this.PlanSchedule.push(ps);\r\n        installmentNo++;\r\n        currentPlanTime += incrementer;\r\n      }\r\n      pDialog.close();\r\n      this.PlanInfo.planscehdule = this.PlanSchedule;\r\n      this.show = true;\r\n    }\r\n  }\r\n  onPrint() {\r\n    window.print();\r\n  }\r\n  onSave() {\r\n    debugger;\r\n   \r\n    if (this.isupdate) {\r\n      this.fs.updatePlanById(this.PlanInfo).then(async e=>{\r\n        this.nts.showSuccess(\"Updated\",\"Plan Updated\");\r\n        this.routerser.navigateByUrl(\"/plan\");\r\n      });\r\n    } else {\r\n      this.PlanInfo.createdat = this.ApputilsService.getServerTimestamp();\r\n      this.fs.savePlan(this.PlanInfo).then(async (e) => {\r\n        this.nts.showSuccess(\"Saved\",\"Plan Saved\");\r\n        this.routerser.navigateByUrl(\"/plan\");\r\n      });\r\n    }\r\n  }\r\n  onApartmentSelect(event: any) {\r\n    this.apartment = event;\r\n  }\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0 printRef\">\r\n    <div class=\"row mb-2\">\r\n        <div class=\"col-12\">\r\n            <button type=\"submit\" class=\"btn pull-right ml-2 btn-danger print-hide\" (click)=\"onPrint()\" rippleEffect>\r\n                Print\r\n              </button>\r\n        </div>\r\n    </div>\r\n\r\n    <ul ngbNav #navFilled=\"ngbNav\" [activeId]=\"'general'\" class=\"nav nav-fill nav-pills \">\r\n        <li [ngbNavItem]=\"'general'\" class=\"print-show\">\r\n            <a ngbNavLink class=\"print-hide\">General</a>\r\n\r\n            <ng-template ngbNavContent>\r\n                <div class=\"row\">\r\n                    <div class=\"col-5 col-lg-6\">\r\n                        <core-card-snippet>\r\n                            <div class=\"card-body\">\r\n                                <div class=\"card-title\">\r\n                                    Customer\r\n                                </div>\r\n                                <div class=\"card-body\">\r\n                                    <div class=\"table\">\r\n                                        <table class=\"table  table-bordered fw-800\" *ngIf=\"viewcustomer\">\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Name\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.name}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    CNIC\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.cnic}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Phone Number\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.phonenumber}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Mail Address\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.mailaddress}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Permanent Address\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.permanentaddress}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Email Address\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.emailaddress}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Office Number\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.office}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Source Of Income\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.sourceofincome}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Business Name\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.cust.businessname}}\r\n                                                </td>\r\n                                            </tr>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </core-card-snippet>\r\n                    </div>\r\n                    <div class=\"col-7 col-lg-6\">\r\n                        <core-card-snippet>\r\n                            <div class=\"card-body\">\r\n                                <div class=\"card-title\">\r\n                                    Sale Information\r\n                                </div>\r\n                                <div class=\"card-body\">\r\n                                    <table class=\"table table-responsive table-bordered fw-800\" *ngIf=\"viewsale && viewinvoices\">\r\n                                        <thead class=\"fw-1200\">\r\n                                            <th>\r\n                                                Payment Terms\r\n                                            </th>\r\n                                            <th>\r\n                                                Percentage\r\n                                            </th>\r\n                                            <th>\r\n                                                Amount (PKR)\r\n                                            </th>\r\n                                            <th>\r\n                                                Payable by\r\n                                            </th>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Booking\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale.booking}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale.bookingamount | number}}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.bookinginvoice.invoicepaid ? \"Paid\":\"UnPaid\"}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Confirmation\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale.confirmation}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale.confirmationamount | number}}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.confirmationinvoice.invoicepaid ? \"Paid\":\"UnPaid\"}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Agreement\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale?.agreement}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale?.agreementamount | number}}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.agreementinvoice.invoicepaid ? \"Paid\":\"UnPaid\"}}\r\n                                                </td>\r\n\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Total\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale.agreementamount+sale.bookingamount+sale.confirmationamount | number}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Balance in Installments\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{100- (sale.agreement+sale.booking+sale.confirmation+sale.possession)}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale?.installmentamount | number}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    {{sale.installment.text}} Amount\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.sale.perinstallmentamount | number:'1.0-0'}}\r\n                                                </td>\r\n\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Tenure For Installment\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale.plan}} years\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    No. of Installments\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.installmentinvoice.length}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Possession\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale?.possession}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{sale.possessionamount | number}}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.possesioninvoice.invoicepaid ? \"Paid\":\"UnPaid\"}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr *ngIf=\"this.sale.updatedat != null\">\r\n                                                <td>\r\n                                                    Plan Date\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.sale?.updatedat.seconds * 1000 | date }}\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </core-card-snippet>\r\n                    </div>\r\n                </div>\r\n\r\n            </ng-template>\r\n        </li>\r\n        <li [ngbNavItem]=\"'service'\" class=\"print-hide\">\r\n            <a ngbNavLink>Invoices</a>\r\n            <ng-template ngbNavContent>\r\n                <core-card-snippet>\r\n                    <div class=\"card-title\">\r\n                        Invoices\r\n                    </div>\r\n                    <div class=\"card-body\" *ngIf=\"viewinvoices\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <core-card-snippet>\r\n                                    <div class=\"card-title\">\r\n                                        Booking\r\n                                        <a class=\"mr-1\" routerLink=\"/sales/{{this.sale.id}}/invoice/{{ this?.bookinginvoice?.id }}\" container=\"body\" placement=\"top\" ngbTooltip=\"Preview Invoice\"><i size=\"18\" data-feather=\"eye\"></i\r\n                                          ></a>\r\n                                    </div>\r\n                                    <div class=\"card-body\">\r\n                                        <table class=\"table table-responsive-md  table-bordered\">\r\n                                            <thead>\r\n                                                <th>\r\n                                                    Amount Left\r\n                                                </th>\r\n                                                <th>\r\n                                                    Due on\r\n                                                </th>\r\n                                                <th>\r\n                                                    Status\r\n                                                </th>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        {{this.bookinginvoice?.amountleft}}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.bookinginvoice?.invoicedueon.seconds * 1000 | date:'dd/MM/yyyy'}}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.bookinginvoice?.invoicepaid ? \"Paid\":\"UnPaid\"}}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </core-card-snippet>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <core-card-snippet>\r\n                                    <div class=\"card-title\">\r\n                                        Agreement\r\n                                        <a class=\"mr-1\" routerLink=\"/sales/{{this.sale.id}}/invoice/{{ this.agreementinvoice.id }}\" container=\"body\" placement=\"top\" ngbTooltip=\"Preview Invoice\"><i size=\"18\" data-feather=\"eye\"></i\r\n                                          ></a>\r\n                                    </div>\r\n                                    <div class=\"card-body\">\r\n                                        <table class=\"table table-responsive-md  table-bordered\">\r\n                                            <thead>\r\n                                                <th>\r\n                                                    Amount Left\r\n                                                </th>\r\n                                                <th>\r\n                                                    Due on\r\n                                                </th>\r\n                                                <th>\r\n                                                    Status\r\n                                                </th>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        {{this.agreementinvoice.amountleft}}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.agreementinvoice.invoicedueon.seconds * 1000 | date:'dd/MM/yyyy'}}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.agreementinvoice.invoicepaid ? \"Paid\":\"UnPaid\"}}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </core-card-snippet>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <core-card-snippet>\r\n                                    <div class=\"card-title\">\r\n                                        Confirmation\r\n                                        <a class=\"mr-1\" routerLink=\"/sales/{{this.sale.id}}/invoice/{{ this?.confirmationinvoice.id }}\" container=\"body\" placement=\"top\" ngbTooltip=\"Preview Invoice\"><i size=\"18\" data-feather=\"eye\"></i\r\n                                          ></a>\r\n                                    </div>\r\n                                    <div class=\"card-body\">\r\n                                        <table class=\"table table-responsive-md  table-bordered\">\r\n                                            <thead>\r\n                                                <th>\r\n                                                    Amount Left\r\n                                                </th>\r\n                                                <th>\r\n                                                    Due on\r\n                                                </th>\r\n                                                <th>\r\n                                                    Status\r\n                                                </th>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        {{this.confirmationinvoice?.amountleft}}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.confirmationinvoice?.invoicedueon.seconds * 1000 | date:'dd/MM/yyyy'}}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.confirmationinvoice?.invoicepaid ? \"Paid\":\"UnPaid\"}}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </core-card-snippet>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <core-card-snippet>\r\n                                    <div class=\"card-title\">\r\n                                        Possession\r\n                                        <a class=\"mr-1\" routerLink=\"/sales/{{this.sale.id}}/invoice/{{ this.possesioninvoice?.id }}\" container=\"body\" placement=\"top\" ngbTooltip=\"Preview Invoice\"><i size=\"18\" data-feather=\"eye\"></i\r\n                                          ></a>\r\n                                    </div>\r\n                                    <div class=\"card-body\">\r\n                                        <table class=\"table table-responsive-md  table-bordered\">\r\n                                            <thead>\r\n                                                <th>\r\n                                                    Amount Left\r\n                                                </th>\r\n                                                <th>\r\n                                                    Due on\r\n                                                </th>\r\n                                                <th>\r\n                                                    Status\r\n                                                </th>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        {{this.possesioninvoice?.amountleft}}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.possesioninvoice?.invoicedueon?.seconds * 1000 | date:'dd/MM/yyyy'}}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {{this.possesioninvoice?.invoicepaid ? \"Paid\":\"UnPaid\"}}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </core-card-snippet>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </core-card-snippet>\r\n                <core-card-snippet>\r\n                    <div class=\"card-title\">\r\n                        Installment Invoices\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table  table-bordered\">\r\n                            <thead>\r\n                                <th>\r\n                                    Installment#\r\n                                </th>\r\n                                <th>\r\n                                    Total Amount\r\n                                </th>\r\n                                <th>\r\n                                    Amount Paid\r\n                                </th>\r\n                                <th> Amount Left</th>\r\n                                <th>\r\n                                    Due On\r\n                                </th>\r\n                                <th>\r\n                                    Actions\r\n                                </th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let inst of installmentinvoice\">\r\n                                    <td> {{inst.installmentno}} </td>\r\n                                    <td> {{inst.amount}} </td>\r\n                                    <td> {{inst.amountpaid}} </td>\r\n                                    <td> {{inst.amountleft}} </td>\r\n                                    <td> {{inst.invoicedueon.seconds * 1000 | date:'dd/MM/yyyy' }} </td>\r\n                                    <td>\r\n                                        <a class=\"mr-1\" routerLink=\"/sales/{{this.sale.id}}/invoice/{{ inst.id }}\" container=\"body\" placement=\"top\" ngbTooltip=\"Preview Invoice\"><i size=\"18\" data-feather=\"eye\"></i\r\n                ></a>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </core-card-snippet>\r\n            </ng-template>\r\n        </li>\r\n\r\n    </ul>\r\n    <div [ngbNavOutlet]=\"navFilled\" class=\"mt-1\"></div>\r\n</div>","import { Component, OnInit } from \"@angular/core\";\r\nimport { firebaseStoreService } from \"../../../auth/service/firebasestoreservice\";\r\nimport { SalesDto, PlanScheduleDto } from \"../../../auth/models/plandto\";\r\nimport { CustomerDto } from \"../../../auth/models/customerinfo\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { ApputilsService } from \"../../../auth/helpers/apputils.service\";\r\nimport { ThisReceiver } from \"@angular/compiler\";\r\nimport { InvoiceType } from \"../../../auth/helpers/apputils.service\";\r\n\r\n@Component({\r\n  selector: \"app-saledetail\",\r\n  templateUrl: \"./saledetail.component.html\",\r\n  styleUrls: [\"./saledetail.component.scss\"],\r\n})\r\nexport class SaledetailComponent implements OnInit {\r\n  constructor(\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public fs: firebaseStoreService,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n    public nts: NotificationService\r\n  ) {}\r\n  sale: SalesDto;\r\n  PlanScheduleDto: PlanScheduleDto[] = [];\r\n  cust: CustomerDto;\r\n  bookinginvoice: PlanScheduleDto;\r\n  confirmationinvoice: PlanScheduleDto;\r\n  agreementinvoice: PlanScheduleDto;\r\n  possesioninvoice: PlanScheduleDto;\r\n  installmentinvoice: PlanScheduleDto[] = [];\r\n  viewsale = false;\r\n  viewcustomer = false;\r\n  viewinvoices = false;\r\n  ngOnInit() {\r\n    var planId = this.route.snapshot.paramMap.get(\"id\");\r\n    this.fs\r\n      .getSalebyId(planId)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.sale = e;\r\n        this.viewsale = true;\r\n        this.getInvoices(this.sale.id);\r\n        this.syncustomer(this.sale.customerid);\r\n      });\r\n  }\r\n  syncustomer(id: string) {\r\n    this.fs\r\n      .getCustomerbyId(id)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.cust = e;\r\n        this.viewcustomer = true;\r\n      });\r\n  }\r\n  getInvoices(id: string) {\r\n    this.fs\r\n      .getSaleInvoices(id)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.PlanScheduleDto = e;\r\n        this.viewinvoices = true;\r\n        this.agreementinvoice = this.PlanScheduleDto.filter(\r\n          (e) => e.type == InvoiceType.Agreement\r\n        )[0];\r\n        this.bookinginvoice = this.PlanScheduleDto.filter(\r\n          (e) => e.type == InvoiceType.Booking\r\n        )[0];\r\n        this.confirmationinvoice = this.PlanScheduleDto.filter(\r\n          (e) => e.type == InvoiceType.Confirmation\r\n        )[0];\r\n        this.possesioninvoice = this.PlanScheduleDto.filter(\r\n          (e) => e.type == InvoiceType.Posession\r\n        )[0];\r\n        this.installmentinvoice = this.PlanScheduleDto.filter(\r\n          (e) => e.type == null ||   e.type == InvoiceType.Installment\r\n        );\r\n        this.installmentinvoice = this.installmentinvoice.sort((a,b)=>a.installmentno > b.installmentno ? 1 : -1);\r\n      });\r\n  }\r\n  onPrint() {\r\n    window.print();\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 col-12\">\r\n            <core-card-snippet>\r\n                <div class=\"card-title\">\r\n                    Customer Info\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"form-group\" *ngIf=\"this.iscustomerfetch\">\r\n                        <ng-select class=\"ng-select-size-lg\" #SelectSizeLarge [ngModelOptions]=\"{standalone: true}\" (change)=\"onCustomerSelect($event)\" [items]=\"customers\" [searchable]=\"true\" bindLabel=\"cnic\" bindValue=\"id\">\r\n                            <ng-template ng-header-tmp>\r\n                                <input class=\"form-control w-100\" placeholder=\"search customer by cnic\" type=\"text\" (input)=\"SelectSizeLarge.filter($event.target.value)\" />\r\n                            </ng-template>\r\n                            <!--/ select size large -->\r\n                        </ng-select>\r\n                    </div>\r\n\r\n                    <span class=\"viewplan\" (click)=\"addNewCustomer()\"> Add New </span>\r\n                    <form [formGroup]=\"form\" *ngIf=\"addNew\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"name\">Name</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\n          isSubmit && form.controls.name.errors\r\n        \" class=\"form-control\" id=\"name\" formControlName=\"name\" required />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"name\">Father Name</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\n        isSubmit && form.controls.fathername.errors\r\n      \" class=\"form-control\" id=\"fathername\" formControlName=\"fathername\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"accountcode\">Account Code</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\n        isSubmit && form.controls.accountcode.errors\r\n      \" class=\"form-control\" id=\"account\" formControlName=\"accountcode\" required enabled />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"applicationno\">Application No</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\n      isSubmit && form.controls.applicaitonno.errors\r\n    \" class=\"form-control\" id=\"applicationno\" formControlName=\"applicaitonno\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"cnic\">CNIC</label>\r\n                                    <input type=\"number\" [class.error]=\"\r\n    isSubmit && form.controls.cnic.errors\r\n  \" class=\"form-control\" id=\"cnic\" formControlName=\"cnic\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"cnic\">Nationality</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\n  isSubmit && form.controls.nationality.errors\r\n\" class=\"form-control\" id=\"nationality\" formControlName=\"nationality\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            <div class=\"col-12\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"cnic\">Mail Address</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\nisSubmit && form.controls.mailaddress.errors\r\n\" class=\"form-control\" id=\"mailaddress\" formControlName=\"mailaddress\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"permanentaddress\">Permanent Address</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\nisSubmit && form.controls.permanentaddress.errors\r\n\" class=\"form-control\" id=\"permanentaddress\" formControlName=\"permanentaddress\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"email\">Email Address</label>\r\n                                    <input type=\"email\" [class.error]=\"\r\nisSubmit && form.controls.email.errors\r\n\" class=\"form-control\" id=\"email\" formControlName=\"email\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"phonenumber\">Phone Number</label>\r\n                                    <input type=\"number\" [class.error]=\"\r\nisSubmit && form.controls.number.errors\r\n\" class=\"form-control\" id=\"number\" formControlName=\"number\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"office#\">Office Number</label>\r\n                                    <input type=\"number\" [class.error]=\"\r\nisSubmit && form.controls.officenumber.errors\r\n\" class=\"form-control\" id=\"office#\" formControlName=\"officenumber\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"source\">Source Of Income</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\nisSubmit && form.controls.source.errors\r\n\" class=\"form-control\" id=\"source\" formControlName=\"source\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-6\">\r\n                                <!-- select size large -->\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"bname\">Business Name</label>\r\n                                    <input type=\"text\" [class.error]=\"\r\nisSubmit && form.controls.bname.errors\r\n\" class=\"form-control\" id=\"bname\" formControlName=\"bname\" required />\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </form>\r\n                </div>\r\n            </core-card-snippet>\r\n\r\n        </div>\r\n        <div class=\"col-md-12 col-12\">\r\n            <core-card-snippet>\r\n\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12 col-md-12\" *ngIf=\"show\">\r\n                            <core-card-snippet>\r\n\r\n\r\n                                <div class=\"card-body\">\r\n                                    <table class=\"table table-bordered fw-800\">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Rate Sqft.\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.PlanInfo?.apartmentrate | number}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Gross Area Sqft.\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.PlanInfo.apartmentarea | number}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Total Price in PKR\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.PlanInfo.apartmenttotalprice | number}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Apartment\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.PlanInfo.apartmenttype}}-{{this.PlanInfo.type}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Apartment Name\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.PlanInfo.apartmentname}}\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                    <table class=\"table table-bordered fw-800\">\r\n                                        <thead class=\"fw-1200\">\r\n                                            <th>\r\n                                                Payment Terms\r\n                                            </th>\r\n                                            <th>\r\n                                                Percentage\r\n                                            </th>\r\n                                            <th>\r\n                                                Amount (PKR)\r\n                                            </th>\r\n                                            <th>\r\n                                                Payable by\r\n                                            </th>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Booking\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.booking}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.bookingamount | number}}\r\n                                                </td>\r\n                                                <td>\r\n                                                    <ng2-flatpickr [(ngModel)]=\"bookingDate\" [config]=\"BookingDate\" name=\"BookingDate\"></ng2-flatpickr>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Confirmation\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.confirmation}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.confirmationamount | number}}\r\n                                                </td>\r\n                                                <td>\r\n                                                    <ng2-flatpickr [(ngModel)]=\"confirmationDate\" [config]=\"ConfirmationDate\" name=\"ConfirmationDate\"></ng2-flatpickr>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Agreement\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.agreement}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.agreementamount | number}}\r\n                                                </td>\r\n                                                <td>\r\n                                                    <ng2-flatpickr [(ngModel)]=\"agreementDate\" [config]=\"AgreementDate\" name=\"AgreementDate\"></ng2-flatpickr>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Total\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo.agreementamount+PlanInfo.bookingamount+PlanInfo.confirmationamount | number}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Balance in Installments\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{100- (PlanInfo.agreement+PlanInfo.booking+PlanInfo.confirmation+PlanInfo.possession)}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.installmentamount | number}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    {{PlanInfo.installment.text}} Amount\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.PlanInfo.perinstallmentamount | number:'1.0-0'}}\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                    <span class=\"viewplan\" (click)=\"modalOpenVC(modalVC)\"> View Plan </span>\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Tenure For Installment\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo.plan}} years\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    No. of Installments\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo.planscehdule.length}}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    Possession\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.possession}}%\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{PlanInfo?.possessionamount | number}}\r\n                                                </td>\r\n                                                <td>\r\n                                                    <ng2-flatpickr [(ngModel)]=\"possessionDate\" [config]=\"PossessionDate\" name=\"possessionDate\"></ng2-flatpickr>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr *ngIf=\"this.PlanInfo.updatedat != null\">\r\n                                                <td>\r\n                                                    Plan Date\r\n                                                </td>\r\n                                                <td>\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{this.PlanInfo?.updatedat.seconds * 1000 | date }}\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </core-card-snippet>\r\n                            <button class=\"btn btn-primary pull-right\" (click)=\"generateSales()\"> Confirm Sales</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </core-card-snippet>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Modal -->\r\n<ng-template #modalVC let-modal>\r\n    <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalCenterTitle\">Installment Plan</h5>\r\n        <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n<span aria-hidden=\"true\">&times;</span>\r\n</button>\r\n    </div>\r\n    <div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n        <table class=\"table table-bordered fw-800\">\r\n            <thead>\r\n\r\n                <th>\r\n                    Amount\r\n                </th>\r\n                <th>\r\n                    Due Date\r\n                </th>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let p of PlanInfo.planscehdule\">\r\n                    <td>\r\n                        {{p.amount | number:'1.0-0'}}\r\n                    </td>\r\n                    <td>\r\n                        {{p.invoicedueon | date}}\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n\r\n        </table>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"modal.close('Accept click')\" rippleEffect>\r\nClose\r\n</button>\r\n    </div>\r\n</ng-template>","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { Installments, SaleStatus } from '../../../auth/helpers/apputils.service';\r\nimport { RouterHelper } from \"../../../auth/helpers/router-helper\";\r\nimport { firebaseStoreService } from \"../../../auth/service/firebasestoreservice\";\r\nimport { Apartmentdto } from \"../../../auth/models/apartmentdto\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport {\r\n  PlanDto,\r\n  PlanScheduleDto,\r\n  SalesDto,\r\n} from \"../../../auth/models/plandto\";\r\nimport { ColumnMode, DatatableComponent, id } from \"@swimlane/ngx-datatable\";\r\nimport { NgbActiveModal, NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { ProgressdialogComponent } from \"app/main/progressdialog/progressdialog.component\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { THIS_EXPR } from \"@angular/compiler/src/output/output_ast\";\r\nimport { FlatpickrOptions } from \"ng2-flatpickr\";\r\nimport { CustomerDto } from \"../../../auth/models/customerinfo\";\r\nimport {\r\n  ApputilsService,\r\n  InvoiceType,\r\n} from \"../../../auth/helpers/apputils.service\";\r\nimport * as invoicemanagement from \"../invoicemanagement\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n@Component({\r\n  selector: \"app-salesplan\",\r\n  templateUrl: \"./salesplan.component.html\",\r\n  styleUrls: [\"./salesplan.component.scss\"],\r\n})\r\nexport class SalesplanComponent implements OnInit {\r\n  public form: FormGroup;\r\n  iscustomerfetch: boolean = false;\r\n  addNew = false;\r\n  isdisabled = false;\r\n  currentCustomer: CustomerDto;\r\n  customers: CustomerDto[] = [];\r\n  isSubmit = false;\r\n  bookingDate = new Date();\r\n  public BookingDate:FlatpickrOptions={\r\n    defaultDate: this.bookingDate,\r\n    altInput: true,\r\n    onChange:(newdate:any)=>{\r\n      this.bookingDate = newdate[0];\r\n    }\r\n  }\r\n  possessionDate = this.ApputilsService.getDateAfterMonths(new Date(),12*4);\r\n  agreementDate = this.ApputilsService.getDateAfterMonths(new Date(), 2);\r\n  confirmationDate = this.ApputilsService.getDateAfterMonths(new Date(), 1);\r\n  public AgreementDate: FlatpickrOptions = {\r\n    defaultDate: this.agreementDate,\r\n    altInput: true,\r\n    onChange:(newdate:any)=>{\r\n      this.agreementDate = newdate[0];\r\n      this.syncplanschedule();\r\n    }\r\n  };\r\n  public PossessionDate: FlatpickrOptions = {\r\n    defaultDate: this.possessionDate,\r\n    altInput: true,\r\n    onChange:(newdate:any)=>{\r\n      this.possessionDate = newdate[0];\r\n      \r\n    }\r\n  };\r\n  public ConfirmationDate: FlatpickrOptions = {\r\n    defaultDate: this.confirmationDate,\r\n    altInput: true,\r\n    onChange:(newdate:any)=>{\r\n      this.confirmationDate = newdate[0];\r\n    }\r\n  };\r\n  show: boolean = false;\r\n  planId: string;\r\n  rate: number;\r\n  viewform: boolean = false;\r\n  PlanSchedule: PlanScheduleDto[] = [];\r\n  PlanInfo: PlanDto = {\r\n    id: \"\",\r\n    client: \"\",\r\n    contact: \"\",\r\n    plan: 0,\r\n    installment: null,\r\n    installmentamount: 0,\r\n    agreement: 0,\r\n    agreementamount: 0,\r\n    possessionamount: 0,\r\n    possession: 0,\r\n    confirmation: 0,\r\n    confirmationamount: 0,\r\n    booking: 0,\r\n    bookingamount: 0,\r\n    plancreation: null,\r\n    planscehdule: [],\r\n    apartmentid: \"\",\r\n    apartmentname: \"\",\r\n    apartmentrate: 0,\r\n    apartmenttotalprice: 0,\r\n    apartmentarea: 0,\r\n    createdat: null,\r\n    updatedat: null,\r\n    apartmenttype: \"\",\r\n    type: \"\",\r\n    totalamount: 0,\r\n    perinstallmentamount: 0,\r\n  };\r\n  constructor(\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public fs: firebaseStoreService,\r\n    public ApputilsService: ApputilsService,\r\n    public FormBuilder: FormBuilder,\r\n    public router: RouterHelper,\r\n    public nts: NotificationService\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this.form = this.FormBuilder.group({\r\n      name: [null, [Validators.required]],\r\n      fathername: [null, [Validators.required]],\r\n      accountcode: [null, [Validators.required]],\r\n      applicaitonno: [null, [Validators.required]],\r\n      cnic: [null, [Validators.required]],\r\n      nationality: [null, [Validators.required]],\r\n      mailaddress: [null, [Validators.required]],\r\n      permanentaddress: [null, [Validators.required]],\r\n      email: [null, [Validators.required]],\r\n      number: [null, [Validators.required]],\r\n      officenumber: [null, [Validators.required]],\r\n      source: [null, [Validators.required]],\r\n      bname: [null, [Validators.required]],\r\n    });\r\n    this.fs\r\n      .getCustomer()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.customers = e;\r\n        this.iscustomerfetch = true;\r\n      });\r\n    debugger;\r\n    var planId = this.route.snapshot.paramMap.get(\"id\");\r\n    debugger;\r\n    if (planId != null && planId != undefined) {\r\n      this.planId = planId;\r\n      this.PlanInfo = (\r\n        await this.fs.getPlanById(planId).get().toPromise()\r\n      ).data();\r\n      debugger;\r\n      this.PlanSchedule = this.PlanInfo.planscehdule;\r\n      this.show = true;\r\n    }\r\n    this.syncplanschedule();\r\n  }\r\n  onCustomerSelect($event) {\r\n    debugger;\r\n    this.currentCustomer = $event;\r\n    this.addNew = false;\r\n    this.isdisabled = true;\r\n    let form = this.FormBuilder.group({\r\n      name: [\r\n        { value: this.currentCustomer.name, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n      fathername: [\r\n        { value: this.currentCustomer.fathername, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n      accountcode: [null, [Validators.required]],\r\n      applicaitonno: [null, [Validators.required]],\r\n      cnic: [\r\n        { value: this.currentCustomer.cnic, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n      nationality: [\r\n        { value: this.currentCustomer.nationality, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n      mailaddress: [\r\n        { value: this.currentCustomer.mailaddress, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n      permanentaddress: [\r\n        {\r\n          value: this.currentCustomer.permanentaddress,\r\n          disabled: this.isdisabled,\r\n        },\r\n        [Validators.required],\r\n      ],\r\n      email: [\r\n        { value: this.currentCustomer.emailaddress, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n      number: [\r\n        { value: this.currentCustomer.phonenumber, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n      officenumber: [\r\n        { value: this.currentCustomer.office, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n      source: [\r\n        {\r\n          value: this.currentCustomer.sourceofincome,\r\n          disabled: this.isdisabled,\r\n        },\r\n        [Validators.required],\r\n      ],\r\n      bname: [\r\n        { value: this.currentCustomer.businessname, disabled: this.isdisabled },\r\n        [Validators.required],\r\n      ],\r\n    });\r\n    for (const field in form.controls) { // 'field' is a string\r\n      if(field != \"accountcode\" && field != \"applicaitonno\")\r\n      {\r\n        this.form.get(field).disable();\r\n      }\r\n     \r\n    }\r\n    debugger;\r\n   \r\n    this.form = form;\r\n    this.addNew = true;\r\n  }\r\n  addNewCustomer() {\r\n    debugger;\r\n    this.addNew = false;\r\n    this.isdisabled = false;\r\n    let form = this.FormBuilder.group({\r\n      name: [{ value: null, disabled: this.isdisabled }, [Validators.required]],\r\n      fathername: [{ value: null, disabled: this.isdisabled }, [Validators.required]],\r\n      accountcode: [{ value: null, disabled: this.isdisabled }, [Validators.required]],\r\n      applicaitonno: [{ value: null, disabled: this.isdisabled }, [Validators.required]],\r\n      cnic: [{ value: null, disabled: this.isdisabled }, [Validators.required]],\r\n      nationality: [{ value: null, disabled: this.isdisabled }, [Validators.required]],\r\n      mailaddress: [{ value: null, disabled: this.isdisabled }, []],\r\n      permanentaddress: [{ value: null, disabled: this.isdisabled }, [Validators.required]],\r\n      email: [{ value: null, disabled: this.isdisabled }, [Validators.required]],\r\n      number: [{ value: null, disabled: this.isdisabled }, []],\r\n      officenumber: [{ value: null, disabled: this.isdisabled }, []],\r\n      source: [{ value: null, disabled: this.isdisabled }, []],\r\n      bname: [{ value: null, disabled: this.isdisabled }, []],\r\n    });\r\n    for (const field in form.controls) { // 'field' is a string\r\n      this.form.get(field).enable();\r\n    }\r\n    this.form = form;\r\n    this.addNew = true;\r\n  }\r\n  modalOpenVC(modalVC) {\r\n    \r\n    \r\n\r\n    this.modalservice.open(modalVC, {\r\n      centered: true,\r\n      windowClass: \"hello\",\r\n    });\r\n  }\r\n  syncplanschedule()\r\n  {\r\n    var i = 0;\r\n    debugger;\r\n    var incrementer = this.PlanInfo.installment.months;\r\n    var currentPlanTime = 0 + incrementer;\r\n    while (i < this.PlanInfo.planscehdule.length) {\r\n      var dt = new Date(this.agreementDate);\r\n      dt.setMonth(dt.getMonth());\r\n      dt.setDate(15);\r\n      this.PlanInfo.planscehdule[i].invoicedueon =\r\n        this.ApputilsService.getDateAfterMonths(dt, currentPlanTime);\r\n      i++;\r\n      currentPlanTime += incrementer;\r\n    }\r\n  }\r\n  async generateSales() {\r\n    if (this.form.valid) {\r\n      var apt = (await this.fs.getapartmentbyid(this.PlanInfo.apartmentid).get().toPromise()).data().status;\r\n     var len = (await( this.fs.getSalebyApartment(this.PlanInfo.apartmentname)).get().toPromise()).docs.length;\r\n    if(apt == this.ApputilsService.BookedStatus || len > 0 )\r\n    {\r\n      Swal.fire({\r\n        title:\"Sale Can not be generated\",\r\n        text:'Cannot Generate Sale, Apartment is not Open',\r\n        icon: 'warning',\r\n        showCancelButton:false,\r\n        confirmButtonText:\"OK\"\r\n      });\r\n      return;\r\n    }\r\n\r\n   \r\n\r\n      var pDialog = this.modalservice.open(ProgressdialogComponent, {\r\n        windowClass: \"transparent\",\r\n        backdrop: false,\r\n        centered: true,\r\n      });\r\n\r\n      let cust: CustomerDto = {\r\n        id: this.currentCustomer?.id ?? \"\",\r\n        name: this.form.controls[\"name\"]?.value ?? \"\",\r\n        fathername: this.form.controls[\"fathername\"]?.value ?? \"\",\r\n        sex: false,\r\n        cnic: this.form.controls[\"cnic\"]?.value ?? \"\",\r\n        nationality: this.form.controls[\"nationality\"]?.value ?? \"\",\r\n        mailaddress: this.form.controls[\"mailaddress\"]?.value ?? \"\",\r\n        permanentaddress: this.form.controls[\"permanentaddress\"]?.value ?? \"\",\r\n        emailaddress: this.form.controls[\"email\"]?.value ?? \"\",\r\n        phonenumber: this.form.controls[\"number\"]?.value ?? \"\",\r\n        office: this.form.controls[\"officenumber\"]?.value ?? \"\",\r\n        sourceofincome: this.form.controls[\"source\"]?.value ?? \"\",\r\n        businessname: this.form.controls[\"bname\"]?.value ?? \"\",\r\n        status: true\r\n      };\r\n      if (cust.id != undefined && cust.id.trim().length == 0) {\r\n        cust.id = await this.fs.addCustomer(cust);\r\n      }\r\n      var agreementinvoice =\r\n        invoicemanagement.InvoiceManagement.GenerateInvoice(\r\n          InvoiceType.Agreement,\r\n          this.PlanInfo.agreementamount,\r\n          this.agreementDate,\r\n          this.ApputilsService.getServerTimestamp(),\r\n          2\r\n        );\r\n      var confirmationinvoice =\r\n        invoicemanagement.InvoiceManagement.GenerateInvoice(\r\n          InvoiceType.Confirmation,\r\n          this.PlanInfo.confirmationamount,\r\n          this.confirmationDate,\r\n          this.ApputilsService.getServerTimestamp(),\r\n          1\r\n        );\r\n      var bookinginvoice = invoicemanagement.InvoiceManagement.GenerateInvoice(\r\n        InvoiceType.Booking,\r\n        this.PlanInfo.bookingamount,\r\n        this.bookingDate,\r\n        this.ApputilsService.getServerTimestamp(),\r\n        -1\r\n      );\r\n      var possesioninvoice =\r\n        invoicemanagement.InvoiceManagement.GenerateInvoice(\r\n          InvoiceType.Posession,\r\n          this.PlanInfo.possessionamount,\r\n          this.possessionDate,\r\n          this.ApputilsService.getServerTimestamp(),\r\n          1000000\r\n        );\r\n      this.PlanInfo.planscehdule.push(confirmationinvoice);\r\n      this.PlanInfo.planscehdule.push(bookinginvoice);\r\n      this.PlanInfo.planscehdule.push(possesioninvoice);\r\n      this.PlanInfo.planscehdule.push(agreementinvoice);\r\n      let sal: SalesDto = {\r\n        id: \"\",\r\n        customerid: cust.id,\r\n        isallpaid: false,\r\n        \r\n        accountcode: this.form.controls[\"accountcode\"].value,\r\n        applicationno: this.form.controls[\"applicaitonno\"].value,\r\n        perinstallmentamount: this.PlanInfo.installmentamount,\r\n        plan: this.PlanInfo.plan,\r\n        installment: this.PlanInfo.installment,\r\n        installmentamount: this.PlanInfo.installmentamount,\r\n        agreement: this.PlanInfo.agreement,\r\n        agreementamount: this.PlanInfo.agreementamount,\r\n        possessionamount: this.PlanInfo.possessionamount,\r\n        possession: this.PlanInfo.possession,\r\n        confirmation: this.PlanInfo.confirmation,\r\n        confirmationamount: this.PlanInfo.confirmationamount,\r\n        booking: this.PlanInfo.booking,\r\n        bookingamount: this.PlanInfo.bookingamount,\r\n        plancreation: this.PlanInfo.plancreation,\r\n        planscehdule: this.PlanInfo.planscehdule,\r\n        apartmentid: this.PlanInfo.apartmentid,\r\n        apartmentname: this.PlanInfo.apartmentname,\r\n        apartmentrate: this.PlanInfo.apartmentrate,\r\n        apartmenttotalprice: this.PlanInfo.apartmenttotalprice,\r\n        apartmentarea: this.PlanInfo.apartmentarea,\r\n        apartmenttype: this.PlanInfo.apartmenttype,\r\n        type: this.PlanInfo.type,\r\n        createdat: this.ApputilsService.getServerTimestamp(),\r\n        updatedat: this.ApputilsService.getServerTimestamp(),\r\n        totalamount: this.PlanInfo.apartmenttotalprice,\r\n        totalamountpaid: 0,\r\n        totalamountleft: this.PlanInfo.apartmenttotalprice,\r\n        status: SaleStatus.InProgress,\r\n        customername: cust.name,\r\n        customercnic: cust.cnic\r\n      };\r\n      this.fs.addSales(sal).then(async (e) => {\r\n        await this.fs.changeApartmentStatus(this.PlanInfo.apartmentid,this.ApputilsService.BookedStatus).then();\r\n        pDialog.close();\r\n        this.nts.showSuccess(\"Sales Generated\", \"Sales Info\");\r\n        this.routerser.navigateByUrl(\"/sales\");\r\n      });\r\n    }\r\n  }\r\n}\r\n","<form [formGroup]=\"form\" *ngIf=\"this.start\">\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\" id=\"myModalLabel1\">Transaction</h4>\r\n        <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n    </div>\r\n    <div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group mt-2\" *ngIf=\"this.showinvoice\">\r\n                    <label> Choose the Apartment for Payment </label>\r\n\r\n                    <ng-select class=\"ng-select-size-lg\" [(ngModel)]=\"apartmentid\" #SelectSizeLarge [ngModelOptions]=\"{ standalone: true }\" (change)=\"fetchinvoicesofsale($event)\" [items]=\"this.sales\" [searchable]=\"true\" bindLabel=\"apartmentname\" bindValue=\"apartmentname\">\r\n                        <ng-template ng-header-tmp>\r\n                            <input class=\"form-control w-100\" placeholder=\"Search By Apartment Name\" type=\"text\" (input)=\"SelectSizeLarge.filter($event.target.value)\" />\r\n                        </ng-template>\r\n                        <!--/ select size large -->\r\n                    </ng-select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group mt-2\" *ngIf=\"this.showinvoice\">\r\n                    <label for=\"invoices\">Choose Invoice</label>\r\n                    <select id=\"invoices\" formControlName=\"invoice\" (change)=\"invoiceselect($event.target.value)\" [ngModel]=\"this.invoiceid\" class=\"form-control\">\r\n            <option\r\n              value=\"{{ food.id }}\"\r\n              *ngFor=\"let food of invoices\"\r\n            >\r\n              {{ food.type }}  {{ food.type == \"Installment\" ? food?.installmentno:\"\"}} ({{food.amountleft | number}})\r\n            </option>\r\n          </select>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group mt-2\" *ngIf=\"this.showinvoice\">\r\n                    <label> Choose the Bank for payment </label>\r\n\r\n                    <ng-select class=\"ng-select-size-lg\" #SelectSizeLarge [ngModelOptions]=\"{ standalone: true }\" (change)=\"onBankSelect($event)\" [items]=\"this.metadata.banks\" [searchable]=\"true\" [(ngModel)]=\"bank\" bindLabel=\"Name\" bindValue=\"Iban\">\r\n                        <ng-template ng-header-tmp>\r\n                            <input class=\"form-control w-100\" placeholder=\"Search By Bank Name\" type=\"text\" (input)=\"SelectSizeLarge.filter($event.target.value)\" />\r\n                        </ng-template>\r\n                        <!--/ select size large -->\r\n                    </ng-select>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"amount\">Amount  \r\n                         </label>\r\n                    <input type=\"number\" min=\"0\" [class.error]=\"isSubmit && form.controls.amount.errors\" class=\"form-control\" id=\"amount\" formControlName=\"amount\" required />\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"tid\">Transaction Id</label>\r\n                    <input (change)=\"ontransactionid($event.target.value)\" type=\"text\" [class.error]=\"isSubmit && form.controls.tid.errors\" class=\"form-control\" id=\"amount\" formControlName=\"tid\" required />\r\n                    <label class=\"error\" *ngIf=\"this.showtransactionerror\"> Transaction Id Already Exsist </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"status\">Status</label>\r\n                    <select id=\"status\" formControlName=\"status\" [(value)]=\"this.ApputilsService.TransactionStatus[0]\" [(ngModel)]=\"this.transactionstatus\" class=\"form-control\">\r\n            <option\r\n              value=\"{{ food }}\"\r\n              *ngFor=\"let food of ApputilsService.TransactionStatus\"\r\n            >\r\n              {{ food }}\r\n            </option>\r\n          </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"method\">Payment Method</label>\r\n                    <select id=\"method\" formControlName=\"method\" [(value)]=\"this.ApputilsService.PaymentMethod[0]\" [ngModel]=\"this.paymentmethod\" class=\"form-control\">\r\n          <option\r\n            value=\"{{ food }}\"\r\n            *ngFor=\"let food of ApputilsService.PaymentMethod\"\r\n          >\r\n            {{ food }}\r\n          </option>\r\n        </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label> Transaction Date</label>\r\n                    <ng2-flatpickr [(ngModel)]=\"invoiceDate\" [config]=\"InvoiceDateDto\" name=\"Invoice Date\" formControlName=\"invoicedate\"></ng2-flatpickr>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"notes\">Notes</label>\r\n                    <input type=\"text\" [class.error]=\"isSubmit && form.controls.notes.errors\" class=\"form-control\" id=\"notes\" formControlName=\"notes\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\" rippleEffect>\r\n      Save\r\n    </button>\r\n    </div>\r\n</form>","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\r\nimport { NgbActiveModal, NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { firebaseStoreService } from \"app/auth/service/firebasestoreservice\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { ApputilsService, SaleStatus } from '../../../auth/helpers/apputils.service';\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { banksdto } from \"app/auth/models/metadata\";\r\nimport { metadata } from \"../../../auth/models/metadata\";\r\nimport { Transaction } from \"app/auth/models/plandto\";\r\nimport { ProgressdialogComponent } from \"app/main/progressdialog/progressdialog.component\";\r\nimport { FlatpickrOptions } from \"ng2-flatpickr\";\r\nimport { SalesDto, PlanScheduleDto } from \"../../../auth/models/plandto\";\r\nimport { debug } from \"console\";\r\nimport { Invoicedto } from \"../../../auth/models/apartmentdto\";\r\nimport { creditamounts } from \"../../../auth/models/customerinfo\";\r\nimport { threadId } from \"worker_threads\";\r\n\r\n@Component({\r\n  selector: \"app-transactiongenerator\",\r\n  templateUrl: \"./transactiongenerator.component.html\",\r\n  styleUrls: [\"./transactiongenerator.component.scss\"],\r\n})\r\nexport class TransactiongeneratorComponent implements OnInit {\r\n  form: FormGroup;\r\n  start = false;\r\n  showtransactionerror = false;\r\n  bank: string;\r\n  isSubmit = false;\r\n  apartmentid: string;\r\n  banksdto: banksdto;\r\n  metadata: metadata;\r\n  sales: SalesDto[] = [];\r\n  saleinfo: SalesDto;\r\n  invoices: PlanScheduleDto[] = [];\r\n  invoiceid: string;\r\n  showinvoice = false;\r\n  maxamount: number = 0;\r\n  Transaction: Transaction;\r\n  isupdate = false;\r\n  invoiceselected: PlanScheduleDto;\r\n  transactionstatus: string = this.ApputilsService.TransactionSuccessfull;\r\n  paymentmethod: string = this.ApputilsService.PaymentMethod[0];\r\n  invoiceDate = new Date();\r\n\r\n  public InvoiceDateDto: FlatpickrOptions = {\r\n    defaultDate: this.invoiceDate,\r\n    altInput: true,\r\n    \r\n  };\r\n\r\n  constructor(\r\n    public modal: NgbActiveModal,\r\n\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n    public FormBuilder: FormBuilder,\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    if (this.Transaction != undefined) {\r\n      this.apartmentid = this.Transaction.apartmentname;\r\n      this.invoiceid = this.Transaction.invoiceid;\r\n      this.paymentmethod = this.Transaction.paymentmethod;\r\n      this.transactionstatus = this.Transaction.status;\r\n      this.bank = this.Transaction.iban;\r\n      this.invoiceDate = new Date(\r\n        \r\n      );\r\n      this.InvoiceDateDto = {\r\n        defaultDate: this.invoiceDate,\r\n        altInput: true,\r\n      };\r\n      this.banksdto = {\r\n        Name: this.Transaction.bank,\r\n        Iban: this.Transaction.iban,\r\n      };\r\n      this.isupdate = true;\r\n    }\r\n    this.fs\r\n      .getSales()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.sales = e;\r\n        if (this.Transaction != undefined) {\r\n          this.fetchinvoicesofsale(\r\n            this.sales.filter((e) => e.apartmentname == this.apartmentid)[0]\r\n          );\r\n        }\r\n        this.start = true;\r\n      });\r\n\r\n    this.fs\r\n      .getmetadata()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.metadata = e;\r\n        console.log(this.metadata);\r\n        this.showinvoice = true;\r\n      });\r\n    this.form = this.FormBuilder.group({\r\n      amount: [this.Transaction?.totalamount, [Validators.required]],\r\n      notes: [this.Transaction?.notes],\r\n      invoice: [this.Transaction?.invoiceid, Validators.required],\r\n      status: [this.Transaction?.status, Validators.required],\r\n      method: [this.Transaction?.paymentmethod, Validators.required],\r\n      tid: [this.Transaction?.transactionid],\r\n      invoicedate: [new Date(), Validators.required],\r\n    });\r\n  }\r\n  invoiceselect(id: string) {\r\n    debugger;\r\n\r\n    this.invoiceid = id;\r\n    this.maxamount =\r\n      this.invoices.length > 0\r\n        ? this.invoices.filter((e) => e.id == id)[0].amountleft\r\n        : 0;\r\n  }\r\n\r\n  async fetchinvoicesofsale(sale: SalesDto) {\r\n    this.invoices = [];\r\n    this.saleinfo = sale;\r\n    if (sale != undefined) {\r\n      (await this.fs.getSaleInvoices(sale.id).get().toPromise()).docs.forEach(\r\n        (e) => {\r\n          this.invoices.push(e.data());\r\n          this.invoices = this.invoices.sort((f1, f2) => {\r\n            if (f1.orderno != undefined) {\r\n              return f1.orderno > f2.orderno ? 1:-2;\r\n            } else {\r\n              return f1.installmentno == null\r\n                ? 1\r\n                : f1.installmentno > f2.installmentno\r\n                ? 1\r\n                : -2;\r\n            }\r\n          });\r\n        }\r\n      );\r\n      this.invoiceid = !this.isupdate ? this.invoices[0].id : this.invoiceid;\r\n      debugger;\r\n      this.maxamount = this.invoices[0].amountleft;\r\n    }\r\n  }\r\n  async onSubmit() {\r\n    this.isSubmit = true;\r\n    if (this.form.valid && !this.showtransactionerror) {\r\n\r\n      var pDialog = this.modalservice.open(ProgressdialogComponent, {\r\n        windowClass: \"transparent\",\r\n        backdrop: false,\r\n        centered: true,\r\n      });\r\n\r\n      debugger;\r\n\r\n      var amount = this.form.controls[\"amount\"].value;\r\n      var transactionid = this.form.controls[\"tid\"].value;\r\n      var notes = this.form.controls[\"notes\"]?.value ?? \"\";\r\n      var paymentmethod = this.form.controls[\"method\"].value;\r\n      var status = this.form.controls[\"status\"].value;\r\n      var invoicedto = (\r\n        await this.fs.getinvoicebyid(this.invoiceid).get().toPromise()\r\n      ).data();\r\n\r\n      let tr: Transaction = {\r\n        amount: amount,\r\n        id: \"\",\r\n        bank: this.banksdto.Name,\r\n        iban: this.banksdto.Iban,\r\n        paymentmethod: paymentmethod,\r\n        transactionid: transactionid,\r\n        invoiceid: this.invoiceid,\r\n        createdat: this.ApputilsService.getServerTimestamp(),\r\n        status: status,\r\n        updatedat: this.ApputilsService.getServerTimestamp(),\r\n        notes: notes,\r\n        transactiondate:\r\n          this.invoiceDate[0] == undefined\r\n            ? this.invoiceDate\r\n            : this.invoiceDate[0],\r\n        apartmentname: this.saleinfo.apartmentname,\r\n        customername: this.saleinfo.customername,\r\n        invoicename: invoicedto.type,\r\n        totalamount: amount,\r\n        editable: true,\r\n      };\r\n      \r\n      debugger;\r\n      var leftAmount = 0;\r\n      if (!this.isupdate && amount > invoicedto.amountleft) {\r\n        leftAmount = amount - invoicedto.amountleft;\r\n        amount = invoicedto.amountleft;\r\n        tr.amount = amount;\r\n      } else if (this.isupdate && tr.amount > this.Transaction.amount) {\r\n        invoicedto.amountleft = invoicedto.amountleft + this.Transaction.amount;\r\n\r\n        if (amount > invoicedto.amountleft) {\r\n          leftAmount = amount - invoicedto.amountleft;\r\n          amount = leftAmount;\r\n          tr.amount = invoicedto.amountleft;\r\n        }\r\n      }\r\n      if (invoicedto.type == \"Installment\") {\r\n        tr.invoicename += invoicedto.installmentno.toString();\r\n      }\r\n      debugger;\r\n      if (this.Transaction != undefined) {\r\n        tr.id = this.Transaction.id;\r\n        this.fs\r\n          .updatetransaction(tr)\r\n          .then(async (e) => {\r\n            if (leftAmount > 0) {\r\n              let cr: creditamounts = {\r\n                id: tr.id,\r\n                amount: leftAmount,\r\n                tid: tr.transactionid,\r\n                uid: \"\"\r\n              };\r\n              await this.fs\r\n                .creditAmountToCustomer(this.saleinfo.customerid, cr)\r\n                .then();\r\n            }\r\n            let allpaid = true;\r\n            (await this.fs.getSaleInvoices(this.saleinfo.id).get().toPromise()).docs.forEach(e=>{\r\n                if(!(e.data().invoicepaid && allpaid))\r\n                {\r\n                  allpaid = false;\r\n                }\r\n            });\r\n            if(allpaid)\r\n            {\r\n              await this.fs.updateSaleStatus(this.saleinfo.id,SaleStatus.Completed).then();\r\n            }\r\n            this.nts.showSuccess(\"Transaction & Invoices Updated\", \"Success\");\r\n            pDialog.close();\r\n            this.modal.close();\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n            this.nts.showError(\"Some Error \", \"Error occured\");\r\n          });\r\n      } else {\r\n        this.fs\r\n          .addtransaction(tr, this.invoiceid)\r\n          .then(async (e) => {\r\n            debugger;\r\n            if (leftAmount > 0) {\r\n              let cr: creditamounts = {\r\n                id: tr.id,\r\n                amount: leftAmount,\r\n                tid: tr.transactionid,\r\n                uid: this.saleinfo.customerid\r\n              };\r\n              await this.fs\r\n                .creditAmountToCustomer(this.saleinfo.customerid, cr)\r\n                .then();\r\n            }\r\n            this.fs.getallinvoices()\r\n            this.nts.showSuccess(\"Transaction & Invoices Updated\", \"Success\");\r\n            pDialog.close();\r\n            this.modal.close();\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n            this.nts.showError(\"Some Error \", \"Error occured\");\r\n          });\r\n      }\r\n    }\r\n  }\r\n  onBankSelect($event) {\r\n    this.banksdto = $event;\r\n  }\r\n  async ontransactionid(val:string)\r\n  {\r\n    debugger;\r\n    var len = (await this.fs.getransactionbytransactionid(val).get().toPromise()).docs.length;\r\n    this.showtransactionerror = len > 0;\r\n    debugger;\r\n  }\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">View Plans</span>\r\n                        <span class=\"float-right\">\r\n            <div class=\"d-flex align-items-center justify-content-end\">\r\n              <label class=\"d-flex align-items-center\"\r\n                >Search<input\r\n                  type=\"search\"\r\n                  placeholder=\"Search\"\r\n                  class=\"form-control ml-25\"\r\n                  (keyup)=\"filterUpdate($event)\"\r\n              /></label>\r\n            </div>\r\n\r\n            <!-- <i data-feather=\"filter\" class=\"text-primary cursor-pointer mr-50\"></i> -->\r\n          </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12 mb-50 pl-0\">\r\n                            <button routerLink=\"/generateplan\" class=\"btn btn-primary ml-1\" rippleEffect>\r\n              <i data-feather=\"plus\" class=\"mr-0 mr-sm-1\"></i\r\n              ><span class=\"d-none d-sm-inline-block\">Generate New Plan</span>\r\n            </button>\r\n\r\n                            <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n            >\r\n          </div>\r\n\r\n         \r\n        </div>\r\n\r\n        <!-- ngx-datatables responsive -->\r\n        <ngx-datatable\r\n          #table\r\n          class=\"bootstrap core-bootstrap\"\r\n          [columnMode]=\"ColumnMode.force\"\r\n          [headerHeight]=\"30\"\r\n          [rowHeight]=\"35\"\r\n          [footerHeight]=\"30\"\r\n          rowHeight=\"auto\"\r\n          [limit]=\"100\"\r\n         \r\n          [rows]=\"apt\"\r\n          [scrollbarH]=\"true\"\r\n        >\r\n          <ngx-datatable-column name=\"Name\" prop=\"full_name\">\r\n            <ng-template\r\n              let-row=\"row\"\r\n              let-name=\"value\"\r\n              ngx-datatable-cell-template\r\n            >\r\n              {{ row?.client }}\r\n              \r\n            </ng-template>\r\n          </ngx-datatable-column>\r\n          <ngx-datatable-column\r\n            name=\"Contact \"\r\n            prop=\"contact\"\r\n          ></ngx-datatable-column>\r\n          <ngx-datatable-column\r\n            name=\"Apartment Name\"\r\n            [width]=\"250\"\r\n            prop=\"apartmentname\"\r\n          ></ngx-datatable-column>\r\n          <ngx-datatable-column name=\"Plan (Years)\" prop=\"plan\">\r\n          </ngx-datatable-column>\r\n          <ngx-datatable-column name=\"Gross Area Sqft\" >\r\n            <ng-template\r\n            let-row=\"row\"\r\n            let-name=\"value\"\r\n            ngx-datatable-cell-template\r\n          >\r\n            {{ row?.apartmentarea | number }}\r\n            \r\n          </ng-template>\r\n          </ngx-datatable-column>\r\n\r\n\r\n          <ngx-datatable-column name=\"Installments\" >\r\n            <ng-template\r\n            let-row=\"row\"\r\n            let-name=\"value\"\r\n            ngx-datatable-cell-template\r\n          >\r\n            {{ row?.installment?.text }}\r\n            \r\n          </ng-template>\r\n          </ngx-datatable-column>\r\n          \r\n\r\n          <ngx-datatable-column name=\"Total Price\">\r\n            <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n              <span>{{ row?.apartmenttotalprice | mycurrency }} </span>\r\n            </ng-template>\r\n          </ngx-datatable-column>\r\n\r\n          \r\n          <ngx-datatable-column\r\n            name=\"Action\"\r\n            [width]=\"120\"\r\n            [sortable]=\"false\"\r\n          >\r\n            <ng-template ngx-datatable-cell-template let-row=\"row\">\r\n              <div class=\"d-flex align-items-center\">\r\n                <div ngbDropdown container=\"body\">\r\n                  <a\r\n                    ngbDropdownToggle\r\n                    href=\"javascript:void(0);\"\r\n                    class=\"hide-arrow\"\r\n                    id=\"dropdownBrowserState\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    <i\r\n                      data-feather=\"more-vertical\"\r\n                      class=\"text-primary cursor-pointer mr-50\"\r\n                    ></i>\r\n                  </a>\r\n                            <div ngbDropdownMenu class=\"dropdown-menu-right\" aria-labelledby=\"dropdownBrowserState\">\r\n\r\n\r\n                                <a (click)=\"OnDelete(row)\" href=\"javascript:void(0)\" ngbDropdownItem class=\"d-flex align-items-center\"><i data-feather=\"trash-2\" class=\"mr-50\"></i> Delete</a\r\n                    >\r\n\r\n\r\n                    <a routerLink=\"/sale/{{row.id}}\" ngbDropdownItem class=\"d-flex align-items-center\"> Create Sale</a\r\n                      >\r\n                  </div>\r\n                </div>\r\n\r\n                \r\n\r\n                <span routerLink=\"/generateplan\" [queryParams]=\"{id:row.id}\" >\r\n                  <i\r\n                    data-feather=\"edit\"\r\n                    class=\"text-primary cursor-pointer\"\r\n                  ></i>\r\n                </span>\r\n              </div>\r\n            </ng-template>\r\n          </ngx-datatable-column>\r\n        </ngx-datatable>\r\n      </div>\r\n      <!--/ ngx-datatables responsive -->\r\n    </core-card-snippet>\r\n  </section>\r\n  <!--/ Responsive Datatable -->\r\n</div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ColumnMode, DatatableComponent } from '@swimlane/ngx-datatable';\r\nimport { ApputilsService } from 'app/auth/helpers/apputils.service';\r\nimport { Apartmentdto } from 'app/auth/models/apartmentdto';\r\nimport { GeneralConfirmationDialogDto } from 'app/auth/models/generalconfirmationdialogdto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { ToastService } from 'app/auth/service/toasts.service';\r\nimport { GeneralconfirmationdialogComponent } from 'app/main/generalconfirmationdialog/generalconfirmationdialog.component';\r\nimport { DatatablesService } from 'app/modules/datatables.service';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport Swal from 'sweetalert2';\r\nimport { PlanDto } from '../../../auth/models/plandto';\r\nimport { ApartmentComponent } from '../createapartment/apartment/apartment.component';\r\n\r\n@Component({\r\n  selector: 'app-view-plan',\r\n  templateUrl: './view-plan.component.html',\r\n  styleUrls: ['./view-plan.component.scss']\r\n})\r\nexport class ViewPlanComponent implements OnInit {\r\n\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  apt: PlanDto[] = [];\r\n\r\n  qr: Subscription;\r\n  filters: String[] = [];\r\n  tempData: PlanDto[] = [];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  private _unsubscribeAll: Subject<any>;\r\n  exportCSVData: Object[] = [];\r\n  constructor(\r\n    public modal: NgbModal,\r\n    public toast:ToastService,\r\n    public nts:NotificationService,\r\n    private _datatablesService: DatatablesService,\r\n    public fs: firebaseStoreService,\r\n    public appUtil:ApputilsService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  apttypes:string[] = [];\r\n  ngOnInit() {\r\n    this.fetch();\r\n    \r\n  }\r\n  \r\n  \r\n  \r\n  async fetch() {\r\n    debugger;\r\n    var e = await this.fs.getPlans().valueChanges().subscribe(e=>{\r\n      this.apt = e;\r\n      this.tempData = e as PlanDto[];\r\n      this.apt = e as PlanDto[];\r\n      this.exportCSVData = e as Object[];\r\n    });\r\n   \r\n  }\r\n  // edit(row: Apartmentdto) {\r\n  //   console.log(\"clicked\");\r\n  //   var dialogRef = this.modal.open(ApartmentComponent, {\r\n  //     backdrop: false,\r\n  //   });\r\n  //   dialogRef.componentInstance.apartment = row;\r\n  //   dialogRef.closed.subscribe(e=>{\r\n  //     this.fetchApartment();\r\n  //   });\r\n  // }\r\n  OnDelete(row: PlanDto) {\r\n    var mod = this.modal.open(GeneralconfirmationdialogComponent, {\r\n      backdrop: false,\r\n      centered: true,\r\n    });\r\n    let gcd: GeneralConfirmationDialogDto = {\r\n      title: \"Delete Plan\",\r\n      message: \"Delete \" + row.client,\r\n      confirmbuttontext: \"Delete\",\r\n      cancelbuttontext: \"\",\r\n    };\r\n    mod.componentInstance.dto = gcd;\r\n    mod.closed.subscribe((e) => {\r\n      debugger;\r\n      if (e) {\r\n        this.fs\r\n          .deletePlanById(row.id)\r\n          .then((e) => {\r\n            \r\n              // this.fetchApartment();\r\n           \r\n          })\r\n          .catch((ct) => {});\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  AddNew() {\r\n    this.modal.open(ApartmentComponent, {\r\n      backdrop: false,\r\n    }).closed.subscribe(e=>{\r\n      // this.fetchApartment();\r\n    });\r\n  }\r\n  \r\n\r\n  \r\n  filterUpdate(event) {\r\n    debugger;\r\n    const val = event.target.value.toLowerCase().trim().replace(/\\s/g, \"\");\r\n\r\n    const count = this.table.bodyComponent._columns.length;\r\n\r\n    // get the key names of each column in the dataset\r\n    const keys = Object.keys(this.tempData[0]);\r\n    // assign filtered matches to the active datatable\r\n    this.apt = this.tempData.filter((item) => {\r\n      // iterate through each row's column data\r\n      for (let i = 0; i < count; i++) {\r\n        // check for a match\r\n        if (item[keys[i]]) {\r\n          var it = item[keys[i]]\r\n            .toString()\r\n            .toLowerCase()\r\n            .trim()\r\n            .replace(/\\s/g, \"\");\r\n          console.log(it);\r\n          if (it.includes(val)) {\r\n            // found match, return true to add to result set\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // Whenever the filter changes, always go back to the first page\r\n    this.table.offset = 0;\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"myModalLabel1\">{{PdfTitle}} </h4>\r\n    <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n<span aria-hidden=\"true\">&times;</span>\r\n</button>\r\n</div>\r\n<div class=\"modal-body\" tabindex=\"0\" ngbAutofocus id=\"content\" #content>\r\n\r\n    <button type=\"button\" class=\"mb-2 btn btn-primary\" (click)=\"generatePdf()\" aria-label=\"Close\">\r\n       Save PDF\r\n        </button>\r\n    <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n            >\r\n    <table class=\"table  table-bordered pdftable\">\r\n        <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th scope=\"col\" sortable=\"customer\" (sort)=\"onSort($event)\">\r\n                    Customer Name\r\n                </th>\r\n                <th scope=\"col\" sortable=\"apartmentname\" (sort)=\"onSort($event)\">\r\n                    Apartment Name\r\n                </th>\r\n                <th scope=\"col\" sortable=\"type\" (sort)=\"onSort($event)\"> Bedding Type</th>\r\n\r\n                <th scope=\"col\" sortable=\"type\" (sort)=\"onSort($event)\"> Apartment Type</th>\r\n\r\n\r\n            </tr>\r\n\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let inst of apt;let i = index\" (click)=\"dismissdialog()\" routerLink=\"/sales/{{this.inst.id}}\">\r\n                <td> {{i+1}}</td>\r\n                <td> {{inst.customer}} </td>\r\n\r\n                <td> {{inst.apartmentname}} </td>\r\n                <td> {{inst.type}}</td>\r\n                <td> {{inst.beddingtype}}</td>\r\n\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>","import { Component, Directive, ElementRef, EventEmitter, Input, OnInit, Output, QueryList, ViewChild, ViewChildren } from '@angular/core';\r\nimport { Apartmentdto } from '../../../auth/models/apartmentdto';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\nimport { RouterHelper } from 'app/auth/helpers/router-helper';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { InvoiceReportDto } from 'app/main/reports/reportgenerator';\r\nimport { ApputilsService } from '../../../auth/helpers/apputils.service';\r\nimport { ApartmentSoldReportDto } from '../../reports/reportgenerator';\r\nimport jsPDF, { HTMLOptions } from 'jspdf';\r\nimport { HttpHandler } from '@angular/common/http';\r\nimport TextOptionsLight from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport { debug } from 'console';\r\n@Directive({\r\n  selector: 'th[sortable]',\r\n  host: {\r\n    '[class.asc]': 'direction === \"asc\"',\r\n    '[class.desc]': 'direction === \"desc\"',\r\n    '(click)': 'rotate()'\r\n  }\r\n})\r\nexport class NgbdSortableHeader {\r\n\r\n  @Input() sortable: SortColumn = '';\r\n  @Input() direction: SortDirection = '';\r\n  @Output() sort = new EventEmitter<SortEvent>();\r\n\r\n  rotate() {\r\n    this.direction = rotate[this.direction];\r\n    this.sort.emit({column: this.sortable, direction: this.direction});\r\n  }\r\n}\r\n@Component({\r\n  selector: 'app-viewinventorymodal',\r\n  templateUrl: './viewinventorymodal.component.html',\r\n  styleUrls: ['./viewinventorymodal.component.scss']\r\n})\r\nexport class ViewinventorymodalComponent implements OnInit {\r\n\r\n  @ViewChild('content') content:ElementRef;\r\n  apt:ApartmentSoldReportDto[]=[];\r\n  PdfTitle:string;\r\n  exportCSVData: Object[] = [];\r\n  constructor(public modal: NgbActiveModal,\r\n\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n \r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService) { }\r\n\r\n  async ngOnInit() {\r\n   \r\n    this.exportCSVData = this.apt as Object[];\r\n  }\r\n\r\n  dismissdialog()\r\n  {\r\n    this.modal.close();\r\n  }\r\n  public SavePDF(): void {  \r\n    let content=this.content.nativeElement;  \r\n    let doc = new jsPDF();  \r\n    let _elementHandlers =  \r\n    {  \r\n      '#editor':function(element,renderer){  \r\n        return true;  \r\n      }  \r\n    };  \r\n   \r\n\r\n  \r\n    doc.html(content.innerHTML);  \r\n  \r\n    doc.save('test.pdf');  \r\n  }  \r\n \r\n\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n\r\n  onSort({column, direction}: SortEvent) {\r\ndebugger;\r\n    // resetting other headers\r\n    this.headers.forEach(header => {\r\n      if (header.sortable !== column) {\r\n        header.direction = '';\r\n      }\r\n    });\r\n\r\n    // sorting countries\r\n    if (direction === '' || column === '') {\r\n      this.apt = this.apt;\r\n    } else {\r\n      this.apt = [...this.apt].sort((a, b) => {\r\n        const res = compare(a[column], b[column]);\r\n        return direction === 'asc' ? res : -res;\r\n      });\r\n    }\r\n  }\r\n  generatePdf() {\r\n    var head = [[\"ID\", \"Country\", \"Rank\", \"Capital\"]];\r\n    var body = [\r\n      [1, \"Denmark\", 7.526, \"Copenhagen\"],\r\n      [2, \"Switzerland\", 7.509, \"Bern\"],\r\n      [3, \"Iceland\", 7.501, \"Reykjavík\"],\r\n      [4, \"Norway\", 7.498, \"Oslo\"],\r\n      [5, \"Finland\", 7.413, \"Helsinki\"],\r\n    ];\r\n\r\n    const doc = new jsPDF({\r\n      orientation: \"p\",\r\n      unit: \"mm\",\r\n      format: \"a4\",\r\n      putOnlyUsedFonts: true,\r\n    });\r\n\r\n   \r\n    doc.setFontSize(5);\r\n    doc.text(new Date().toDateString(), 5, 5);\r\n    doc.setFontSize(14);\r\n    doc.text(\"NIAZ ARBAZ PVT LTD\", 30, 15);\r\n    doc.setFontSize(10);\r\n\r\n    doc.text(this.PdfTitle, 30, 20);\r\n\r\n    var img = new Image();\r\n    img.src = \"/assets/images/Bedroonm.jpg\";\r\n    doc.addImage(img, \"jpg\", 10, 10, 12, 15);\r\n\r\n    // Or use javascript directly:\r\n    autoTable(doc, {\r\n      html: \".pdftable\",\r\n      startY: 30,\r\n    });\r\n\r\n    doc.save(this.PdfTitle+\".pdf\");\r\n  }\r\n\r\n  \r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport type SortColumn = keyof ApartmentSoldReportDto | '';\r\nexport type SortDirection = 'asc' | 'desc' | '';\r\nexport const rotate: {[key: string]: SortDirection} = { 'asc': 'desc', 'desc': '', '': 'asc' };\r\n\r\nexport const compare = (v1: string | number, v2: string | number) => v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\r\n\r\nexport interface SortEvent {\r\n  column: SortColumn;\r\n  direction: SortDirection;\r\n}\r\n\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">View Sales</span>\r\n                        <span class=\"float-right\">\r\n          <div class=\"d-flex align-items-center justify-content-end\">\r\n            <label class=\"d-flex align-items-center\"\r\n              >Search<input\r\n                type=\"search\"\r\n                placeholder=\"Search\"\r\n                class=\"form-control ml-25\"\r\n                (keyup)=\"filterUpdate($event)\"\r\n            /></label>\r\n          </div>\r\n\r\n          <!-- <i data-feather=\"filter\" class=\"text-primary cursor-pointer mr-50\"></i> -->\r\n        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12 mb-50 pl-0\">\r\n\r\n\r\n                            <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n          >\r\n        </div>\r\n\r\n       \r\n      </div>\r\n\r\n      <!-- ngx-datatables responsive -->\r\n      <ngx-datatable\r\n        #table\r\n        class=\"bootstrap core-bootstrap\"\r\n        [columnMode]=\"ColumnMode.force\"\r\n        [headerHeight]=\"30\"\r\n        [rowHeight]=\"35\"\r\n        [footerHeight]=\"40\"\r\n        rowHeight=\"auto\"\r\n        [limit]=\"100\"\r\n        [rows]=\"apt\"\r\n        [scrollbarH]=\"true\"\r\n      >\r\n        <ngx-datatable-column name=\"Name\" prop=\"customername\">\r\n          <ng-template\r\n            let-row=\"row\"\r\n            let-name=\"value\"\r\n            ngx-datatable-cell-template\r\n          >\r\n            {{ row.customername }}\r\n            \r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column\r\n          name=\"Cnic\"\r\n          prop=\"customercnic\"\r\n        ></ngx-datatable-column>\r\n        <ngx-datatable-column\r\n          name=\"Apartment Name\"\r\n          [width]=\"250\"\r\n          prop=\"apartmentname\"\r\n        ></ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Plan (Years)\" prop=\"plan\">\r\n        </ngx-datatable-column>\r\n        <ngx-datatable-column name=\"Gross Area Sqft\" >\r\n          <ng-template\r\n          let-row=\"row\"\r\n          let-name=\"value\"\r\n          ngx-datatable-cell-template\r\n        >\r\n          {{ row.apartmentarea | number }}\r\n          \r\n        </ng-template>\r\n        </ngx-datatable-column>\r\n\r\n\r\n        <ngx-datatable-column name=\"Installments\" >\r\n          <ng-template\r\n          let-row=\"row\"\r\n          let-name=\"value\"\r\n          ngx-datatable-cell-template\r\n        >\r\n          {{ row.installment.text }}\r\n          \r\n        </ng-template>\r\n        </ngx-datatable-column>\r\n        \r\n\r\n        <ngx-datatable-column name=\"Total Price\">\r\n          <ng-template let-row=\"row\" ngx-datatable-cell-template>\r\n            <span>{{ row.apartmenttotalprice | mycurrency }} </span>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n\r\n        \r\n        <ngx-datatable-column\r\n          name=\"Action\"\r\n          [width]=\"120\"\r\n          [sortable]=\"false\"\r\n        >\r\n          <ng-template ngx-datatable-cell-template let-row=\"row\">\r\n            <div class=\"d-flex align-items-center\">\r\n              <div ngbDropdown container=\"body\">\r\n                <a\r\n                  ngbDropdownToggle\r\n                  href=\"javascript:void(0);\"\r\n                  class=\"hide-arrow\"\r\n                  id=\"dropdownBrowserState\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  <i\r\n                    data-feather=\"more-vertical\"\r\n                    class=\"text-primary cursor-pointer mr-50\"\r\n                  ></i>\r\n                </a>\r\n                            <div ngbDropdownMenu class=\"dropdown-menu-right\" aria-labelledby=\"dropdownBrowserState\">\r\n\r\n\r\n\r\n\r\n                                <a routerLink=\"/sales/{{row.id}}\" ngbDropdownItem class=\"d-flex align-items-center\"> View Sale</a\r\n                    >\r\n                </div>\r\n              </div>\r\n\r\n              \r\n\r\n              \r\n            </div>\r\n          </ng-template>\r\n        </ngx-datatable-column>\r\n      </ngx-datatable>\r\n    </div>\r\n    <!--/ ngx-datatables responsive -->\r\n  </core-card-snippet>\r\n</section>\r\n<!--/ Responsive Datatable -->\r\n</div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ColumnMode, DatatableComponent } from '@swimlane/ngx-datatable';\r\nimport { ApputilsService } from 'app/auth/helpers/apputils.service';\r\nimport { GeneralConfirmationDialogDto } from 'app/auth/models/generalconfirmationdialogdto';\r\nimport { PlanDto } from 'app/auth/models/plandto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { ToastService } from 'app/auth/service/toasts.service';\r\nimport { GeneralconfirmationdialogComponent } from 'app/main/generalconfirmationdialog/generalconfirmationdialog.component';\r\nimport { DatatablesService } from 'app/modules/datatables.service';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { ApartmentComponent } from '../createapartment/apartment/apartment.component';\r\nimport { SalesDto } from '../../../auth/models/plandto';\r\n\r\n@Component({\r\n  selector: 'app-viewsales',\r\n  templateUrl: './viewsales.component.html',\r\n  styleUrls: ['./viewsales.component.scss']\r\n})\r\nexport class ViewsalesComponent implements OnInit {\r\n\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  apt: SalesDto[] = [];\r\n\r\n  qr: Subscription;\r\n  filters: String[] = [];\r\n  tempData: SalesDto[] = [];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  private _unsubscribeAll: Subject<any>;\r\n  exportCSVData: Object[] = [];\r\n  constructor(\r\n    public modal: NgbModal,\r\n    public toast:ToastService,\r\n    public nts:NotificationService,\r\n    private _datatablesService: DatatablesService,\r\n    public fs: firebaseStoreService,\r\n    public appUtil:ApputilsService\r\n  ) {\r\n    this._unsubscribeAll = new Subject();\r\n  }\r\n\r\n  apttypes:string[] = [];\r\n  ngOnInit() {\r\n    this.fetch();\r\n    \r\n  }\r\n  \r\n  \r\n  \r\n  async fetch() {\r\n    debugger;\r\n    var e = await this.fs.getSales().valueChanges().subscribe(e=>{\r\n      this.apt = e;\r\n      this.tempData = e ;\r\n      this.apt = e ;\r\n      this.exportCSVData = e as Object[];\r\n    });\r\n   \r\n  }\r\n  // edit(row: Apartmentdto) {\r\n  //   console.log(\"clicked\");\r\n  //   var dialogRef = this.modal.open(ApartmentComponent, {\r\n  //     backdrop: false,\r\n  //   });\r\n  //   dialogRef.componentInstance.apartment = row;\r\n  //   dialogRef.closed.subscribe(e=>{\r\n  //     this.fetchApartment();\r\n  //   });\r\n  // }\r\n  OnDelete(row: PlanDto) {\r\n    var mod = this.modal.open(GeneralconfirmationdialogComponent, {\r\n      backdrop: false,\r\n      centered: true,\r\n    });\r\n    let gcd: GeneralConfirmationDialogDto = {\r\n      title: \"Delete Plan\",\r\n      message: \"Delete \" + row.client,\r\n      confirmbuttontext: \"Delete\",\r\n      cancelbuttontext: \"\",\r\n    };\r\n    mod.componentInstance.dto = gcd;\r\n    mod.closed.subscribe((e) => {\r\n      debugger;\r\n      if (e) {\r\n        this.fs\r\n          .deletePlanById(row.id)\r\n          .then((e) => {\r\n            \r\n              // this.fetchApartment();\r\n           \r\n          })\r\n          .catch((ct) => {});\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  \r\n  filterUpdate(event) {\r\n    debugger;\r\n    const val = event.target.value.toLowerCase().trim().replace(/\\s/g, \"\");\r\n\r\n    const count = Object.keys(this).length\r\n\r\n    // get the key names of each column in the dataset\r\n    const keys = Object.keys(this.tempData[1]);\r\n    // assign filtered matches to the active datatable\r\n    this.apt = this.tempData.filter((item) => {\r\n      // iterate through each row's column data\r\n      for (let i = 0; i < keys.length; i++) {\r\n        // check for a match\r\n        debugger;\r\n        if (item[keys[i]]) {\r\n          var it = item[keys[i]]\r\n            .toString()\r\n            .toLowerCase()\r\n            .trim()\r\n            .replace(/\\s/g, \"\");\r\n          console.log(it);\r\n          if (it.includes(val)) {\r\n            // found match, return true to add to result set\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // Whenever the filter changes, always go back to the first page\r\n    this.table.offset = 0;\r\n  }\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">Transactions</span>\r\n                        <span class=\"float-right\">\r\n              <div class=\"d-flex align-items-center justify-content-end\">\r\n                <label class=\"d-flex align-items-center\"\r\n                  >Search<input\r\n                    type=\"search\"\r\n                    placeholder=\"Search\"\r\n                    class=\"form-control ml-25\"\r\n                    (keyup)=\"filterUpdate($event)\"\r\n                /></label>\r\n              </div>\r\n\r\n              <!-- <i data-feather=\"filter\" class=\"text-primary cursor-pointer mr-50\"></i> -->\r\n            </span>\r\n                    </div>\r\n                    <div class=\"col-12 mb-50 pl-0\" *ngIf=\"this.AuthService.getRole() == this.ApputilsService.EmployeeRole\">\r\n                        <button (click)=\"add()\" class=\"btn btn-primary ml-1\" rippleEffect>\r\n        <i data-feather=\"plus\" class=\"mr-0 mr-sm-1\"></i\r\n        ><span class=\"d-none d-sm-inline-block\">Add Transaction</span>\r\n      </button>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div *ngIf=\"this.AuthService.getRole() == this.ApputilsService.EmployeeRole\" class=\"col-12 mb-50 pl-0\">\r\n                        <button (click)=\"creditadjut()\" class=\"btn btn-primary ml-1\" rippleEffect>\r\n      <i data-feather=\"plus\" class=\"mr-0 mr-sm-1\"></i\r\n      ><span class=\"d-none d-sm-inline-block\">Credit Adjust</span>\r\n    </button>\r\n\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\"></div>\r\n\r\n                    <!-- ngx-datatables responsive -->\r\n                    <ngx-datatable #table class=\"bootstrap core-bootstrap\" [columnMode]=\"ColumnMode.force\" [headerHeight]=\"30\" [rowHeight]=\"35\" [footerHeight]=\"40\" rowHeight=\"auto\" [limit]=\"100\" rowHeight=\"auto\" [rows]=\"transactions\" [scrollbarH]=\"true\">\r\n                        <ngx-datatable-column name=\"Customer Name\" prop=\"customername\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.customername }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Apartment Name\" prop=\"apartmentname\"></ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Invoice Type\" prop=\"invoicename\">\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Bank\" prop=\"bank\">\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Date\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.transactiondate.seconds * 1000 | date }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Amount\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.amount | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Transaction Id\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.transactionid }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Total Amount\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.totalamount | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Status\" prop=\"status\">\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Action\" [width]=\"120\" [sortable]=\"false\">\r\n                            <ng-template ngx-datatable-cell-template let-row=\"row\">\r\n                                <div class=\"d-flex align-items-center\">\r\n                                    <div ngbDropdown container=\"body\">\r\n                                        <a ngbDropdownToggle href=\"javascript:void(0);\" class=\"hide-arrow\" id=\"dropdownBrowserState\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                            <i data-feather=\"more-vertical\" class=\"text-primary cursor-pointer mr-50\"></i>\r\n                                        </a>\r\n                                        <div ngbDropdownMenu class=\"dropdown-menu-right\" aria-labelledby=\"dropdownBrowserState\">\r\n                                            <a (click)=\"viewDetail(row)\" ngbDropdownItem class=\"d-flex align-items-center\">\r\n                        View Sale</a\r\n                      >\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n\r\n                  <span *ngIf=\"this.AuthService.getRole() == this.ApputilsService.EmployeeRole\" (click)=\"edit(row)\">\r\n                    <i\r\n                      data-feather=\"edit\"\r\n                      class=\"text-primary cursor-pointer\"\r\n                    ></i>\r\n                  </span>\r\n                </div>\r\n              </ng-template>\r\n            </ngx-datatable-column>\r\n          </ngx-datatable>\r\n        </div>\r\n        <!--/ ngx-datatables responsive -->\r\n      </core-card-snippet>\r\n    </section>\r\n    <!--/ Responsive Datatable -->\r\n  </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ColumnMode, DatatableComponent } from '@swimlane/ngx-datatable';\r\n\r\nimport { RouterHelper } from 'app/auth/helpers/router-helper';\r\nimport { Transaction } from 'app/auth/models/plandto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { ApputilsService } from '../../../auth/helpers/apputils.service';\r\nimport { TransactiongeneratorComponent } from '../transactiongenerator/transactiongenerator.component';\r\nimport { CreditadjustmentsComponent } from '../creditadjustments/creditadjustments.component';\r\nimport Swal from 'sweetalert2';\r\nimport { AuthService } from '../../../auth/service/authservice';\r\n\r\n@Component({\r\n  selector: 'app-viewtransactions',\r\n  templateUrl: './viewtransactions.component.html',\r\n  styleUrls: ['./viewtransactions.component.scss']\r\n})\r\nexport class ViewtransactionsComponent implements OnInit {\r\n\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  \r\n\r\n \r\n  filters: String[] = [];\r\n  tempData: Transaction[] = [];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  constructor(\r\n    public modal: NgbModal,\r\n \r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n   public AuthService:AuthService,\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService) { }\r\n\r\n    transactions:Transaction[] = [];\r\n  ngOnInit() {\r\n    this.fs.getalltransactions().valueChanges().subscribe(e=>{\r\n      this.transactions = e;\r\n      this.tempData = e;\r\n      \r\n    });\r\n  }\r\n  add()\r\n  {\r\n    console.log(\"clicked\");\r\n    var dialogRef = this.modal.open(TransactiongeneratorComponent, {\r\n      backdrop: false,\r\n    });\r\n   \r\n    dialogRef.closed.subscribe(e=>{\r\n      \r\n    });\r\n  }\r\n  creditadjut()\r\n  {\r\n    console.log(\"clicked\");\r\n   \r\n    var dialogRef = this.modal.open(CreditadjustmentsComponent, {\r\n      backdrop: false,\r\n    });\r\n   \r\n    dialogRef.closed.subscribe(e=>{\r\n      \r\n    });\r\n  }\r\n  edit(tr:Transaction)\r\n  {\r\n    if(tr.editable != undefined && !tr.editable)\r\n    {\r\n      Swal.fire(\r\n        {\r\n          title:\"Transaction Locked\",\r\n          confirmButtonText:\"OK\"\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    console.log(\"clicked\");\r\n    var dialogRef = this.modal.open(TransactiongeneratorComponent, {\r\n      backdrop: false,\r\n    });\r\n    dialogRef.componentInstance.Transaction = tr;\r\n    dialogRef.closed.subscribe(e=>{\r\n      \r\n    });\r\n  }\r\n  async viewDetail(tr:Transaction)\r\n  {\r\n    var planId = (await this.fs.getinvoicebyid(tr.invoiceid).get().toPromise()).data().planid;\r\n    this.routerser.navigateByUrl(\"/sales/\"+planId+\"/invoice/\"+tr.invoiceid);\r\n\r\n  }\r\n  filterUpdate(event) {\r\n    debugger;\r\n    const val = event.target.value.toLowerCase().trim().replace(/\\s/g, \"\");\r\n\r\n    const count = Object.keys(this).length\r\n\r\n    // get the key names of each column in the dataset\r\n    const keys = Object.keys(this.tempData[1]);\r\n    // assign filtered matches to the active datatable\r\n    this.transactions = this.tempData.filter((item) => {\r\n      // iterate through each row's column data\r\n      for (let i = 0; i < keys.length; i++) {\r\n        // check for a match\r\n        debugger;\r\n        if (item[keys[i]]) {\r\n          var it = item[keys[i]]\r\n            .toString()\r\n            .toLowerCase()\r\n            .trim()\r\n            .replace(/\\s/g, \"\");\r\n          console.log(it);\r\n          if (it.includes(val)) {\r\n            // found match, return true to add to result set\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // Whenever the filter changes, always go back to the first page\r\n    this.table.offset = 0;\r\n  }\r\n\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">Customer</span>\r\n                        <span class=\"float-right\">\r\n            <!-- <div class=\"d-flex align-items-center justify-content-end\">\r\n              <label class=\"d-flex align-items-center\"\r\n                >Search<input\r\n                  type=\"search\"\r\n                  placeholder=\"Search\"\r\n                  class=\"form-control ml-25\"\r\n                  (keyup)=\"filterUpdate($event)\"\r\n              /></label>\r\n            </div> -->\r\n\r\n            <!-- <i data-feather=\"filter\" class=\"text-primary cursor-pointer mr-50\"></i> -->\r\n          </span>\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\"></div>\r\n\r\n                    <!-- ngx-datatables responsive -->\r\n                    <ngx-datatable #table class=\"bootstrap core-bootstrap\" [columnMode]=\"ColumnMode.force\" [headerHeight]=\"40\" [rowHeight]=\"58\" [footerHeight]=\"50\" rowHeight=\"auto\" [limit]=\"10\" [rows]=\"cust\" [scrollbarH]=\"true\">\r\n                        <ngx-datatable-column name=\"Name\" prop=\"customername\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.name }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"CNIC\" prop=\"cnic\"></ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Mail Address\" prop=\"mailaddress\">\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Phone Number\" prop=\"phonenumber\">\r\n                        </ngx-datatable-column>\r\n\r\n\r\n\r\n\r\n                        <ngx-datatable-column name=\"Status\" prop=\"status\">\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Action\" [width]=\"120\" [sortable]=\"false\">\r\n                            <ng-template ngx-datatable-cell-template let-row=\"row\">\r\n                                <div class=\"d-flex align-items-center\">\r\n                                    <div ngbDropdown container=\"body\">\r\n                                        <a ngbDropdownToggle href=\"javascript:void(0);\" class=\"hide-arrow\" id=\"dropdownBrowserState\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                            <i data-feather=\"more-vertical\" class=\"text-primary cursor-pointer mr-50\"></i>\r\n                                        </a>\r\n                                        <div ngbDropdownMenu class=\"dropdown-menu-right\" aria-labelledby=\"dropdownBrowserState\">\r\n                                            <a (click)=\"viewDetail(row)\" ngbDropdownItem class=\"d-flex align-items-center\">\r\n                      View Sale</a\r\n                    >\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n                <span (click)=\"edit(row)\">\r\n                  <i\r\n                    data-feather=\"edit\"\r\n                    class=\"text-primary cursor-pointer\"\r\n                  ></i>\r\n                </span>\r\n              </div>\r\n            </ng-template>\r\n          </ngx-datatable-column>\r\n        </ngx-datatable>\r\n      </div>\r\n      <!--/ ngx-datatables responsive -->\r\n    </core-card-snippet>\r\n  </section>\r\n  <!--/ Responsive Datatable -->\r\n</div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ColumnMode, DatatableComponent } from '@swimlane/ngx-datatable';\r\nimport { RouterHelper } from 'app/auth/helpers/router-helper';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { ApputilsService } from '../../auth/helpers/apputils.service';\r\nimport { CustomerDto } from '../../auth/models/customerinfo';\r\n\r\n@Component({\r\n  selector: 'app-customers',\r\n  templateUrl: './customers.component.html',\r\n  styleUrls: ['./customers.component.scss']\r\n})\r\nexport class CustomersComponent implements OnInit {\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  \r\n\r\n \r\n  filters: String[] = [];\r\n  \r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  cust:CustomerDto[]=[];\r\n  constructor(public modal: NgbModal,\r\n \r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n   \r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService) { }\r\n\r\n  ngOnInit() {\r\n    this.fs.getCustomer().valueChanges().subscribe(e=>{\r\n      this.cust =e;\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"myModalLabel1\">Choose Option</h4>\r\n    <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n</div>\r\n<div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-12\">\r\n\r\n            <select class=\"form-control\" (change)=\"rangeselect($event.target.value)\">\r\n            <option *ngFor=\"let opt of this.ApputilsService.ReportingTime\" value=\"{{this.opt}}\" >\r\n              {{this.opt}}\r\n            </option>\r\n           </select>\r\n        </div>\r\n\r\n\r\n        <div class=\"col-12\" *ngIf=\"showdaterange\">\r\n            <label>\r\n                        Choose Date Range\r\n                      </label>\r\n            <ng2-flatpickr [config]=\"DateRangeOptions\" name=\"DateRange\" (onchange)=\"oncustomdateselect($event.target.value)\"></ng2-flatpickr>\r\n        </div>\r\n\r\n\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal-footer\">\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\" rippleEffect>\r\n    View \r\n  </button>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { ApputilsService } from '../../auth/helpers/apputils.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FlatpickrOptions } from 'ng2-flatpickr';\r\nimport { daterangepickerdto } from '../../auth/models/daterangepickerdto';\r\n\r\n@Component({\r\n  selector: 'app-filteroptionselect',\r\n  templateUrl: './filteroptionselect.component.html',\r\n  styleUrls: ['./filteroptionselect.component.scss']\r\n})\r\nexport class FilteroptionselectComponent implements OnInit {\r\n  showdaterange: boolean = false;\r\n  drp:daterangepickerdto;\r\n  public DateRangeOptions: FlatpickrOptions = {\r\n    altInput: true,\r\n    mode: 'range',\r\n    onChange:(selectedates:any)=>{\r\n      console.log(selectedates);\r\n      if(selectedates.length > 1)\r\n      {\r\n        this.drp = new daterangepickerdto();\r\n        this.drp.startdate = selectedates[0];\r\n        this.drp.enddate = selectedates[1];\r\n        this.drp.option = this.drp.startdate.getDate()+\"/\"+this.drp.startdate.getMonth()+\"/\"+this.drp.startdate.getFullYear()+\"-\"+this.drp.enddate.getDate()+\"/\"+this.drp.enddate.getMonth()+\"/\"+this.drp.enddate.getFullYear();\r\n        \r\n      }\r\n    }\r\n  }\r\n  constructor( public fs: firebaseStoreService,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public modal: NgbActiveModal,\r\n    public modalservice: NgbModal,\r\n    public ApputilsService: ApputilsService) { }\r\n\r\n  ngOnInit() {\r\n    this.drp = new daterangepickerdto();\r\n    this.drp.startdate = new Date();\r\n    this.drp.option = \"All\";\r\n  }\r\n  rangeselect(range: string) {\r\n    debugger;\r\n    this.showdaterange = false;\r\n    \r\n    if (range == this.ApputilsService.ReportThisMonth) {\r\n      this.drp = this.ApputilsService.getMonthRange();\r\n      this.drp.option = \"Month\"\r\n     \r\n    } else if (range == this.ApputilsService.ReportThisYear) {\r\n      this.drp = this.ApputilsService.getYearRange();\r\n      this.drp.option = \"Year\";\r\n     \r\n    } else if (range == this.ApputilsService.ReportCustom) {\r\n      this.showdaterange = true;\r\n      this.drp.option = \"Custom\";\r\n    } else {\r\n      this.drp.startdate = new Date();\r\n      this.drp.option = \"All\";\r\n    }\r\n  }\r\n  onSubmit()\r\n  {\r\n    this.modal.close(this.drp);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { GeneralConfirmationDialogDto } from '../../auth/models/generalconfirmationdialogdto';\r\n\r\n@Component({\r\n  selector: 'app-generalconfirmationdialog',\r\n  templateUrl: './generalconfirmationdialog.component.html',\r\n  styleUrls: ['./generalconfirmationdialog.component.scss']\r\n})\r\nexport class GeneralconfirmationdialogComponent implements OnInit {\r\n\r\n  public dto:GeneralConfirmationDialogDto;\r\n  constructor(public modal:NgbActiveModal) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onSubmit()\r\n  {\r\n\r\n    this.modal.close(true);\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"myModalLabel1\">{{this.dto.title}}</h4>\r\n    <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n</div>\r\n<div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n\r\n    <p>\r\n        {{this.dto.message}}\r\n    </p>\r\n</div>\r\n\r\n<div class=\"modal-footer\">\r\n    <button type=\"submit\" class=\"btn btn-danger\" (click)=\"onSubmit()\" rippleEffect>\r\n    {{this.dto.confirmbuttontext}}\r\n  </button>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-progressdialog',\r\n  templateUrl: './progressdialog.component.html',\r\n  styleUrls: ['./progressdialog.component.scss']\r\n})\r\nexport class ProgressdialogComponent implements OnInit {\r\n\r\n  constructor(public modal:NgbActiveModal) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"transparent modal-body\">\r\n\r\n\r\n\r\n    <div class=\"d-flex justify-content-center my-1\">\r\n        <div style=\"\r\nbackground: #fff;\r\npadding: 15px;\r\nbox-shadow: 0 5px 20px 0 rgb(34 41 47 / 10%);\r\nborder-radius: 4px;\r\npadding-left: 19px;\">\r\n            <div class=\"spinner-border mr-50 text-primary\" style=\"width: 3rem; height: 3rem\" role=\"status\">\r\n                <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n\r\n                        <div class=\"row mb-2 float-right\">\r\n                            <a (click)=\"onviewall()\" class=\"btn btn-danger btn-outline-primary float-right mr-1\" rippleEffect>View All</a\r\n                              >\r\n                          <a (click)=\"generatePdf()\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Download PDF</a\r\n                              >\r\n                              <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n                                >\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <div class=\"col-12\" >\r\n                            <label>\r\n                          Choose Date \r\n                        </label>\r\n                        <ng2-flatpickr [(ngModel)]=\"invoiceDate\" [config]=\"InvoiceDateDto\" name=\"Aging Date\" ></ng2-flatpickr>\r\n                        </div>\r\n                      </div>\r\n                \r\n\r\n                  </div>\r\n              </div>\r\n          </div>\r\n\r\n\r\n      </div>\r\n\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-header\">\r\n                            <div class=\"card-title\">\r\n                                Customer Aging Report\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12 mb-2\">\r\n                                    <!-- <a csvLink [data]=\"this.agingreport\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n                                  > -->\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <table id=\"table\" class=\"pdftable table table-bordered\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <td>\r\n                                                Name\r\n                                            </td>\r\n                                            <td>\r\n                                                0-30\r\n                                            </td>\r\n                                            <td>\r\n                                                31-60\r\n                                            </td>\r\n                                            <td>\r\n                                                60-90\r\n                                            </td>\r\n                                            <td>\r\n                                                > 90\r\n                                            </td>\r\n                                            <td>\r\n                                                Total\r\n                                            </td>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr *ngFor=\"let in of this.allaging\">\r\n                                            <td>\r\n                                                {{this.in.customername }}\r\n                                            </td>\r\n                                            <td>\r\n                                                <span *ngIf=\"this.in.amount30  != 0\">\r\n                                                {{this.in.amount30 | number}}\r\n                                                </span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span *ngIf=\"this.in.amount60  != 0\">\r\n                                                    {{this.in.amount60 | number}}\r\n                                                </span>\r\n                                                \r\n                                            </td>\r\n                                            <td>\r\n                                                <span *ngIf=\"this.in.amount90  != 0\">\r\n                                                {{this.in.amount90 | number}}\r\n                                                </span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span *ngIf=\"this.in.amount100 != 0\">\r\n                                                {{this.in.amount100 | number}}\r\n                                                </span>\r\n                                            </td>\r\n                                            <td>\r\n                                                \r\n                                                {{this.in.total | number}}\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ColumnMode, DatatableComponent } from '@swimlane/ngx-datatable';\r\nimport { RouterHelper } from 'app/auth/helpers/router-helper';\r\nimport { CustomerDto } from 'app/auth/models/customerinfo';\r\nimport { daterangepickerdto } from 'app/auth/models/daterangepickerdto';\r\nimport { AginReportDto, SalesDto, PlanScheduleDto, Transaction, bankbalancedetaildto, CustomersLedgerDto, InvoicesDetailDto, customersalesDto } from 'app/auth/models/plandto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { FilteroptionselectComponent } from 'app/main/filteroptionselect/filteroptionselect.component';\r\nimport saveAs from 'file-saver';\r\nimport jsPDF, { TextOptionsLight } from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport { FlatpickrOptions } from 'ng2-flatpickr';\r\nimport { ApputilsService } from '../../../auth/helpers/apputils.service';\r\n\r\n@Component({\r\n  selector: 'app-agingreport',\r\n  templateUrl: './agingreport.component.html',\r\n  styleUrls: ['./agingreport.component.scss']\r\n})\r\nexport class AgingreportComponent implements OnInit {\r\n\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  public currentCustomer: CustomerDto;\r\n  viewall: boolean = false;\r\n  filters: String[] = [];\r\n  allaging: AginReportDto[] = [];\r\n  tempallaging: AginReportDto[] = [];\r\n  ledger:Object[];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  cust: CustomerDto[] = [];\r\n  sales: SalesDto[] = [];\r\n  customersales: SalesDto[] = [];\r\n  invoices: PlanScheduleDto[] = [];\r\n  customerinvoices: PlanScheduleDto[] = [];\r\n  transactions: Transaction[] = [];\r\n  customertransaction: Transaction[] = [];\r\n  bankbalancedetail: bankbalancedetaildto[] = [];\r\n  tempbankbalancedetail: bankbalancedetaildto[] = [];\r\n  ALLbalancedetail: bankbalancedetaildto[] = [];\r\n  overdueinvoices: PlanScheduleDto[] = [];\r\n  aginginvoices: PlanScheduleDto[] = [];\r\n  tempaginginvoices: PlanScheduleDto[] = [];\r\n  upcominginvoices: PlanScheduleDto[] = [];\r\n  drp: daterangepickerdto;\r\n  selectedagingfilter: string = this.ApputilsService.Aging30;\r\n  report: number = 0;\r\n  filtertext: string = \"Choose Filter Options\";\r\n  html: HTMLTableElement;\r\n  selectedCustomer: CustomerDto;\r\n  customerledgers: CustomersLedgerDto[] = [];\r\n  overduecustomerinvoices: InvoicesDetailDto[] = [];\r\n  upcomingcustomerinvoices: InvoicesDetailDto[] = [];\r\n  exportCSVData:Object[]=[];\r\n\r\n  invoiceDate = new Date();\r\n\r\n  public InvoiceDateDto: FlatpickrOptions = {\r\n    defaultDate: this.invoiceDate,\r\n    altInput: true,\r\n    onChange:(ir:any)=>\r\n    {\r\n      this.invoiceDate = ir[0];\r\n      this.allagingreport();\r\n    }\r\n    \r\n  };\r\n  constructor(\r\n    public modal: NgbModal,\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService\r\n  ) {}\r\n  generatePdf() {\r\n    var head = [[\"ID\", \"Country\", \"Rank\", \"Capital\"]];\r\n    var body = [\r\n      [1, \"Denmark\", 7.526, \"Copenhagen\"],\r\n      [2, \"Switzerland\", 7.509, \"Bern\"],\r\n      [3, \"Iceland\", 7.501, \"Reykjavík\"],\r\n      [4, \"Norway\", 7.498, \"Oslo\"],\r\n      [5, \"Finland\", 7.413, \"Helsinki\"],\r\n    ];\r\n\r\n    const doc = new jsPDF({\r\n      orientation: \"p\",\r\n      unit: \"mm\",\r\n      format: \"a4\",\r\n      putOnlyUsedFonts: true,\r\n    });\r\n\r\n    let txtOptions: TextOptionsLight = {};\r\n    doc.setFontSize(5);\r\n    doc.text(new Date().toDateString(), 5, 5);\r\n    doc.setFontSize(14);\r\n    doc.text(\"NIAZ ARBAZ PVT LTD\", 30, 15);\r\n    doc.setFontSize(10);\r\n\r\n    doc.text(\"Tayyab\", 30, 20);\r\n\r\n    var img = new Image();\r\n    img.src = \"/assets/images/Bedroonm.jpg\";\r\n    doc.addImage(img, \"jpg\", 10, 10, 12, 15);\r\n\r\n    // Or use javascript directly:\r\n    autoTable(doc, {\r\n      html: \".pdftable\",\r\n      startY: 30,\r\n    });\r\n\r\n    doc.save(\"table.pdf\");\r\n  }\r\n  ngOnInit() {\r\n  \r\n    \r\n    this.fs\r\n      .getCustomer()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.cust = e;\r\n      });\r\n    this.fs\r\n      .getSales()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.sales = e;\r\n      });\r\n    this.fs\r\n      .getallinvoices()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.invoices = e;\r\n      });\r\n    this.fs\r\n      .getalltransactions()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.transactions = e;\r\n        this.onviewall();\r\n      });\r\n\r\n    let dr: daterangepickerdto = {\r\n      startdate: new Date(),\r\n      enddate: new Date(),\r\n      option: \"All\",\r\n    };\r\n    this.drp = dr;\r\n    \r\n    \r\n  }\r\n  onCustomerSelect($event) {\r\n   \r\n    this.viewall = false;\r\n    this.currentCustomer = $event;\r\n    this.allaging = this.tempallaging.filter(f=> f.id == this.currentCustomer.id)\r\n    this.agingfilter(this.selectedagingfilter);\r\n  }\r\n  onviewall() {\r\n    this.viewall = true;\r\n    this.selectedCustomer = null;\r\n    this.generatereports();\r\n  }\r\n  \r\n \r\n    \r\n  generatereports() {\r\n    var monthRange = this.ApputilsService.getMonthRange();\r\n    this.filterCustomerSales();\r\n    this.agingreport(\"All\");\r\n   \r\n  }\r\n\r\n  filterCustomerSales() {\r\n    debugger;\r\n    if (this.viewall) {\r\n      this.customersales = this.sales;\r\n      this.customerinvoices = this.invoices;\r\n    } else {\r\n      this.customersales = this.sales.filter(\r\n        (e) => e.customerid == this.currentCustomer.id\r\n      );\r\n      this.customerinvoices = this.invoices.filter(\r\n        (e) => this.customersales.filter((r) => r.id == e.planid).length > 0\r\n      );\r\n    }\r\n  }\r\n  \r\n  getCustomerSales(id: string) {\r\n    debugger;\r\n    let customersales = this.sales.filter((e) => e.customerid == id);\r\n    let customerinvoices = this.invoices.filter(\r\n      (e) => customersales.filter((r) => r.id == e.planid).length > 0\r\n    );\r\n\r\n    let cst: customersalesDto = {\r\n      sales: customersales,\r\n      invoices: customerinvoices,\r\n    };\r\n    return cst;\r\n  }\r\n  agingreport(startdate: any) {\r\n    debugger;\r\n    this.filterCustomerSales();\r\n    if (startdate == \"All\") {\r\n      startdate = 0;\r\n      this.selectedCustomer = null;\r\n      this.allagingreport();\r\n    }\r\n    var dt = new Date();\r\n    dt.setDate(dt.getDate() - startdate);\r\n    var d30 = new Date();\r\n    d30.setDate(d30.getDate() - (startdate + startdate == \"All\" ? 91 : 31));\r\n    this.aginginvoices = this.customerinvoices.filter(\r\n      (e) =>\r\n        !e.invoicepaid &&\r\n        new Date(e.invoicedueon?.seconds * 1000) < dt &&\r\n        new Date(e.invoicedueon?.seconds * 1000) >= d30\r\n    );\r\n  }\r\n  allagingreport() {\r\n    debugger;\r\n    this.viewall = true;\r\n    this.allaging = [];\r\n    this.cust.forEach((e) => {\r\n      let age: AginReportDto = {\r\n        customername: e.name,\r\n        amount30: 0,\r\n        amount60: 0,\r\n        amount90: 0,\r\n        total: 0,\r\n        amount100: 0,\r\n        id: ''\r\n      };\r\n      var salesdto = this.getCustomerSales(e.id);\r\n      var drp = this.getdatefilter(0,this.invoiceDate);\r\n      age.amount30 = salesdto.invoices\r\n        .filter(\r\n          (e) =>\r\n            !e.invoicepaid &&\r\n            new Date(e.invoicedueon?.seconds * 1000) < drp.startdate &&\r\n            new Date(e.invoicedueon?.seconds * 1000) >= drp.enddate\r\n        )\r\n        .reduce((sum, current) => sum + current.amountleft, 0);\r\n\r\n      drp = this.getdatefilter(31,this.invoiceDate);\r\n      age.amount60 = salesdto.invoices\r\n        .filter(\r\n          (e) =>\r\n            !e.invoicepaid &&\r\n            new Date(e.invoicedueon?.seconds * 1000) < drp.startdate &&\r\n            new Date(e.invoicedueon?.seconds * 1000) >= drp.enddate\r\n        )\r\n        .reduce((sum, current) => sum + current.amountleft, 0);\r\n\r\n      drp = this.getdatefilter(61,this.invoiceDate);\r\n      age.amount90 = salesdto.invoices\r\n        .filter(\r\n          (e) =>\r\n            !e.invoicepaid &&\r\n            new Date(e.invoicedueon?.seconds * 1000) < drp.startdate &&\r\n            new Date(e.invoicedueon?.seconds * 1000) >= drp.enddate\r\n        )\r\n        .reduce((sum, current) => sum + current.amountleft, 0);\r\n\r\n      age.amount100 = salesdto.invoices\r\n        .filter(\r\n          (e) =>\r\n            !e.invoicepaid &&\r\n            new Date(e.invoicedueon?.seconds * 1000) < drp.enddate\r\n        )\r\n        .reduce((sum, current) => sum + current.amountleft, 0);\r\n\r\n      age.id = e.id;\r\n      age.total = age.amount30 + age.amount60 + age.amount90 + age.amount100;\r\n      debugger;\r\n      this.allaging.push(age);\r\n    });\r\n\r\n    let totalage: AginReportDto = {\r\n      customername: \"Total\",\r\n      amount30: this.allaging.reduce(\r\n        (sum, current) => sum + current.amount30,\r\n        0\r\n      ),\r\n      amount60: this.allaging.reduce(\r\n        (sum, current) => sum + current.amount60,\r\n        0\r\n      ),\r\n      amount90: this.allaging.reduce(\r\n        (sum, current) => sum + current.amount90,\r\n        0\r\n      ),\r\n      total: this.allaging.reduce((sum, current) => sum + current.total, 0),\r\n      amount100: this.allaging.reduce(\r\n        (sum, current) => sum + current.amount100,\r\n        0\r\n      ),\r\n      id: ''\r\n    };\r\n    this.allaging.push(totalage);\r\n    // var dt = new Date();\r\n    // dt.setDate(dt.getDate() - startdate);\r\n    // var d30 = new Date();\r\n    // d30.setDate(d30.getDate() - (startdate + startdate == \"All\" ? 91:31));\r\n    // this.aginginvoices = this.customerinvoices.filter(\r\n    //   (e) =>\r\n    //   (!e.invoicepaid)&&\r\n    //     new Date(e.invoicedueon?.seconds * 1000) < dt &&\r\n    //     new Date(e.invoicedueon?.seconds * 1000) >= d30\r\n    // );\r\n    this.tempallaging = this.allaging;\r\n    this.exportCSVData = this.tempallaging as Object[];\r\n  }\r\n  getdatefilter(startdate: any,dt:Date) {\r\n    debugger;\r\n    if(dt == null || dt == undefined)\r\n    {\r\n      dt = new Date();\r\n    }\r\n    else{\r\n      var dd = new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),)\r\n    }\r\n    dd.setDate(dt.getDate() - startdate);\r\n    var d30 = new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),)\r\n    d30.setDate(d30.getDate() - (startdate + 30));\r\n\r\n    let drp: daterangepickerdto = {\r\n      startdate: dd,\r\n      enddate: d30,\r\n    };\r\n    return drp;\r\n  }\r\n  filter() {\r\n    this.modalservice\r\n      .open(FilteroptionselectComponent)\r\n      .closed.subscribe((e) => {\r\n        var drp = e as daterangepickerdto;\r\n        console.log(drp);\r\n        this.drp = drp;\r\n        this.filtertext = this?.drp?.option;\r\n       \r\n      });\r\n  }\r\n\r\n  agingfilter(filter: string) {\r\n    \r\n      this.agingreport(filter);\r\n    \r\n  }\r\n\r\n  \r\n  \r\n  downloadFile(data: any) {\r\n    debugger;\r\n    const replacer = (key, value) => value === null ? '' : value; // specify how you want to handle null values here\r\n    const header = Object.keys(data[0]);\r\n    let csv = data.map(row => header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(','));\r\n    csv.unshift(header.join(','));\r\n    let csvArray = csv.join('\\r\\n');\r\n\r\n    var blob = new Blob([csvArray], {type: 'text/csv' })\r\n    saveAs(blob, \"myFile.csv\");\r\n}\r\n\r\n\r\n  // upcominginvoicesreport(st: Date, et: Date) {\r\n  //   var dt = new Date();\r\n  //   this.upcominginvoices = this.invoices.filter(\r\n  //     (e) =>\r\n  //       e.invoicepaid == false &&\r\n  //       new Date(e?.invoicedueon?.seconds * 1000) > st &&\r\n  //       new Date(e?.invoicedueon?.seconds * 1000) <= et\r\n  //   );\r\n  // }\r\n\r\n}\r\n","<div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"myModalLabel1\">Apartments </h4>\r\n\r\n    <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n\r\n</div>\r\n<div class=\"modal-body\" tabindex=\"0\" ngbAutofocus id=\"print-section\">\r\n    <button type=\"button\" class=\"float-right mb-2 btn btn-primary\" (click)=\"generatePdf()\" aria-label=\"Close\">\r\n    Save PDF\r\n     </button>\r\n    <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n        >\r\n    <table class=\"table  table-bordered pdftable\">\r\n        <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th scope=\"col\" sortable=\"name\" (sort)=\"onSort($event)\">\r\n                    Apartment Name\r\n                </th>\r\n                <th scope=\"col\" sortable=\"floorno\" (sort)=\"onSort($event)\">\r\n                    Floor No\r\n                </th>\r\n                <th scope=\"col\" sortable=\"type\" (sort)=\"onSort($event)\"> Bedding Type</th>\r\n                <th scope=\"col\" sortable=\"type\" (sort)=\"onSort($event)\"> Type</th>\r\n                <th>\r\n                    Rate PerSqft\r\n                </th>\r\n\r\n            </tr>\r\n\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let inst of apt; let i = index\" (click)=\"dismissdialog()\" routerLink=\"/sales/{{this.inst.id}}\">\r\n                <td> {{((page-1) * pageSize)+i+1}}</td>\r\n                <td> {{inst.name}} </td>\r\n                <td> {{inst.floorno}} </td>\r\n\r\n                <td> {{inst.apartmenttype}}</td>\r\n                <td> {{inst.type}}</td>\r\n                <td> {{inst.price | number}}</td>\r\n\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <div class=\"d-flex justify-content-between p-2\">\r\n        <ngb-pagination [collectionSize]=\"collectionSize\" [(page)]=\"page\" [pageSize]=\"pageSize\" (pageChange)=\"refreshApt()\">\r\n        </ngb-pagination>\r\n\r\n        <select class=\"custom-select\" style=\"width: auto\" [(ngModel)]=\"pageSize\" (ngModelChange)=\"refreshApt()\">\r\n        <option [ngValue]=\"10\">10 items per page</option>\r\n        <option [ngValue]=\"15\">15 items per page</option>\r\n        <option [ngValue]=\"30\">30 items per page</option>\r\n      </select>\r\n    </div>\r\n\r\n</div>","import {\r\n  Component,\r\n  OnInit,\r\n  QueryList,\r\n  ViewChild,\r\n  ViewChildren,\r\n} from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\r\nimport { NgbActiveModal, NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { firebaseStoreService } from \"app/auth/service/firebasestoreservice\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { InvoiceReportDto } from \"../reportgenerator\";\r\nimport { ApputilsService } from \"../../../auth/helpers/apputils.service\";\r\nimport { ColumnMode, DatatableComponent } from \"@swimlane/ngx-datatable\";\r\nimport { Apartmentdto } from \"app/auth/models/apartmentdto\";\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport {\r\n  compare,\r\n  NgbdSortableHeader,\r\n  SortEvent,\r\n} from \"app/main/InventoryManagement/viewinventorymodal/viewinventorymodal.component\";\r\n\r\n@Component({\r\n  selector: \"app-apartmentreport\",\r\n  templateUrl: \"./apartmentreport.component.html\",\r\n  styleUrls: [\"./apartmentreport.component.scss\"],\r\n})\r\nexport class ApartmentreportComponent implements OnInit {\r\n  // exportAsConfig: ExportAsConfig = {\r\n  //   type: 'pdf', // the type you want to download\r\n\r\n  //   elementIdOrContent: 'datatable', // the id of html/table element\r\n  // }\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  apt: Apartmentdto[] = [];\r\n  aptall: Apartmentdto[] = [];\r\n  invoices: InvoiceReportDto[] = [];\r\n  exportAsService: any;\r\n  exportCSVData: Object[] = [];\r\n  collectionSize = this.apt.length;\r\n  constructor(\r\n    public modal: NgbActiveModal,\r\n\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n\r\n    public fs: firebaseStoreService\r\n  ) {\r\n    \r\n  }\r\n\r\n  //  export() {\r\n  //   // download the file using old school javascript method\r\n  //   this.exportAsService.save(this.exportAsConfig, 'My File Name').subscribe(() => {\r\n  //     // save started\r\n  //   });\r\n  //   // get the data as base64 or json object for json type - this will be helpful in ionic or SSR\r\n  //   this.exportAsService.get(this.config).subscribe(content => {\r\n  //     console.log(content);\r\n  //   });\r\n  // }\r\n  config(config: any) {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n  async ngOnInit() {\r\n    //this.generatePdf();\r\n\r\n    this.aptall = this.apt;\r\n    this.collectionSize = this.apt.length;\r\n    this.refreshApt();\r\n    this.exportCSVData = this.apt as Object[];\r\n  }\r\n\r\n  dismissdialog() {\r\n    this.modal.close();\r\n  }\r\n  generatePdf() {\r\n    let app = this.apt;\r\n    this.apt = this.aptall;\r\n    let pg = this.page;\r\n    this.page = 1;\r\n  \r\n\r\n    var head = [[\"ID\", \"Country\", \"Rank\", \"Capital\"]];\r\n    var body = [\r\n      [1, \"Denmark\", 7.526, \"Copenhagen\"],\r\n      [2, \"Switzerland\", 7.509, \"Bern\"],\r\n      [3, \"Iceland\", 7.501, \"Reykjavík\"],\r\n      [4, \"Norway\", 7.498, \"Oslo\"],\r\n      [5, \"Finland\", 7.413, \"Helsinki\"],\r\n    ];\r\n\r\n    const doc = new jsPDF({\r\n      orientation: \"p\",\r\n      unit: \"mm\",\r\n      format: \"a4\",\r\n      putOnlyUsedFonts: true,\r\n    });\r\n\r\n    doc.setFontSize(5);\r\n    doc.text(new Date().toDateString(), 5, 5);\r\n    doc.setFontSize(14);\r\n    doc.text(\"NIAZ ARBAZ PVT LTD\", 30, 15);\r\n    doc.setFontSize(10);\r\n\r\n    doc.text(\"pd.pdf\", 30, 20);\r\n\r\n    var img = new Image();\r\n    img.src = \"/assets/images/Bedroonm.jpg\";\r\n    doc.addImage(img, \"jpg\", 10, 10, 12, 15);\r\n\r\n    setTimeout(() => {\r\n      // Or use javascript directly:\r\n      autoTable(doc, {\r\n        html: \".pdftable\",\r\n        startY: 30,\r\n      }),\r\n        doc.save(\"pd\" + \".pdf\");\r\n      this.apt = app;\r\n      this.page = pg;\r\n    }, 1000);\r\n  }\r\n\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n\r\n  onSort({ column, direction }: SortEvent) {\r\n    debugger;\r\n    // resetting other headers\r\n    this.headers.forEach((header) => {\r\n      if (header.sortable !== column) {\r\n        header.direction = \"\";\r\n      }\r\n    });\r\n\r\n    // sorting countries\r\n    if (direction === \"\" || column === \"\") {\r\n      this.apt = this.apt;\r\n    } else {\r\n      \r\n      this.aptall = [...this.aptall].sort((a, b) => {\r\n        let res = compare(a[column],b[column]);\r\n        if(column == \"type\")\r\n        {\r\n          res = compare(Number.parseInt( a[column]), Number.parseInt(b[column]));\r\n        }\r\n        \r\n        return direction === \"asc\" ? res : -res;\r\n      });\r\n      this.refreshApt();\r\n    }\r\n  }\r\n  page = 1;\r\n  pageSize = 15;\r\n  refreshApt() {\r\n    debugger;\r\n    this.apt = this.aptall\r\n      .map((country, i) => ({ id: i + 1, ...country }))\r\n      .slice(\r\n        (this.page - 1) * this.pageSize,\r\n        (this.page - 1) * this.pageSize + this.pageSize\r\n      );\r\n      \r\n  }\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">Bank Balance </span>\r\n                        <span class=\"float-right\">\r\n                          \r\n                         \r\n            <!-- <i data-feather=\"filter\" class=\"text-primary cursor-pointer mr-50\"></i> -->\r\n          </span>\r\n                        <label>\r\n              Choose Bank\r\n          </label>\r\n                        <select class=\"form-control\" (change)=\"bankSelect($event.target.value)\">\r\n            <option *ngFor=\"let opt of this.metadata.banks\" value=\"{{this.opt.Iban}}\">\r\n              {{this.opt.Name}}\r\n            </option>\r\n           </select>\r\n\r\n                        <label>\r\n               Choose Range\r\n           </label>\r\n                        <select class=\"form-control\" (change)=\"rangeselect($event.target.value)\">\r\n            <option *ngFor=\"let opt of this.ApputilsService.ReportingTime\" value=\"{{this.opt}}\">\r\n              {{this.opt}}\r\n            </option>\r\n           </select>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"col-12\" *ngIf=\"showdaterange\">\r\n                        <label>\r\n                        Choose Date Range\r\n                      </label>\r\n                        <ng2-flatpickr [config]=\"DateRangeOptions\" name=\"DateRange\" (onchange)=\"oncustomdateselect($event.target.value)\"></ng2-flatpickr>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\"></div>\r\n                    <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1 mb-2 ml-2\" rippleEffect>Export CSV</a\r\n                        >\r\n                    <button type=\"button\" class=\"float-right mb-2 btn btn-primary\" (click)=\"generatePdf()\" aria-label=\"Close\">\r\n                        Save PDF\r\n                         </button>\r\n                    <table *ngIf=\"show\" class=\"table table-bordered ppdftable\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>\r\n                                    Date\r\n                                </th>\r\n                                <th>\r\n                                    Name\r\n                                </th>\r\n                                <th>\r\n                                    Apartment Name\r\n                                </th>\r\n                                <th>\r\n                                    Invoice Name\r\n                                </th>\r\n                                <th>\r\n                                    Transaction Id\r\n                                </th>\r\n                                <th>\r\n                                    Debit\r\n                                </th>\r\n                                <th>\r\n                                    Credit\r\n                                </th>\r\n                                <th>\r\n                                    Number\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let row of tempbankbalancedetail\">\r\n                                <td>\r\n                                    {{ row.transactiondate?.seconds * 1000 | date }}\r\n                                </td>\r\n                                <td>\r\n                                    {{ row.customername }}\r\n                                </td>\r\n                                <td>\r\n                                    {{ row.apartmentname }}\r\n                                </td>\r\n                                <td>\r\n                                    {{row.invoicename}}\r\n                                </td>\r\n                                <td>\r\n                                    {{row.transactionid}}\r\n                                </td>\r\n                                <td>\r\n                                    {{row.debit | number}}\r\n                                </td>\r\n                                <td>\r\n                                    {{row.credit | number}}\r\n                                </td>\r\n                                <td>\r\n                                    {{ row.bankamount | number }}\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <!-- ngx-datatables responsive -->\r\n                    <!-- <ngx-datatable *ngIf=\"show\" #table class=\"bootstrap core-bootstrap\" [columnMode]=\"ColumnMode.force\" [headerHeight]=\"30\" [rowHeight]=\"35\" [footerHeight]=\"40\" rowHeight=\"auto\" [limit]=\"100\" rowHeight=\"auto\" [rows]=\"tempbankbalancedetail\" [scrollbarH]=\"true\">\r\n                        <ngx-datatable-column name=\"Date\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.transactiondate?.seconds * 1000 | date }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Name\" prop=\"customername\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.customername }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Apartment Name\" prop=\"apartmentname\"></ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Invoice Name\" prop=\"invoicename\">\r\n                        </ngx-datatable-column>\r\n\r\n\r\n\r\n                        <ngx-datatable-column name=\"Transaction Id\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.transactionid }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Debit\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.debit | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Credit\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.credit | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Balance\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.bankamount | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </ngx-datatable> -->\r\n                </div>\r\n                <!--/ ngx-datatables responsive -->\r\n            </core-card-snippet>\r\n        </section>\r\n        <!--/ Responsive Datatable -->\r\n    </div>\r\n</div>","import { Component, OnInit, QueryList, ViewChildren } from \"@angular/core\";\r\nimport { firebaseStoreService } from \"../../../auth/service/firebasestoreservice\";\r\nimport {\r\n  bankbalancedetaildto,\r\n  Transaction,\r\n} from \"../../../auth/models/plandto\";\r\nimport { ColumnMode } from \"@swimlane/ngx-datatable\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ApputilsService } from \"../../../auth/helpers/apputils.service\";\r\nimport { daterangepickerdto } from \"../../../auth/models/daterangepickerdto\";\r\nimport { FlatpickrOptions } from \"ng2-flatpickr\";\r\nimport { metadata } from '../../../auth/models/metadata';\r\nimport { NgbdSortableHeader, SortEvent, compare } from \"app/main/InventoryManagement/viewinventorymodal/viewinventorymodal.component\";\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\n\r\n\r\n\r\n@Component({\r\n  selector: \"app-bankbalancereport\",\r\n  templateUrl: \"./bankbalancereport.component.html\",\r\n  styleUrls: [\"./bankbalancereport.component.scss\"],\r\n})\r\nexport class BankbalancereportComponent implements OnInit {\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  show = false;\r\n  exportCSVData: Object[] = [];\r\n  public DateRangeOptions: FlatpickrOptions = {\r\n    altInput: true,\r\n    mode: 'range',\r\n    onChange:(selectedates:any)=>{\r\n      console.log(selectedates);\r\n      if(selectedates.length > 1)\r\n      {\r\n        var drp = new daterangepickerdto();\r\n        drp.startdate = selectedates[0];\r\n        drp.enddate = selectedates[1];\r\n        this.filterreport(drp);\r\n      }\r\n    }\r\n  }\r\n  showdaterange = false;\r\n  constructor(\r\n    public fs: firebaseStoreService,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService\r\n  ) {}\r\n\r\n  bankbalancedetail: bankbalancedetaildto[] = [];\r\n  tempbankbalancedetail: bankbalancedetaildto[] = [];\r\n  transactions: Transaction[] = [];\r\n  metadata:metadata;\r\n  async ngOnInit() {\r\n    this.fs.getmetadata().valueChanges().subscribe(e=>{\r\n\r\n      this.metadata = e;\r\n      this.filterbanks(this.metadata.banks[0].Iban);\r\n    });\r\n   \r\n    \r\n  }\r\n  async filterbanks(iban:string)\r\n  {\r\n    var bankamount = 0;\r\n    let bb: bankbalancedetaildto = {\r\n      debit: 0,\r\n      id: \"\",\r\n      apartmentname: \"\",\r\n      customername: \"\",\r\n      invoicename: \"\",\r\n      bank: \"\",\r\n      iban: \"\",\r\n      paymentmethod: \"\",\r\n      transactionid: \"\",\r\n      invoiceid: \"\",\r\n      bankamount: bankamount,\r\n      status: \"\",\r\n      transactiondate: new Date(),\r\n      credit: 0\r\n    };\r\n    this.bankbalancedetail.push(bb);\r\n    (await this.fs.gettransactionsbybank(iban)).docs.forEach((e) => {\r\n      console.log(e.data());\r\n      var debit = 0;\r\n      var credit = 0;\r\n      if(e.data().status == this.ApputilsService.TransactionSuccessfull)\r\n      {\r\n        bankamount += e.data().amount;\r\n        debit = e.data().amount;\r\n       \r\n      }\r\n      else{\r\n        credit = e.data().amount;\r\n      }      \r\n\r\n      this.transactions.push(e.data());\r\n      let bb: bankbalancedetaildto = {\r\n        id: e.data().id,\r\n        apartmentname: e.data().apartmentname,\r\n        customername: e.data().customername,\r\n        invoicename: e.data().invoicename,\r\n        bank: e.data().bank,\r\n        iban: e.data().iban,\r\n        paymentmethod: e.data().paymentmethod,\r\n        transactionid: e.data().transactionid,\r\n        invoiceid: e.data().invoiceid,\r\n        bankamount: bankamount,\r\n        status: e.data().status,\r\n        transactiondate: e.data().transactiondate,\r\n        debit: debit,\r\n        credit: credit\r\n      };\r\n      \r\n      this.bankbalancedetail.push(bb);\r\n    });\r\n    var drp = this.ApputilsService.getAllRange();\r\n    this.filterreport(drp);\r\n  }\r\n  oncustomdateselect(val:any)\r\n  {\r\ndebugger;\r\n  }\r\n  rangeselect(range: string) {\r\n    debugger;\r\n    this.showdaterange = false;\r\n    this.tempbankbalancedetail = [];\r\n    if (range == this.ApputilsService.ReportThisMonth) {\r\n      var drp = this.ApputilsService.getMonthRange();\r\n      this.filterreport(drp);\r\n    } else if (range == this.ApputilsService.ReportThisYear) {\r\n      var drp = this.ApputilsService.getYearRange();\r\n      this.filterreport(drp);\r\n    } else if (range == this.ApputilsService.ReportCustom) {\r\n      this.showdaterange = true;\r\n    } else {\r\n      this.tempbankbalancedetail = this.bankbalancedetail;\r\n    }\r\n  }\r\n  bankSelect(iban:string)\r\n  {\r\n    this.filterbanks(iban);\r\n  }\r\n  filterreport(drp: daterangepickerdto) {\r\n    debugger;\r\n    var firsttime = false;\r\n    var previousbankamount = 0;\r\n    this.tempbankbalancedetail = [];\r\n    let previous:bankbalancedetaildto;\r\n    for (var i = 0; i < this.bankbalancedetail.length; i++) {\r\n      var e = this.bankbalancedetail[i];\r\n      var tdate = new Date(e.transactiondate.seconds * 1000);\r\n      \r\n      if(tdate < drp.startdate)\r\n      {\r\n        previous = this.bankbalancedetail[i];\r\n      }\r\n      else\r\n      if(+tdate >= +drp.startdate &&  +tdate <= +drp.enddate && !firsttime)\r\n      {\r\n        firsttime = true;\r\n        previousbankamount = e.bankamount;\r\n        if (i == 0) {\r\n          previousbankamount = 0;\r\n        } else {\r\n          previousbankamount = this.bankbalancedetail[i - 1].bankamount;\r\n        }\r\n        let bb: bankbalancedetaildto = {\r\n          debit: 0,\r\n          id: \"\",\r\n          apartmentname: \"\",\r\n          customername: \"\",\r\n          invoicename: \"\",\r\n          bank: \"\",\r\n          iban: \"\",\r\n          paymentmethod: \"\",\r\n          transactionid: \"\",\r\n          invoiceid: \"\",\r\n          bankamount: previousbankamount,\r\n          status: \"\",\r\n          transactiondate: tdate,\r\n          credit: 0\r\n        };\r\n        this.tempbankbalancedetail.push(bb);\r\n        this.tempbankbalancedetail.push(e);\r\n      }\r\n       else {\r\n        var td = new Date(e.transactiondate.seconds * 1000);\r\n        if (+td >= +drp.startdate && +td <= +drp.enddate) {\r\n          debugger;\r\n          this.tempbankbalancedetail.push(e);\r\n        }\r\n      }\r\n    }\r\n    if(!firsttime)\r\n    {\r\n      let bb: bankbalancedetaildto = {\r\n        debit: 0,\r\n        id: \"\",\r\n        apartmentname: \"\",\r\n        customername: \"\",\r\n        invoicename: \"\",\r\n        bank: \"\",\r\n        iban: \"\",\r\n        paymentmethod: \"\",\r\n        transactionid: \"\",\r\n        invoiceid: \"\",\r\n        bankamount: previous.bankamount,\r\n        status: \"\",\r\n        transactiondate:previous.transactiondate,\r\n        credit: 0\r\n      };\r\n      this.tempbankbalancedetail.push(bb);\r\n    }\r\n  this.exportCSVData = this.tempbankbalancedetail as Object[];\r\n    this.show = true;\r\n  }\r\n\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n\r\n  onSort({ column, direction }: SortEvent) {\r\n    debugger;\r\n    // resetting other headers\r\n    this.headers.forEach((header) => {\r\n      if (header.sortable !== column) {\r\n        header.direction = \"\";\r\n      }\r\n    });\r\n\r\n    // sorting countries\r\n    if (direction === \"\" || column === \"\") {\r\n     this.tempbankbalancedetail = this.tempbankbalancedetail;\r\n    } else {\r\n      this.tempbankbalancedetail = [...this.tempbankbalancedetail].sort((a, b) => {\r\n        const res = compare(a[column], b[column]);\r\n        return direction === \"asc\" ? res : -res;\r\n      });\r\n    }\r\n  }\r\n  generatePdf() {\r\n    var head = [[\"ID\", \"Country\", \"Rank\", \"Capital\"]];\r\n    var body = [\r\n      [1, \"Denmark\", 7.526, \"Copenhagen\"],\r\n      [2, \"Switzerland\", 7.509, \"Bern\"],\r\n      [3, \"Iceland\", 7.501, \"Reykjavík\"],\r\n      [4, \"Norway\", 7.498, \"Oslo\"],\r\n      [5, \"Finland\", 7.413, \"Helsinki\"],\r\n    ];\r\n\r\n    const doc = new jsPDF({\r\n      orientation: \"p\",\r\n      unit: \"mm\",\r\n      format: \"a4\",\r\n      putOnlyUsedFonts: true,\r\n    });\r\n\r\n    doc.setFontSize(5);\r\n    doc.text(new Date().toDateString(), 5, 5);\r\n    doc.setFontSize(14);\r\n    doc.text(\"NIAZ ARBAZ PVT LTD\", 30, 15);\r\n    doc.setFontSize(10);\r\n\r\n    doc.text(\"Floor Wise Apartments\", 30, 20);\r\n\r\n    var img = new Image();\r\n    img.src = \"/assets/images/Bedroonm.jpg\";\r\n    doc.addImage(img, \"jpg\", 10, 10, 12, 15);\r\n\r\n    autoTable(doc, {\r\n      html: \".ppdftable\",\r\n      startY: 30,\r\n    }),\r\n      doc.save(\"bankbalancereport\" + \".pdf\");\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-choosereports',\r\n  templateUrl: './choosereports.component.html',\r\n  styleUrls: ['./choosereports.component.scss']\r\n})\r\nexport class ChoosereportsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <div class=\"row match-height\">\r\n            <div class=\"col-4\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\" routerLink=\"/reports/balance/123asdad\">\r\n                            Bank Balance Reports\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\" routerLink=\"/reports/customers\">\r\n                            Customers Report\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-4\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\" routerLink=\"/reports/trialbalance\">\r\n                            Trial Balance\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\" routerLink=\"/\">\r\n                            Inventory Report\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\" routerLink=\"/agingreport\">\r\n                            Aging Report\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n\r\n                <div class=\"card\">\r\n                    <div class=\"card-body\">\r\n\r\n                        <div class=\"row mb-2 float-right\">\r\n                            <a (click)=\"onviewall()\" class=\"btn btn-danger btn-outline-primary float-right mr-1\" rippleEffect>View All</a\r\n                                >\r\n                            <a (click)=\"generatePdf()\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Download PDF</a\r\n                                >\r\n                         \r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <label>\r\n                            Choose Customer\r\n                          </label>\r\n                            <ng-select class=\"ng-select-size-lg\" #SelectSizeLarge (change)=\"onCustomerSelect($event)\" [items]=\"cust\" [searchable]=\"true\" bindLabel=\"cnic\" bindValue=\"id\" [(ngModel)]=\"this.selectedCustomer\">\r\n                                <ng-template ng-header-tmp>\r\n                                    <input class=\"form-control w-100\" placeholder=\"search customer by cnic\" type=\"text\" (input)=\"SelectSizeLarge.filter($event.target.value)\" />\r\n                                </ng-template>\r\n                                <!--/ select size large -->\r\n                            </ng-select>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <label>\r\n                            Choose Reports\r\n                          </label>\r\n                            <select class=\"form-control\" (change)=\"onreportselect($event.target.value)\">\r\n                              <option *ngFor=\"let report of this.ApputilsService.CustomerReports\">\r\n                                {{report}}\r\n                              </option>\r\n                            </select>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        Customer Apartments\r\n                        <div class=\"float-right\">\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <th>\r\n                                    Apartment Name\r\n                                </th>\r\n                                <th>\r\n                                    Apartment Total Price\r\n                                </th>\r\n                                <th>\r\n                                    Purchased On\r\n                                </th>\r\n                                <th>\r\n                                    Status\r\n                                </th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let apt of this.customersales\">\r\n                                    <td>\r\n                                        {{this.apt.apartmentname}}\r\n                                    </td>\r\n                                    <td>\r\n                                        <span *ngIf=\"this.apt.apartmenttotalprice != 0\">\r\n                                            {{this.apt.apartmenttotalprice | number}}\r\n                                        </span>\r\n                                       \r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.apt.createdat.seconds * 1000 | date}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{this.apt.status}}\r\n                                    </td>\r\n                                    <td>\r\n                                        <a class=\"mr-1\" (click)=\"dismissdialog()\" routerLink=\"/sales/{{this.apt.id}}\" container=\"body\" placement=\"top\" ngbTooltip=\"Preview Invoice\"><i size=\"18\" data-feather=\"eye\"></i\r\n                                            ></a>\r\n                            </td>\r\n                            </tr>\r\n                            </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"row\" *ngIf=\"this.report == 1\">\r\n                <div class=\"col-12\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-header\">\r\n                            <div class=\"card-title\">\r\n                                Over Due Invoices\r\n                            </div>\r\n                            <label (click)=\"filter()\">\r\n                            {{this.filtertext}}\r\n                          </label>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-12 mb-2\">\r\n                                    <div class=\"mb-2\">\r\n                                        <a csvLink [data]=\"this.overduecustomerinvoices\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n                                        >\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                       <div class=\"row\">\r\n                           <div class=\"col-12\">\r\n                            <table class=\"pdftable table table-bordered\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <td>\r\n                                            Customer Name\r\n                                        </td>\r\n                                        <td>\r\n                                            TotalAmount\r\n                                        </td>\r\n                                        <td>\r\n                                            Amount Paid\r\n                                        </td>\r\n                                        <td>\r\n                                            Amount Left\r\n                                        </td>\r\n                                        <td>\r\n                                            Type\r\n                                        </td>\r\n                                        <td>\r\n                                            Date\r\n                                        </td>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let invoice of this.overduecustomerinvoices\"  >\r\n                                      \r\n                                      <td>\r\n                                          {{invoice.customer}}\r\n                                      </td>\r\n                                        <td>\r\n                                            <span *ngIf=\"invoice.amount != 0\">\r\n                                                {{invoice.amount | number}}\r\n                                            </span>\r\n                                           \r\n                                        </td>\r\n                                        <td>\r\n                                            <span *ngIf=\"invoice.amountpaid != 0\">\r\n                                                {{invoice.amountpaid | number}}\r\n                                            </span>\r\n                                           \r\n                                        </td>\r\n                                        <td>\r\n                                            <span *ngIf=\"invoice.amountleft != 0\">\r\n                                            {{invoice.amountleft | number}}\r\n                                           </span>\r\n                                        </td>\r\n                                        <td>\r\n                                            {{invoice.type}}\r\n                                        </td>\r\n                                        <td>\r\n                                            {{invoice?.invoicedueon?.seconds * 1000 | date}}\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                           </div>\r\n                       </div>\r\n                     \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\" *ngIf=\"this.report == 2\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            Customer Ledger Report\r\n                        </div>\r\n                        <label (click)=\"filter()\">\r\n                            {{this.filtertext}}\r\n                          </label>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12 mb-2\">\r\n                                <div class=\"mb-2\">\r\n                                    <a (click)=\"ledgercsv()\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n                                        >\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n\r\n                        \r\n                        <table class=\" pdftable table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <td>\r\n                                        Name\r\n                                    </td>\r\n                                   \r\n                                   \r\n                                    <td>\r\n                                        Date\r\n                                    </td>\r\n                                    <td>\r\n                                        Bank\r\n                                    </td>\r\n                                    <td>\r\n                                        Apartment Name\r\n                                    </td>\r\n                                    <td>\r\n                                        Invoice Id\r\n                                    </td>\r\n                                    <td>\r\n                                        Transaction Id\r\n                                    </td>\r\n                                    <td>\r\n                                        Debit\r\n                                    </td>\r\n                                    <td>\r\n                                        Credit\r\n                                    </td>\r\n                                    <td>\r\n                                        Balance\r\n                                    </td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody >\r\n                                <tr *ngFor=\"let balance of this.ALLbalancedetail\" [ngStyle]=\"{  'background-color':(balance.customername=='Total') ? 'rgb(2 165 22)':'#ffffffff' }\"\r\n                                \r\n                                [style.font-size]=\"{'font-size':(balance.customername=='Total') ? '18px':'12px'}\"\r\n                                \r\n                                >\r\n                                    <td>\r\n                                        {{balance.customername}}\r\n                                    </td>\r\n                                   \r\n                                    \r\n                                            <td>\r\n                                                {{balance.transactiondate?.seconds * 1000 | date }}\r\n                                            </td>\r\n                                            <td>\r\n                                                {{balance.bank }}\r\n                                            </td>\r\n                                            <td>\r\n                                                {{balance.apartmentname }}\r\n                                            </td>\r\n                                            <td>\r\n                                                {{balance.invoicename}}\r\n                                            </td>\r\n                                            <td>\r\n                                                {{balance.transactionid }}\r\n                                            </td>\r\n\r\n                                            <td>\r\n                                                <span *ngIf=\"balance.debit != 0\">\r\n                                                {{balance.debit | number}}\r\n                                                </span>\r\n                                            </td>\r\n                                            <td >\r\n                                                <span *ngIf=\"balance.credit != 0\">\r\n                                                    {{balance.credit  | number}}\r\n                                                </span>\r\n                                                \r\n                                            </td>\r\n                                            <td>\r\n                                                <span *ngIf=\"balance.bankamount != 0\">\r\n                                                {{balance.bankamount | number}}\r\n                                                </span>\r\n                                            </td>\r\n                                        \r\n\r\n                                </tr>\r\n                          \r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\" *ngIf=\"this.report == 3\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            UpComing Invoices\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"mb-2\">\r\n                            <label (click)=\"filter()\">\r\n                        Choose Filter Option\r\n                      </label>\r\n\r\n                        </div>\r\n                        <div class=\"mb-2\">\r\n                            <a csvLink [data]=\"this.upcomingcustomerinvoices\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n                                >\r\n                        </div>\r\n                        <table class=\"pdftable table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <td>\r\n                                        Customer\r\n                                    </td>\r\n                                    <td>\r\n                                        TotalAmount\r\n                                    </td>\r\n                                    <td>\r\n                                        Amount Paid\r\n                                    </td>\r\n                                    <td>\r\n                                        Amount Left\r\n                                    </td>\r\n                                    <td>\r\n                                        Type\r\n                                    </td>\r\n                                    <td>\r\n                                        Date\r\n                                    </td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let invoice of this.upcomingcustomerinvoices\">\r\n                                   <td>\r\n                                       {{invoice.customer}}\r\n                                   </td>\r\n                                   <td>\r\n                                    <span *ngIf=\"invoice.amount != 0\">\r\n                                        {{invoice.amount | number}}\r\n                                    </span>\r\n                                   \r\n                                </td>\r\n                                <td>\r\n                                    <span *ngIf=\"invoice.amountpaid != 0\">\r\n                                        {{invoice.amountpaid | number}}\r\n                                    </span>\r\n                                   \r\n                                </td>\r\n                                <td>\r\n                                    <span *ngIf=\"invoice.amountleft != 0\">\r\n                                    {{invoice.amountleft | number}}\r\n                                   </span>\r\n                                </td>\r\n                                    <td>\r\n                                        {{invoice.type}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{invoice?.invoicedueon?.seconds * 1000 | date}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { ColumnMode, DatatableComponent } from \"@swimlane/ngx-datatable\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { CustomerDto } from \"app/auth/models/customerinfo\";\r\nimport { firebaseStoreService } from \"app/auth/service/firebasestoreservice\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { ApputilsService } from \"../../../auth/helpers/apputils.service\";\r\n\r\nimport {\r\n  SalesDto,\r\n  PlanScheduleDto,\r\n  Transaction,\r\n  bankbalancedetaildto,\r\n} from \"../../../auth/models/plandto\";\r\nimport { Invoicedto } from \"../../../auth/models/apartmentdto\";\r\nimport { debug } from \"console\";\r\nimport { stat } from \"fs\";\r\nimport { daterangepickerdto } from \"app/auth/models/daterangepickerdto\";\r\nimport { FilteroptionselectComponent } from \"app/main/filteroptionselect/filteroptionselect.component\";\r\nimport { doesNotReject } from \"assert\";\r\nimport saveAs from \"file-saver\";\r\n\r\nimport jsPDF, { TextOptions, TextOptionsLight } from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport { disconnect } from \"process\";\r\nimport { InvoicesDetailDto,  } from '../../../auth/models/plandto';\r\nimport {\r\n  AginReportDto,\r\n  customersalesDto,\r\n  CustomersLedgerDto,\r\n} from \"../../../auth/models/plandto\";\r\n\r\n@Component({\r\n  selector: \"app-customerreports\",\r\n  templateUrl: \"./customerreports.component.html\",\r\n  styleUrls: [\"./customerreports.component.scss\"],\r\n})\r\nexport class CustomerreportsComponent implements OnInit {\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  public currentCustomer: CustomerDto;\r\n  viewall: boolean = false;\r\n  filters: String[] = [];\r\n  allaging: AginReportDto[] = [];\r\n  ledger:Object[];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  cust: CustomerDto[] = [];\r\n  sales: SalesDto[] = [];\r\n  customersales: SalesDto[] = [];\r\n  invoices: PlanScheduleDto[] = [];\r\n  customerinvoices: PlanScheduleDto[] = [];\r\n  transactions: Transaction[] = [];\r\n  customertransaction: Transaction[] = [];\r\n  bankbalancedetail: bankbalancedetaildto[] = [];\r\n  tempbankbalancedetail: bankbalancedetaildto[] = [];\r\n  ALLbalancedetail: bankbalancedetaildto[] = [];\r\n  overdueinvoices: PlanScheduleDto[] = [];\r\n  aginginvoices: PlanScheduleDto[] = [];\r\n  upcominginvoices: PlanScheduleDto[] = [];\r\n  drp: daterangepickerdto;\r\n  selectedagingfilter: string = this.ApputilsService.Aging30;\r\n  report: number = 0;\r\n  reportName:string = \"\"; \r\n  filtertext: string = \"Choose Filter Options\";\r\n  html: HTMLTableElement;\r\n  selectedCustomer: CustomerDto;\r\n  customerledgers: CustomersLedgerDto[] = [];\r\n  overduecustomerinvoices: InvoicesDetailDto[] = [];\r\n  upcomingcustomerinvoices: InvoicesDetailDto[] = [];\r\n  constructor(\r\n    public modal: NgbModal,\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService\r\n  ) {}\r\n  generatePdf() {\r\n    var head = [[\"ID\", \"Country\", \"Rank\", \"Capital\"]];\r\n    var body = [\r\n      [1, \"Denmark\", 7.526, \"Copenhagen\"],\r\n      [2, \"Switzerland\", 7.509, \"Bern\"],\r\n      [3, \"Iceland\", 7.501, \"Reykjavík\"],\r\n      [4, \"Norway\", 7.498, \"Oslo\"],\r\n      [5, \"Finland\", 7.413, \"Helsinki\"],\r\n    ];\r\n\r\n    const doc = new jsPDF({\r\n      orientation: \"p\",\r\n      unit: \"mm\",\r\n      format: \"a4\",\r\n      putOnlyUsedFonts: true,\r\n    });\r\n\r\n    let txtOptions: TextOptionsLight = {};\r\n    doc.setFontSize(5);\r\n    doc.text(new Date().toDateString(), 5, 5);\r\n    doc.setFontSize(14);\r\n    doc.text(\"NIAZ ARBAZ PVT LTD\",35, 15);\r\n    doc.setFontSize(10);\r\n\r\n    doc.text(this.reportName, 35, 20);\r\n\r\n    var img = new Image();\r\n    img.src = \"/assets/images/logo/logo.png\";\r\n    doc.addImage(img, \"jpg\", 5, 5, 35, 30);\r\n\r\n    // Or use javascript directly:\r\n    autoTable(doc, {\r\n      html: \".pdftable\",\r\n      startY: 40,\r\n      headStyles:{\r\n        fillColor:\"#ac8b5f\"\r\n      }\r\n\r\n    });\r\n\r\n    doc.save(this.reportName+\"-\"+new Date().toLocaleDateString()+\".pdf\");\r\n  }\r\n  ngOnInit() {\r\n    \r\nthis.reportName = this.ApputilsService.CustomerLedgerReport;\r\n    this.fs\r\n      .getCustomer()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.cust = e;\r\n      });\r\n    this.fs\r\n      .getSales()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.sales = e;\r\n      });\r\n    this.fs\r\n      .getallinvoices()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.invoices = e;\r\n      });\r\n    this.fs\r\n      .getalltransactions()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.transactions = e;\r\n        this.onviewall();\r\n      });\r\n\r\n    let dr: daterangepickerdto = {\r\n      startdate: new Date(),\r\n      enddate: new Date(),\r\n      option: \"All\",\r\n    };\r\n    this.drp = dr;\r\n  }\r\n  onCustomerSelect($event) {\r\n    \r\n    this.viewall = false;\r\n    this.currentCustomer = $event;\r\n    this.generateparticularreport(this.currentCustomer.id);\r\n  }\r\n  onviewall() {\r\n    this.viewall = true;\r\n    this.selectedCustomer = null;\r\n    this.generateparticularreport();\r\n  }\r\n  generateparticularreport(id: string = \"\") {\r\n    switch (this.report) {\r\n      case 0:\r\n        this.report = 2;\r\n        this.generateparticularreport(id);\r\n        break;\r\n      case 1:\r\n        this.filterCustomerSales();\r\n        this.overdueinvoicesreport(this.drp);\r\n        break;\r\n      case 2:\r\n        this.generatecustomerledgers(id);\r\n        break;\r\n      case 3:\r\n        this.filterCustomerSales();\r\n        this.upcominginvoicesreport(this.drp);\r\n        break;\r\n      case 4:\r\n        break;\r\n    }\r\n  }\r\n  onreportselect(val: any) {\r\n    \r\n    this.reportName = val;\r\n    switch (val) {\r\n      case this.ApputilsService.CustomerAgingReport:\r\n        this.report = 0;\r\n\r\n        break;\r\n      case this.ApputilsService.CustomerOverDueInvoices:\r\n        this.report = 1;\r\n\r\n        break;\r\n      case this.ApputilsService.CustomerLedgerReport:\r\n        this.report = 2;\r\n\r\n        break;\r\n      case this.ApputilsService.CustomerOutStandingInvoices:\r\n        this.report = 3;\r\n\r\n        break;\r\n    }\r\n    this.generateparticularreport();\r\n  }\r\n  generatereports() {\r\n    var monthRange = this.ApputilsService.getMonthRange();\r\n    this.filterCustomerSales();\r\n    this.agingreport(0);\r\n    this.customledgerreport();\r\n    this.overdueinvoicesreport(this.drp);\r\n    this.upcominginvoicesreport(this.drp);\r\n  }\r\n  generatecustomerledgers(id: string) {\r\n   \r\n    this.customerledgers = [];\r\n    this.ALLbalancedetail = [];\r\n    this.cust.forEach((e) => {\r\n      let cld: CustomersLedgerDto = new CustomersLedgerDto();\r\n      cld.cust = e;\r\n      this.selectedCustomer = this.currentCustomer;\r\n      this.currentCustomer = e;\r\n      this.customersales = this.sales.filter(\r\n        (e) => e.customerid == this.currentCustomer.id\r\n      );\r\n      this.customerinvoices = this.invoices.filter(\r\n        (e) => this.customersales.filter((r) => r.id == e.planid).length > 0\r\n      );\r\n      this.customledgerreport();\r\n      cld.bankbalances = this.bankbalancedetail;\r\n\r\n      this.ALLbalancedetail = this.ALLbalancedetail.concat(cld.bankbalances);\r\n    });\r\n    debugger;\r\n    if (id != \"\") {\r\n      debugger;\r\n      this.currentCustomer = this.selectedCustomer;\r\n      this.ALLbalancedetail = this.ALLbalancedetail.filter(\r\n        (e) => e.id == id\r\n      );\r\n    }\r\n    console.log(this.customerledgers);\r\n    this.ledger = this.customerledgers  as Object[];\r\n\r\n   \r\n  }\r\n  filterCustomerSales() {\r\n    \r\n    if (this.viewall) {\r\n      this.customersales = this.sales;\r\n      this.customerinvoices = this.invoices;\r\n    } else {\r\n      this.customersales = this.sales.filter(\r\n        (e) => e.customerid == this.currentCustomer.id\r\n      );\r\n      this.customerinvoices = this.invoices.filter(\r\n        (e) => this.customersales.filter((r) => r.id == e.planid).length > 0\r\n      );\r\n    }\r\n  }\r\n  \r\n  getCustomerSales(id: string) {\r\n    \r\n    let customersales = this.sales.filter((e) => e.customerid == id);\r\n    let customerinvoices = this.invoices.filter(\r\n      (e) => customersales.filter((r) => r.id == e.planid).length > 0\r\n    );\r\n\r\n    let cst: customersalesDto = {\r\n      sales: customersales,\r\n      invoices: customerinvoices,\r\n    };\r\n    return cst;\r\n  }\r\n  agingreport(startdate: any) {\r\n    \r\n    this.filterCustomerSales();\r\n    if (startdate == \"All\") {\r\n      startdate = 0;\r\n      this.selectedCustomer = null;\r\n      this.allagingreport();\r\n    }\r\n    var dt = new Date();\r\n    dt.setDate(dt.getDate() - startdate);\r\n    var d30 = new Date();\r\n    d30.setDate(d30.getDate() - (startdate + startdate == \"All\" ? 91 : 31));\r\n    this.aginginvoices = this.customerinvoices.filter(\r\n      (e) =>\r\n        !e.invoicepaid &&\r\n        new Date(e.invoicedueon?.seconds * 1000) < dt &&\r\n        new Date(e.invoicedueon?.seconds * 1000) >= d30\r\n    );\r\n  }\r\n  allagingreport() {\r\n    \r\n    this.viewall = true;\r\n    this.allaging = [];\r\n    this.cust.forEach((e) => {\r\n      let age: AginReportDto = {\r\n        customername: e.name,\r\n        amount30: 0,\r\n        amount60: 0,\r\n        amount90: 0,\r\n        total: 0,\r\n        amount100: 0,\r\n        id: \"\"\r\n      };\r\n      var salesdto = this.getCustomerSales(e.id);\r\n      var drp = this.getdatefilter(0);\r\n      age.amount30 = salesdto.invoices\r\n        .filter(\r\n          (e) =>\r\n            !e.invoicepaid &&\r\n            new Date(e.invoicedueon?.seconds * 1000) < drp.startdate &&\r\n            new Date(e.invoicedueon?.seconds * 1000) >= drp.enddate\r\n        )\r\n        .reduce((sum, current) => sum + current.amountleft, 0);\r\n\r\n      drp = this.getdatefilter(31);\r\n      age.amount60 = salesdto.invoices\r\n        .filter(\r\n          (e) =>\r\n            !e.invoicepaid &&\r\n            new Date(e.invoicedueon?.seconds * 1000) < drp.startdate &&\r\n            new Date(e.invoicedueon?.seconds * 1000) >= drp.enddate\r\n        )\r\n        .reduce((sum, current) => sum + current.amountleft, 0);\r\n\r\n      drp = this.getdatefilter(61);\r\n      age.amount90 = salesdto.invoices\r\n        .filter(\r\n          (e) =>\r\n            !e.invoicepaid &&\r\n            new Date(e.invoicedueon?.seconds * 1000) < drp.startdate &&\r\n            new Date(e.invoicedueon?.seconds * 1000) >= drp.enddate\r\n        )\r\n        .reduce((sum, current) => sum + current.amountleft, 0);\r\n\r\n      age.amount100 = salesdto.invoices\r\n        .filter(\r\n          (e) =>\r\n            !e.invoicepaid &&\r\n            new Date(e.invoicedueon?.seconds * 1000) < drp.enddate\r\n        )\r\n        .reduce((sum, current) => sum + current.amountleft, 0);\r\n\r\n      age.total = age.amount30 + age.amount60 + age.amount90 + age.amount100;\r\n      \r\n      this.allaging.push(age);\r\n    });\r\n\r\n    let totalage: AginReportDto = {\r\n      customername: \"Total\",\r\n      amount30: this.allaging.reduce(\r\n        (sum, current) => sum + current.amount30,\r\n        0\r\n      ),\r\n      amount60: this.allaging.reduce(\r\n        (sum, current) => sum + current.amount60,\r\n        0\r\n      ),\r\n      amount90: this.allaging.reduce(\r\n        (sum, current) => sum + current.amount90,\r\n        0\r\n      ),\r\n      total: this.allaging.reduce((sum, current) => sum + current.total, 0),\r\n      amount100: this.allaging.reduce(\r\n        (sum, current) => sum + current.amount100,\r\n        0\r\n      ),\r\n      id: \"\"\r\n    };\r\n    this.allaging.push(totalage);\r\n    // var dt = new Date();\r\n    // dt.setDate(dt.getDate() - startdate);\r\n    // var d30 = new Date();\r\n    // d30.setDate(d30.getDate() - (startdate + startdate == \"All\" ? 91:31));\r\n    // this.aginginvoices = this.customerinvoices.filter(\r\n    //   (e) =>\r\n    //   (!e.invoicepaid)&&\r\n    //     new Date(e.invoicedueon?.seconds * 1000) < dt &&\r\n    //     new Date(e.invoicedueon?.seconds * 1000) >= d30\r\n    // );\r\n  }\r\n  getdatefilter(startdate: any) {\r\n    var dt = new Date();\r\n    dt.setDate(dt.getDate() - startdate);\r\n    var d30 = new Date();\r\n    d30.setDate(d30.getDate() - (startdate + startdate == \"All\" ? 91 : 31));\r\n\r\n    let drp: daterangepickerdto = {\r\n      startdate: dt,\r\n      enddate: d30,\r\n    };\r\n    return drp;\r\n  }\r\n  filter() {\r\n    this.modalservice\r\n      .open(FilteroptionselectComponent)\r\n      .closed.subscribe((e) => {\r\n        var drp = e as daterangepickerdto;\r\n        console.log(drp);\r\n        this.drp = drp;\r\n        this.filtertext = this?.drp?.option;\r\n        this.generateparticularreport();\r\n      });\r\n  }\r\n  overdueinvoicesreport(drp: daterangepickerdto) {\r\n    \r\n    var dt = new Date();\r\n    drp.enddate = dt;\r\n    this.overduecustomerinvoices = [];\r\n    this.overdueinvoices = this.customerinvoices.filter(\r\n      (e) =>\r\n        !e.invoicepaid &&\r\n        (drp.option == \"All\" ||\r\n          drp.startdate == undefined ||\r\n          +new Date(e.invoicedueon?.seconds * 1000) >= +drp.startdate) &&\r\n        (drp.enddate == undefined ||\r\n          +new Date(e.invoicedueon?.seconds * 1000) <= +drp.enddate)\r\n    );\r\n\r\n    this.overdueinvoices.forEach((e) => {\r\n      let overdcustomer: InvoicesDetailDto = {\r\n        installmentno: e.installmentno,\r\n        amount: e.amount,\r\n        amountpaid: e.amountpaid,\r\n        amountleft: e.amountleft,\r\n        invoicedueon: e.invoicedueon,\r\n        invoicepaid: e.invoicepaid,\r\n        invoicepaidon: e.invoicepaidon,\r\n        approvedby: e.approvedby,\r\n        approvalpicture: e.approvalpicture,\r\n        id: e.id,\r\n        planid: e.planid,\r\n        type: e.type,\r\n        createdat: e.createdat,\r\n        updateat: e.updateat,\r\n        orderno: e.orderno,\r\n        customer: this.cust.filter(\r\n          (d) =>\r\n            d.id ==\r\n            this.customersales.filter((c) => c.id == e.planid)[0].customerid\r\n        )[0].name,\r\n      };\r\n      this.overduecustomerinvoices.push(overdcustomer);\r\n    });\r\n  }\r\n  upcominginvoicesreport(drp: daterangepickerdto) {\r\n    var dt = new Date();\r\n    drp.startdate = dt;\r\n    this.upcominginvoices = this.customerinvoices.filter(\r\n      (e) =>\r\n        !e.invoicepaid &&\r\n        +new Date(e.invoicedueon?.seconds * 1000) > +drp.startdate &&\r\n        (drp.option == \"All\" ||\r\n          drp.enddate == undefined ||\r\n          +new Date(e.invoicedueon?.seconds * 1000) <= +drp.enddate)\r\n    );\r\n    this.upcominginvoices = this.upcominginvoices.sort((e, b) => {\r\n      return e.invoicedueon > b.invoicedueon ? 1 : -1;\r\n    });\r\n    this.upcomingcustomerinvoices = [];\r\n    this.upcominginvoices.forEach((e) => {\r\n      let overdcustomer: InvoicesDetailDto = {\r\n        installmentno: e.installmentno,\r\n        amount: e.amount,\r\n        amountpaid: e.amountpaid,\r\n        amountleft: e.amountleft,\r\n        invoicedueon: e.invoicedueon,\r\n        invoicepaid: e.invoicepaid,\r\n        invoicepaidon: e.invoicepaidon,\r\n        approvedby: e.approvedby,\r\n        approvalpicture: e.approvalpicture,\r\n        id: e.id,\r\n        planid: e.planid,\r\n        type: e.type,\r\n        createdat: e.createdat,\r\n        updateat: e.updateat,\r\n        orderno: e.orderno,\r\n        customer: this.cust.filter(\r\n          (d) =>\r\n            d.id ==\r\n            this.customersales.filter((c) => c.id == e.planid)[0].customerid\r\n        )[0].name,\r\n      };\r\n      this.upcomingcustomerinvoices.push(overdcustomer);\r\n    });\r\n  }\r\n  agingfilter(filter: string) {\r\n    if (filter == this.ApputilsService.Aging30) {\r\n      this.agingreport(0);\r\n    } else if (filter == this.ApputilsService.Aging60) {\r\n      this.agingreport(31);\r\n    } else if (filter == this.ApputilsService.Aging90) {\r\n      this.agingreport(61);\r\n    } else {\r\n      this.agingreport(\"All\");\r\n    }\r\n  }\r\n\r\n  customledgerreport() {\r\n    \r\n    this.bankbalancedetail = [];\r\n   \r\n\r\n    this.customertransaction = this.transactions.filter(\r\n      (e) => this.customerinvoices.filter((i) => i.id == e.invoiceid).length > 0\r\n    );\r\n    var bankamount = 0;\r\n    this.customertransaction = this.customertransaction.sort((a, b) => {\r\n      return a.transactiondate > b.transactiondate ? 1 : -1;\r\n    });\r\n    this.customerinvoices = this.customerinvoices.sort((a, b) => {\r\n      return a.createdat < b.createdat ? 1 : -1;\r\n    });\r\n    \r\n    this.customerinvoices.forEach((i) => {\r\n      \r\n      \r\n      \r\n        var debit = 0;\r\n          var credit = 0;\r\n  \r\n         \r\n          debit = i.amount;\r\n          bankamount = 0;\r\n        \r\n          \r\n          let sl = this.sales.filter(s => s.id == i.planid)[0];\r\n          \r\n          let bb: bankbalancedetaildto = {\r\n            id: this.currentCustomer.id,\r\n            apartmentname: sl.apartmentname,\r\n            customername: \"\",\r\n            invoicename: i.type+\" \"+(i.type == \"Installment\" ? i?.installmentno?.toString() ?? 0:\"\"),\r\n            bank: \"\",\r\n            iban: \"\",\r\n            paymentmethod: \"\",\r\n            transactionid: \"\",\r\n            invoiceid: i.id,\r\n            bankamount: bankamount,\r\n            status: \"\",\r\n            transactiondate: i.invoicedueon,\r\n            debit: debit,\r\n            credit: credit,\r\n          };\r\n  \r\n          this.bankbalancedetail.push(bb);\r\n      \r\n      \r\n    });\r\n\r\n    \r\n    \r\n    \r\n      this.customertransaction.forEach((e) => {\r\n        var debit = 0;\r\n        var credit = 0;\r\n\r\n        if (e.status == this.ApputilsService.TransactionSuccessfull) {\r\n          credit = e.amount;\r\n        }\r\n       \r\n     \r\n        let bb: bankbalancedetaildto = {\r\n          id: this.currentCustomer.id,\r\n          apartmentname: e.apartmentname,\r\n          customername: \"\",\r\n          invoicename: e.invoicename,\r\n          bank: e.bank,\r\n          iban: e.iban,\r\n          paymentmethod: e.paymentmethod,\r\n          transactionid: e.transactionid,\r\n          invoiceid: e.invoiceid,\r\n          bankamount: bankamount,\r\n          status: e.status,\r\n          transactiondate: e.transactiondate,\r\n          debit: debit,\r\n          credit: credit,\r\n        };\r\n\r\n        this.bankbalancedetail.push(bb);\r\n      });\r\n    \r\n      this.bankbalancedetail = this.bankbalancedetail.sort((a, b) => {\r\n        return a.transactiondate == null || b.transactiondate == null ? 1:  b.transactiondate != null && a.transactiondate != null && new Date(a.transactiondate.seconds * 1000) > new Date(b.transactiondate.seconds * 1000) ? 1 : -1;\r\n      });\r\n    if (this.drp.option != \"All\" && this.drp.enddate != undefined) {\r\n      this.bankbalancedetail = this.bankbalancedetail.filter(\r\n        (e) =>\r\n          new Date(e.transactiondate.seconds * 1000) >= this.drp.startdate &&\r\n          new Date(e.transactiondate.seconds * 1000) <= this.drp.enddate\r\n      );\r\n\r\n    }\r\n\r\n\r\n\r\n    let debit = 0;\r\n    let credit = 0;\r\n    let total = 0;\r\n    this.bankbalancedetail.forEach(e=>{\r\n      \r\n        e.bankamount = (total+e.debit) - e.credit;\r\n        debit += e.debit;\r\n        credit += e.credit;\r\n        total = e.bankamount;\r\n      \r\n    });\r\n    if(this.bankbalancedetail.length > 0)\r\n    {\r\n      this.bankbalancedetail.length > 0 ?  this.bankbalancedetail[0].customername = this.currentCustomer.name : \"\";\r\n    \r\n      let bb: bankbalancedetaildto = {\r\n        id: this.currentCustomer.id,\r\n        apartmentname:\"\",\r\n        customername: \"Total\",\r\n        invoicename: \"\",\r\n        bank: \"\",\r\n        iban: \"\",\r\n        paymentmethod: \"\",\r\n        transactionid: \"\",\r\n        invoiceid: \"\",\r\n        bankamount: total,\r\n        status: \"\",\r\n        transactiondate: \"\",\r\n        debit: debit,\r\n        credit: credit,\r\n      };\r\n      \r\n      this.bankbalancedetail.push(bb);\r\n    }\r\n  \r\n   \r\n    \r\n    //this.bankbalancedetail = this.bankbalancedetail.sort((a,b)=>{ return a > b ? 1 : -1 });\r\n  }\r\n\r\n  ledgercsv()\r\n  {\r\n      this.ALLbalancedetail.forEach(e=>{\r\n\r\n        e.transactiondate = new Date(e.transactiondate?.seconds * 1000);\r\n      });\r\n    this.downloadFile(this.ALLbalancedetail);\r\n  }\r\n  downloadFile(data: any) {\r\n    \r\n    const replacer = (key, value) => value === null ? '' : value; // specify how you want to handle null values here\r\n    const header = Object.keys(data[0]);\r\n    let csv = data.map(row => header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(','));\r\n    csv.unshift(header.join(','));\r\n    let csvArray = csv.join('\\r\\n');\r\n\r\n    var blob = new Blob([csvArray], {type: 'text/csv' })\r\n    saveAs(blob, \"myFile.csv\");\r\n}\r\n\r\n\r\n  // upcominginvoicesreport(st: Date, et: Date) {\r\n  //   var dt = new Date();\r\n  //   this.upcominginvoices = this.invoices.filter(\r\n  //     (e) =>\r\n  //       e.invoicepaid == false &&\r\n  //       new Date(e?.invoicedueon?.seconds * 1000) > st &&\r\n  //       new Date(e?.invoicedueon?.seconds * 1000) <= et\r\n  //   );\r\n  // }\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <div class=\"row match-height\">\r\n            <!-- Medal Card -->\r\n            <div class=\"col-xl-2 col-md-6 col-12\">\r\n                <div class=\"card card-congratulation-medal\">\r\n                    <div class=\"card-body\">\r\n\r\n                        <p class=\"card-heading \">{{ 'Revenue' | translate }}</p>\r\n                        <h3 class=\"mb-75 mt-2 pt-50\">\r\n                            <a href=\"javascript:void(0);\">{{this.totalAmountReceived | number}}</a>\r\n                        </h3>\r\n                        <!-- <button type=\"button\" class=\"btn btn-primary\" rippleEffect>This Month Revenue</button>\r\n                      <img src=\"assets/images/illustration/badge.svg\" class=\"congratulation-medal\" alt=\"Medal Pic\" /> -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--/ Medal Card -->\r\n\r\n            <!-- Statistics Card -->\r\n            <div class=\"col-xl-4 col-md-6 col-12\">\r\n                <div class=\"card card-statistics\">\r\n                    <div class=\"card-header\">\r\n                        <h4 class=\"card-title\">Statistics</h4>\r\n                        <div class=\"d-flex align-items-center\">\r\n                            <p class=\"card-text font-small-2 mr-25 mb-0\" (click)=\"filter()\">{{this.drp?.option}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body statistics-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-6 col-xl-6 mb-2 mb-xl-0\">\r\n                                <div class=\"media\" (click)=\"viewinvoicedetail(0)\">\r\n                                    <div class=\"avatar bg-light-primary mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"trending-up\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totalupcominginvoices}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">UpComing Invoices</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-xl-6 mb-2 mb-xl-0\">\r\n                                <div class=\"media\" (click)=\"viewinvoicedetail(1)\">\r\n                                    <div class=\"avatar bg-light-danger mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"alert-circle\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totaldueinvoices}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Due Invoices</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--/ Statistics Card -->\r\n\r\n            <!-- Statistics Card -->\r\n            <div class=\"col-xl-6 col-md-6 col-12\">\r\n                <div class=\"card card-statistics\">\r\n                    <div class=\"card-header\">\r\n                        <h4 class=\"card-title\">Apartments</h4>\r\n\r\n                    </div>\r\n                    <div class=\"card-body statistics-body\">\r\n                        <div class=\"row\">\r\n\r\n                            <div class=\"col-sm-6 col-xl-4 mb-2 mb-sm-0\">\r\n                                <div class=\"media\" (click)=\"viewapartment(this.soldapartments)\">\r\n                                    <div class=\"avatar bg-light-danger mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"home\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totalsoldapartments}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Total Apartments Sold</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-xl-4 mb-2 mb-sm-0\">\r\n                                <div class=\"media\" (click)=\"viewapartment(this.unsoldapartments)\">\r\n                                    <div class=\"avatar bg-light-success mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"home\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totalavailableapartments}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Total Apartments Available</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-sm-6 col-xl-4 mb-2 mb-sm-0\">\r\n                                <div class=\"media\" (click)=\"viewapartment(this.ownerapartments)\">\r\n                                    <div class=\"avatar bg-light-primary mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"home\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totalownerapartments}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Owner Apartments </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--/ Statistics Card -->\r\n        </div>\r\n        <div class=\"row match-height\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            Recent Activity\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        Apartment Name\r\n                                    </th>\r\n                                    <th>\r\n                                        Customer Name\r\n                                    </th>\r\n                                    <th>\r\n                                        Amount RS\r\n                                    </th>\r\n                                    <th>\r\n                                        Transaction Date\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let tr of transactions\">\r\n                                    <td>\r\n                                        {{tr?.apartmentname}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{tr?.customername}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{tr?.amount | number}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{tr.transactiondate?.seconds * 1000 | date}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            Apartment Types\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        Type\r\n                                    </th>\r\n                                    <th>\r\n                                        Sold\r\n                                    </th>\r\n                                    <th>\r\n                                        Available\r\n                                    </th>\r\n                                    <th>\r\n                                        Action\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n\r\n                            <tbody>\r\n                                <tr *ngFor=\"let apt of apartmenttypes\">\r\n                                    <td>\r\n                                        {{apt.type}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{apt.soldcount}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{apt.availablecount}}\r\n                                    </td>\r\n                                    <td>\r\n                                        <span style=\"color:blue;\">\r\n                                          {{view}}\r\n                                      </span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            Apartment Bedding Types\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        Type\r\n                                    </th>\r\n                                    <th>\r\n                                        Sold\r\n                                    </th>\r\n                                    <th>\r\n                                        Available\r\n                                    </th>\r\n                                    <th>\r\n                                        Action\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n\r\n                            <tbody>\r\n                                <tr *ngFor=\"let apt of typewiseapartments\">\r\n                                    <td>\r\n                                        {{apt.type}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{apt.soldcount}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{apt.availablecount}}\r\n                                    </td>\r\n                                    <td>\r\n                                        <span style=\"color:blue;\">\r\n                                          {{view}}\r\n                                      </span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            Apartment Floor Wise Stats\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        Type\r\n                                    </th>\r\n                                    <th>\r\n                                        Sold\r\n                                    </th>\r\n                                    <th>\r\n                                        Available\r\n                                    </th>\r\n                                    <th>\r\n                                        Action\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n\r\n                            <tbody>\r\n                                <tr *ngFor=\"let apt of floorwiseapartments\">\r\n                                    <td>\r\n                                        {{apt.type}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{apt.soldcount}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{apt.availablecount}}\r\n                                    </td>\r\n                                    <td>\r\n                                        <span style=\"color:blue;\">\r\n                                          {{view}}\r\n                                      </span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ApputilsService } from 'app/auth/helpers/apputils.service';\r\nimport { Apartmentdto, groupApartments } from 'app/auth/models/apartmentdto';\r\nimport { daterangepickerdto } from 'app/auth/models/daterangepickerdto';\r\nimport { Transaction, PlanScheduleDto } from 'app/auth/models/plandto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { FilteroptionselectComponent } from 'app/main/filteroptionselect/filteroptionselect.component';\r\nimport { ViewinventorymodalComponent } from 'app/main/InventoryManagement/viewinventorymodal/viewinventorymodal.component';\r\nimport { InvoicereportComponent } from '../invoicereport/invoicereport.component';\r\n\r\n@Component({\r\n  selector: 'app-inventoryreport',\r\n  templateUrl: './inventoryreport.component.html',\r\n  styleUrls: ['./inventoryreport.component.scss']\r\n})\r\nexport class InventoryreportComponent implements OnInit {\r\n\r\n  totaldueinvoices:number = 0;\r\n  totalupcominginvoices:number = 0;\r\n  totalsoldapartments:number = 0;\r\n  totalavailableapartments:number = 0;\r\n  totalownerapartments:number=0;\r\n  apartments:Apartmentdto[] =[];\r\n  soldapartments:Apartmentdto[]=[];\r\n  ownerapartments:Apartmentdto[]=[];\r\n  unsoldapartments:Apartmentdto[]=[];\r\n  transactions:Transaction[]=[];\r\n  dueinvoices:PlanScheduleDto[]=[];\r\n  upcominginvoices:PlanScheduleDto[]=[];\r\n  totalAmountReceived=0;\r\n  drp:daterangepickerdto;\r\n  \r\n  floorwiseapartments:groupApartments[]=[];\r\n  typewiseapartments:groupApartments[]=[];\r\n  apartmenttypes:groupApartments[]=[];\r\n\r\n  constructor(    public modalservice: NgbModal,public fs:firebaseStoreService,public appUtil:ApputilsService) {}\r\n\r\n  public contentHeader: object\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  async ngOnInit() {\r\n    this.totalAmountReceived = 0;\r\n    this.contentHeader = {\r\n      headerTitle: 'Home',\r\n      actionButton: true,\r\n      breadcrumb: {\r\n        type: '',\r\n        links: [\r\n          {\r\n            name: 'Home',\r\n            isLink: true,\r\n            link: '/'\r\n          },\r\n          {\r\n            name: 'Sample',\r\n            isLink: false\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\n    this.drp = this.appUtil.getMonthRange();\r\n    this.fs.getapartments(false).valueChanges().subscribe(e=>{\r\n      this.apartments = e as Apartmentdto[];\r\n      this.totalavailableapartments = this.apartments.filter(e=>e.status==this.appUtil.OpenStatus).length;\r\n      this.unsoldapartments = this.apartments.filter(e=>e.status==this.appUtil.OpenStatus);\r\n      this.soldapartments = this.apartments.filter(e=>e.status == this.appUtil.HoldStatus)\r\n      this.generateApartmentDistributions(this.apartments);\r\n    });\r\n    this.fs.getapartments(true).valueChanges().subscribe(e=>{\r\n      this.totalownerapartments = e.length;\r\n      this.ownerapartments = e as Apartmentdto[];\r\n    });\r\n    this.generatestats(this.drp);\r\n    \r\n  }\r\n\r\n  async generateApartmentDistributions(ap:Apartmentdto[])\r\n  {\r\n    debugger;\r\n    this.floorwiseapartments = [];\r\n    var result = this.appUtil.groupBy(ap, (Apartmentdto)=>Apartmentdto.floorno);\r\n    console.log(result);\r\n    result.forEach(e=>{\r\n      var soldapartments = e.filter(e=>e.status==this.appUtil.BookedStatus);\r\n      var openapartments = e.filter(e=>e.status == this.appUtil.OpenStatus);\r\n      let flw:groupApartments={\r\n        type: e[0].floorno,\r\n        availablecount: openapartments.length,\r\n        soldcount:soldapartments.length,\r\n        soldaparments:soldapartments,\r\n        availableapartments:openapartments\r\n      };\r\n      this.floorwiseapartments.push(flw)\r\n    });\r\n\r\n\r\n    this.apartmenttypes = [];\r\n\r\n\r\n    result = this.appUtil.groupBy(ap, (Apartmentdto)=>Apartmentdto.type);\r\n    console.log(result);\r\n    result.forEach(e=>{\r\n      var soldapartments = e.filter(e=>e.status==this.appUtil.BookedStatus);\r\n      var openapartments = e.filter(e=>e.status == this.appUtil.OpenStatus);\r\n      let flw:groupApartments={\r\n        type: e[0].type,\r\n        availablecount: openapartments.length,\r\n        soldcount:soldapartments.length,\r\n        soldaparments:soldapartments,\r\n        availableapartments:openapartments\r\n      };\r\n      this.apartmenttypes.push(flw)\r\n    });\r\n    this.apartmenttypes.sort((a,b)=> Number.parseInt(a.type) > Number.parseInt(b.type) ? 1:-1)\r\n \r\n    this.typewiseapartments = [];\r\n\r\n    result = this.appUtil.groupBy(ap, (Apartmentdto)=>Apartmentdto.apartmenttype);\r\n    console.log(result);\r\n    result.forEach(e=>{\r\n      var soldapartments = e.filter(e=>e.status==this.appUtil.BookedStatus);\r\n      var openapartments = e.filter(e=>e.status == this.appUtil.OpenStatus);\r\n      let flw:groupApartments={\r\n        type: e[0].apartmenttype,\r\n        availablecount: openapartments.length,\r\n        soldcount:soldapartments.length,\r\n        soldaparments:soldapartments,\r\n        availableapartments:openapartments\r\n      };\r\n      this.typewiseapartments.push(flw)\r\n    });\r\n    \r\n  }\r\n  groupBy(list, keyGetter) {\r\n    const map = new Map();\r\n    list.forEach((item) => {\r\n         const key = keyGetter(item);\r\n         const collection = map.get(key);\r\n         if (!collection) {\r\n             map.set(key, [item]);\r\n         } else {\r\n             collection.push(item);\r\n         }\r\n    });\r\n    return map;\r\n}\r\nasync generatestats(drp:daterangepickerdto)\r\n{\r\n  \r\n   var resp = await this.fs.GetUpComingInvoices(new Date(),drp.enddate);\r\n   console.log(resp); \r\n   this.upcominginvoices = resp;\r\n   this.totalupcominginvoices = resp.length;\r\n\r\n\r\n   var dueinvoices = await this.fs.GetDueInvoices(new Date());\r\n   this.dueinvoices = dueinvoices;\r\n   this.totaldueinvoices = dueinvoices.length;\r\n   console.log(dueinvoices);\r\n  //  var customerinvoice = await this.fs.GetCustomerUpComingInvoices(\"fqHbVfHDgvQz0GmNfJGD\",new Date(),newdate);\r\n  //  console.log(customerinvoice);\r\n\r\n \r\n  (await this.fs.getTotalAmountReceivedThisMonth(drp.startdate,drp.enddate)).valueChanges().subscribe(e=>{\r\n    this.transactions = e;\r\n    this.generateStatsByTransactions();\r\n  });\r\n  //  this.totalsoldapartments = await this.fs.getTotalSoldApartment(); \r\n  this.totalsoldapartments = 10;\r\n\r\n}\r\n  generateStatsByTransactions()\r\n  {\r\n    this.totalAmountReceived =0;\r\n    this.transactions.forEach(e=>{\r\n      this.totalAmountReceived += e.amount;\r\n    });\r\n  }\r\n\r\n  viewinvoicedetail(id:number)\r\n  {\r\n    if(id == 0)\r\n    {\r\n      var modal = this.modalservice.open(InvoicereportComponent,{\r\n        centered: true,\r\n        size: 'xl',\r\n        backdrop:false\r\n      });\r\n      modal.componentInstance.invoices = this.upcominginvoices;\r\n    }\r\n    else{\r\n      var modal = this.modalservice.open(InvoicereportComponent,{\r\n        centered: true,\r\n        size: 'xl',\r\n        backdrop:false\r\n      });\r\n      modal.componentInstance.invoices = this.dueinvoices;\r\n    }\r\n    \r\n  }\r\n  filter()\r\n  {\r\n    \r\n    this.modalservice.open(FilteroptionselectComponent).closed.subscribe(e=>{\r\n      var drp = e as daterangepickerdto;\r\n      console.log(drp);\r\n      this.drp = drp;\r\n      this.generatestats(this.drp);\r\n    });\r\n  }\r\n  viewapartment(apt:Apartmentdto[])\r\n  {\r\n    var modal =  this.modalservice.open(ViewinventorymodalComponent,{\r\n      centered: true,\r\n        size: 'xl',\r\n        backdrop:false,\r\n        \r\n    });\r\n    modal.componentInstance.ap = apt;\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"myModalLabel1\">Invoices </h4>\r\n    <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n<span aria-hidden=\"true\">&times;</span>\r\n</button>\r\n</div>\r\n<div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n\r\n    <button type=\"button\" class=\"float-right mb-2 btn btn-primary\" (click)=\"generatePdf()\" aria-label=\"Close\">\r\n        Save PDF\r\n         </button>\r\n    <table class=\"table  table-bordered pdftable\">\r\n        <thead>\r\n            <tr>\r\n                <th>\r\n                    #\r\n                </th>\r\n                <th>\r\n                    Customer Name\r\n                </th>\r\n                <th>\r\n                    Amount RS\r\n                </th>\r\n                <th> Apartment Name</th>\r\n                <th>\r\n                    Due On\r\n                </th>\r\n\r\n            </tr>\r\n\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let inst of invoices;let i = index \" (click)=\"dismissdialog()\" routerLink=\"/sales/{{this.inst.saleid}}/invoice/{{ inst.id }}\">\r\n                <td> {{i+1}} </td>\r\n                <td> {{inst.customer}} </td>\r\n                <td> {{inst.amount | number}} </td>\r\n                <td> {{inst.apartmentname}} </td>\r\n                <td> {{inst.dueon.seconds * 1000 | date:'dd/MM/yyyy' }} </td>\r\n                <td>\r\n\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n</div>","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\r\nimport { NgbActiveModal, NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { RouterHelper } from \"app/auth/helpers/router-helper\";\r\nimport { NotificationService } from \"app/auth/service/notification.service\";\r\nimport { firebaseStoreService } from \"../../../auth/service/firebasestoreservice\";\r\nimport { ApputilsService } from \"../../../auth/helpers/apputils.service\";\r\nimport { PlanScheduleDto } from \"../../../auth/models/plandto\";\r\nimport { InvoiceReportDto } from \"../reportgenerator\";\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\n\r\n@Component({\r\n  selector: \"app-invoicereport\",\r\n  templateUrl: \"./invoicereport.component.html\",\r\n  styleUrls: [\"./invoicereport.component.scss\"],\r\n})\r\nexport class InvoicereportComponent implements OnInit {\r\n  invoices: InvoiceReportDto[] = [];\r\n  invoicetitle:string;\r\n  constructor(\r\n    public modal: NgbActiveModal,\r\n\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService\r\n  ) {}\r\n\r\n  async ngOnInit() {}\r\n\r\n  dismissdialog() {\r\n    this.modal.close();\r\n  }\r\n  generatePdf() {\r\n    var head = [[\"ID\", \"Country\", \"Rank\", \"Capital\"]];\r\n    var body = [\r\n      [1, \"Denmark\", 7.526, \"Copenhagen\"],\r\n      [2, \"Switzerland\", 7.509, \"Bern\"],\r\n      [3, \"Iceland\", 7.501, \"Reykjavík\"],\r\n      [4, \"Norway\", 7.498, \"Oslo\"],\r\n      [5, \"Finland\", 7.413, \"Helsinki\"],\r\n    ];\r\n\r\n    const doc = new jsPDF({\r\n      orientation: \"p\",\r\n      unit: \"mm\",\r\n      format: \"a4\",\r\n      putOnlyUsedFonts: true,\r\n    });\r\n\r\n    doc.setFontSize(5);\r\n    doc.text(new Date().toDateString(), 5, 5);\r\n    doc.setFontSize(14);\r\n    doc.text(\"NIAZ ARBAZ PVT LTD\", 30, 15);\r\n    doc.setFontSize(10);\r\n\r\n    doc.text(this.invoicetitle, 30, 20);\r\n\r\n    var img = new Image();\r\n    img.src = \"/assets/images/Bedroonm.jpg\";\r\n    doc.addImage(img, \"jpg\", 10, 10, 12, 15);\r\n\r\n    autoTable(doc, {\r\n      html: \".pdftable\",\r\n      startY: 30,\r\n    }),\r\n      doc.save(this.invoicetitle + \".pdf\");\r\n  }\r\n}\r\n","import { PlanScheduleDto, SalesDto } from '../../auth/models/plandto';\r\nimport { Apartmentdto } from '../../auth/models/apartmentdto';\r\n\r\nexport class InvoiceReportDto{\r\n    customer:string;\r\n    amount:number;\r\n    dueon:any;\r\n    apartmentname:string;\r\n    type:string;\r\n    link:string;\r\n    id:string;\r\n    saleid:string;\r\n}\r\n\r\nexport class ApartmentSoldReportDto{\r\n    customer:string;\r\n    rate:number;\r\n    apartmentname:string;\r\n    type:string;\r\n    id:string;\r\n    saleid:string;\r\n    beddingtype:string;\r\n}\r\nexport class ReportGenerator{\r\n\r\n\r\n\r\n    getReportFromInvoices(invoices:PlanScheduleDto[],  sales:SalesDto[])\r\n    {\r\n        let ird:InvoiceReportDto[]=[];\r\n        invoices.forEach(e=>{\r\n           let sale =  sales.filter(f => f.id == e.planid)[0];\r\n           let irddto = new InvoiceReportDto();\r\n           irddto.amount = e.amountleft;\r\n           irddto.customer = sale.customername;\r\n           irddto.apartmentname = sale.apartmentname;\r\n           irddto.type = sale.apartmenttype;\r\n           irddto.id = e.id;\r\n           irddto.dueon = e.invoicedueon;\r\n           irddto.saleid = sale.id;\r\n        \r\n            ird.push(irddto);\r\n        });\r\n        return ird;\r\n    }\r\n    getReportFromApartments(Apartments:Apartmentdto[], Sales:SalesDto[])\r\n    {\r\n        debugger;\r\n        let aparinfo:ApartmentSoldReportDto[]=[];\r\n        Apartments.forEach(a=>{\r\n\r\n          let sal =  Sales.filter(s=>s.status == \"InProgress\" && s.apartmentid == a.docid)[0]\r\n          \r\n          let aparinfodto = new ApartmentSoldReportDto();\r\n          aparinfodto.apartmentname = sal.apartmentname;\r\n          aparinfodto.customer = sal.customername;\r\n          aparinfodto.id = sal.id;\r\n          aparinfodto.type = sal.apartmenttype;\r\n          aparinfodto.beddingtype = sal.type\r\n          aparinfo.push(aparinfodto);\r\n          \r\n\r\n\r\n        });\r\n        return aparinfo;\r\n    }\r\n}","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">Choose Dates</span>\r\n                        <span class=\"float-right\">\r\n                        \r\n                       \r\n          <!-- <i data-feather=\"filter\" class=\"text-primary cursor-pointer mr-50\"></i> -->\r\n        </span>\r\n\r\n                        <select class=\"form-control\" (change)=\"rangeselect($event.target.value)\">\r\n          <option *ngFor=\"let opt of this.ApputilsService.ReportingTime\" value=\"{{this.opt}}\">\r\n            {{this.opt}}\r\n          </option>\r\n         </select>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"col-12\" *ngIf=\"showdaterange\">\r\n                        <label>\r\n                      Choose Date Range\r\n                    </label>\r\n                        <ng2-flatpickr [config]=\"DateRangeOptions\" name=\"DateRange\" (onchange)=\"oncustomdateselect($event.target.value)\"></ng2-flatpickr>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\"></div>\r\n\r\n                    <!-- ngx-datatables responsive -->\r\n                    <ngx-datatable *ngIf=\"show\" #table class=\"bootstrap core-bootstrap\" [columnMode]=\"ColumnMode.force\" [headerHeight]=\"30\" [rowHeight]=\"30\" [footerHeight]=\"30\" rowHeight=\"auto\" [rows]=\"tbrlist\" [scrollbarH]=\"true\">\r\n                        <ngx-datatable-column name=\"Name\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.customername }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Debit\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.debit | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Credit\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.credit | number }}\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </ngx-datatable>\r\n                </div>\r\n                <!--/ ngx-datatables responsive -->\r\n            </core-card-snippet>\r\n        </section>\r\n        <!--/ Responsive Datatable -->\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ColumnMode } from '@swimlane/ngx-datatable';\r\nimport { daterangepickerdto } from 'app/auth/models/daterangepickerdto';\r\nimport { metadata } from 'app/auth/models/metadata';\r\nimport { bankbalancedetaildto, customersalesDto, PlanScheduleDto, SalesDto, Transaction } from 'app/auth/models/plandto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { FlatpickrOptions } from 'ng2-flatpickr';\r\nimport { ApputilsService } from '../../../auth/helpers/apputils.service';\r\nimport { CustomerDto } from '../../../auth/models/customerinfo';\r\nimport { TrialBalanceReportDto } from '../../../auth/models/plandto';\r\n\r\n@Component({\r\n  selector: 'app-trialbalancereport',\r\n  templateUrl: './trialbalancereport.component.html',\r\n  styleUrls: ['./trialbalancereport.component.scss']\r\n})\r\nexport class TrialbalancereportComponent implements OnInit {\r\n\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  show = false;\r\n  cust:CustomerDto[]=[];\r\n  sales: SalesDto[] = [];\r\n  tbrlist:TrialBalanceReportDto[]=[];\r\n  invoices: PlanScheduleDto[] = [];\r\n\r\n\r\n  metadata:metadata;\r\n\r\n  \r\n  public DateRangeOptions: FlatpickrOptions = {\r\n    altInput: true,\r\n    mode: 'range',\r\n    onChange:(selectedates:any)=>{\r\n      console.log(selectedates);\r\n      if(selectedates.length > 1)\r\n      {\r\n        var drp = new daterangepickerdto();\r\n        drp.startdate = selectedates[0];\r\n        drp.enddate = selectedates[1];\r\n        this.filterreport(drp);\r\n      }\r\n    }\r\n  }\r\n  showdaterange = false;\r\n  constructor(\r\n    public fs: firebaseStoreService,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService\r\n  ) {}\r\n\r\n  bankbalancedetail: bankbalancedetaildto[] = [];\r\n  tempbankbalancedetail: bankbalancedetaildto[] = [];\r\n  transactions: Transaction[] = [];\r\n  async ngOnInit() {\r\n    this.fs.getmetadata().valueChanges().subscribe(e=>{\r\n\r\n      this.metadata = e;\r\n      this.filterbanks(this.metadata.banks[0].Iban);\r\n    });\r\n    this.fs\r\n      .getSales()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.sales = e;\r\n      });\r\n      (await this.fs.getalltransactions().get().toPromise()).docs.forEach(e=>{\r\n        this.transactions.push(e.data());\r\n        \r\n      });\r\n    this.fs\r\n      .getallinvoices()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.invoices = e;\r\n      });\r\n    (await this.fs.getCustomer().get().toPromise()).forEach(e=>{\r\n      this.cust.push(e.data());\r\n      this.rangeselect(\"All\");\r\n    });\r\n   \r\n    \r\n  }\r\n  oncustomdateselect(val:any)\r\n  {\r\n    debugger;\r\n  }\r\n  getCustomerSales(id:string) {\r\n    \r\n    debugger;\r\n    let customersales = this.sales.filter(\r\n      (e) => e.customerid == id\r\n    );\r\n    let customerinvoices = this.invoices.filter(\r\n      (e) => customersales.filter((r) => r.id == e.planid).length > 0\r\n    );\r\n  \r\n    let cst:customersalesDto={\r\n      sales: customersales,\r\n      invoices: customerinvoices\r\n    };\r\n    return cst;\r\n  \r\n}\r\n  async filterbanks(iban:string)\r\n  {\r\n    var bankamount = 0;\r\n    let bb: bankbalancedetaildto = {\r\n      debit: 0,\r\n      id: \"\",\r\n      apartmentname: \"\",\r\n      customername: \"\",\r\n      invoicename: \"\",\r\n      bank: \"\",\r\n      iban: \"\",\r\n      paymentmethod: \"\",\r\n      transactionid: \"\",\r\n      invoiceid: \"\",\r\n      bankamount: bankamount,\r\n      status: \"\",\r\n      transactiondate: new Date(),\r\n      credit: 0\r\n    };\r\n    this.bankbalancedetail.push(bb);\r\n    (await this.fs.gettransactionsbybank(iban)).docs.forEach((e) => {\r\n      console.log(e.data());\r\n      var debit = 0;\r\n      var credit = 0;\r\n      if(e.data().status == this.ApputilsService.TransactionSuccessfull)\r\n      {\r\n        bankamount += e.data().amount;\r\n        debit = e.data().amount;\r\n       \r\n      }\r\n      else{\r\n        credit = e.data().amount;\r\n      }      \r\n\r\n      this.transactions.push(e.data());\r\n      let bb: bankbalancedetaildto = {\r\n        id: e.data().id,\r\n        apartmentname: e.data().apartmentname,\r\n        customername: e.data().customername,\r\n        invoicename: e.data().invoicename,\r\n        bank: e.data().bank,\r\n        iban: e.data().iban,\r\n        paymentmethod: e.data().paymentmethod,\r\n        transactionid: e.data().transactionid,\r\n        invoiceid: e.data().invoiceid,\r\n        bankamount: bankamount,\r\n        status: e.data().status,\r\n        transactiondate: e.data().transactiondate,\r\n        debit: debit,\r\n        credit: credit\r\n      };\r\n      \r\n      this.bankbalancedetail.push(bb);\r\n    });\r\n    \r\n    \r\n  }\r\n  rangeselect(range: string) {\r\n    debugger;\r\n    this.showdaterange = false;\r\n    this.tempbankbalancedetail = [];\r\n    if (range == this.ApputilsService.ReportThisMonth) {\r\n      var drp = this.ApputilsService.getMonthRange();\r\n      this.filterreport(drp);\r\n    } else if (range == this.ApputilsService.ReportThisYear) {\r\n      var drp = this.ApputilsService.getYearRange();\r\n      this.filterreport(drp);\r\n    } else if (range == this.ApputilsService.ReportCustom) {\r\n      this.showdaterange = true;\r\n    } else {\r\n      this.tbrlist = [];\r\n    this.cust.forEach(e=>{\r\n\r\n      var cs = this.getCustomerSales(e.id);\r\n\r\n      let tbr:TrialBalanceReportDto={\r\n\r\n        customername:e.name,\r\n        bank:\"\",\r\n        debit:cs.invoices.reduce((sum, current) => sum + current.amountpaid, 0),\r\n        credit:cs.invoices.reduce((sum, current) => sum + current.amountleft, 0),\r\n      };\r\n      this.tbrlist.push(tbr);\r\n\r\n    });\r\n\r\n    \r\n    this.metadata.banks.forEach(b=>{\r\n\r\n      var debit = 0;\r\n      var credit = 0;\r\n      this.transactions.filter(e=>e.status == this.ApputilsService.TransactionSuccessfull && e.iban == b.Iban).forEach(e=>{\r\n\r\n          debit += e.amount;\r\n\r\n      });\r\n\r\n      let tbr:TrialBalanceReportDto={\r\n\r\n        customername:b.Name+\"( \"+b.Iban+\" )\",\r\n        bank:b.Name,\r\n        debit:debit,\r\n        credit:0,\r\n      };\r\n      this.tbrlist.push(tbr);\r\n\r\n\r\n    });\r\n     \r\n    \r\n    this.show = true;\r\n    }\r\n  }\r\n  filterreport(drp: daterangepickerdto) {\r\n   \r\n    this.show = false;\r\n    debugger;\r\n    this.tbrlist = [];\r\n    this.cust.forEach(e=>{\r\n\r\n      var cs = this.getCustomerSales(e.id);\r\n\r\n      let tbr:TrialBalanceReportDto={\r\n\r\n        customername:e.name,\r\n        bank:\"\",\r\n        debit:cs.invoices.filter(e=> new Date(e.invoicedueon?.seconds * 1000) >= drp.startdate && new Date(e.invoicedueon?.seconds * 1000) <= drp.enddate).reduce((sum, current) => sum + current.amountpaid, 0),\r\n        credit:cs.invoices.filter(e=> new Date(e.invoicedueon?.seconds * 1000) >= drp.startdate && new Date(e.invoicedueon?.seconds * 1000) <= drp.enddate).reduce((sum, current) => sum + current.amountleft, 0),\r\n      };\r\n      this.tbrlist.push(tbr);\r\n\r\n    });\r\n\r\n    this.metadata.banks.forEach(b=>{\r\n\r\n      var debit = 0;\r\n      var credit = 0;\r\n      this.transactions.filter(e=> new Date(e.transactiondate.seconds * 1000) >= drp.startdate && new Date(e.transactiondate.seconds * 1000) <= drp.enddate && e.status == this.ApputilsService.TransactionSuccessfull && e.iban == b.Iban).forEach(e=>{\r\n\r\n          debit += e.amount;\r\n\r\n      });\r\n\r\n      let tbr:TrialBalanceReportDto={\r\n\r\n        customername:b.Name+\"( \"+b.Iban+\" )\",\r\n        bank:b.Name,\r\n        debit:debit,\r\n        credit:0,\r\n      };\r\n      this.tbrlist.push(tbr);\r\n\r\n\r\n    });\r\n     \r\n\r\n\r\n    console.log(this.tbrlist);\r\n      this.show = true;\r\n   \r\n  }\r\n\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <div class=\"row match-height\">\r\n            <!-- Medal Card -->\r\n            <div class=\"col-xl-2 col-md-6 col-12\">\r\n                <div class=\"card card-congratulation-medal\">\r\n                    <div class=\"card-body\">\r\n\r\n                        <p class=\"card-heading \">{{ 'Revenue' | translate }}</p>\r\n                        <h3 class=\"mb-75 mt-2 pt-50\">\r\n                            <a href=\"javascript:void(0);\">{{this.totalAmountReceived | number}}</a>\r\n                        </h3>\r\n                        <!-- <button type=\"button\" class=\"btn btn-primary\" rippleEffect>This Month Revenue</button>\r\n                        <img src=\"assets/images/illustration/badge.svg\" class=\"congratulation-medal\" alt=\"Medal Pic\" /> -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--/ Medal Card -->\r\n\r\n            <!-- Statistics Card -->\r\n            <div class=\"col-xl-4 col-md-6 col-12\">\r\n                <div class=\"card card-statistics\">\r\n                    <div class=\"card-header\">\r\n                        <h4 class=\"card-title\">Statistics</h4>\r\n                        <div class=\"d-flex align-items-center\">\r\n                            <p class=\"card-text font-small-2 mr-25 mb-0\" (click)=\"filter()\">{{this.drp?.option}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body statistics-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-6 col-xl-4 mb-2 \">\r\n                                <div class=\"media\" (click)=\"viewinvoicedetail(0)\">\r\n                                    <div class=\"avatar bg-light-primary mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"trending-up\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totalupcominginvoices}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">UpComing Invoices</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-xl-4 mb-2 \">\r\n                                <div class=\"media\" (click)=\"viewinvoicedetail(2)\">\r\n                                    <div class=\"avatar bg-light-danger mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"alert-circle\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totaldueinvoices}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Due Invoices</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-xl-4 \">\r\n                                <div class=\"media\" (click)=\"viewinvoicedetail(1)\">\r\n                                    <div class=\"avatar bg-light-danger mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"alert-circle\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totaloverdueinvoices}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Over Due Invoices</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--/ Statistics Card -->\r\n\r\n            <!-- Statistics Card -->\r\n            <div class=\"col-xl-6 col-md-6 col-12\">\r\n                <div class=\"card card-statistics\">\r\n                    <div class=\"card-header\">\r\n                        <h4 class=\"card-title\">Apartments</h4>\r\n\r\n                    </div>\r\n                    <div class=\"card-body statistics-body\">\r\n                        <div class=\"row\">\r\n\r\n                            <div class=\"col-sm-6 col-xl-4 mb-2 mb-sm-0\">\r\n                                <div class=\"media\" (click)=\"soldapartmentsreport(this.soldapartments,'Sold Apartments')\">\r\n                                    <div class=\"avatar bg-light-danger mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"home\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totalsoldapartments}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Total Apartments Sold</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-xl-4 mb-2 mb-sm-0\">\r\n                                <div class=\"media\" (click)=\"viewapartment(this.unsoldapartments)\">\r\n                                    <div class=\"avatar bg-light-success mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"home\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totalavailableapartments}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Total Apartments Available</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-sm-6 col-xl-4 mb-2 mb-sm-0\">\r\n                                <div class=\"media\" (click)=\"viewapartment(this.ownerapartments)\">\r\n                                    <div class=\"avatar bg-light-primary mr-2\">\r\n                                        <div class=\"avatar-content\">\r\n                                            <i data-feather=\"home\" class=\"avatar-icon\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"media-body my-auto\">\r\n                                        <h4 class=\"font-weight-bolder mb-0\">{{this.totalownerapartments}}</h4>\r\n                                        <p class=\"card-text font-small-3 mb-0\">Owner Apartments </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--/ Statistics Card -->\r\n\r\n\r\n        </div>\r\n        <div class=\"row match-height\">\r\n            <!-- Medal Card -->\r\n            <div class=\"col-xl-2 col-md-6 col-12\" *ngFor=\"let apt of typewiseapartments\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\" style=\"padding:1rem\">\r\n                        <div class=\"card-title\" style=\"font-size:0.9rem;\">\r\n                            {{ apt.type }}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n\r\n\r\n\r\n                        <table class=\"table table-bordered table-responsive\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <td>\r\n                                        Sold\r\n                                    </td>\r\n                                    <td>\r\n                                        Available\r\n                                    </td>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td (click)=\"soldapartmentsreport(apt.soldaparments,apt.type)\">\r\n                                        {{apt.soldcount}}\r\n                                    </td>\r\n                                    <td (click)=\"viewapartment(apt.availableapartments)\">\r\n                                        {{apt.availablecount}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--/ Medal Card -->\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            Apartment Floor Wise Status\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n\r\n                        <button type=\"button\" class=\"float-right mb-2 btn btn-primary\" (click)=\"generatePdf()\" aria-label=\"Close\">\r\n                            Save PDF\r\n                             </button>\r\n\r\n                        <a csvLink [data]=\"exportCSVData\" class=\"btn btn-outline-secondary float-right mr-1\" rippleEffect>Export CSV</a\r\n                                >\r\n\r\n\r\n                        <table class=\"table table-bordered ppdftable\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\" sortable=\"type\" (sort)=\"onSort($event)\">\r\n                                        Floor No\r\n                                    </th>\r\n                                    <th scope=\"col\" sortable=\"soldcount\" (sort)=\"onSort($event)\">\r\n                                        Sold\r\n                                    </th>\r\n                                    <th scope=\"col\" sortable=\"availablecount\" (sort)=\"onSort($event)\">\r\n                                        Available\r\n                                    </th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n\r\n\r\n                            <tbody>\r\n                                <tr *ngFor=\"let apt of floorwiseapartments\">\r\n                                    <td>\r\n                                        {{apt.type}}\r\n                                    </td>\r\n                                    <td (click)=\"soldapartmentsreport(apt.soldaparments,apt.type)\">\r\n                                        {{apt.soldcount}}\r\n                                    </td>\r\n                                    <td (click)=\"viewapartment(apt.availableapartments)\">\r\n                                        {{apt.availablecount}}\r\n                                    </td>\r\n\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n        <div class=\"row match-height\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            Recent Activity\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        Apartment Name\r\n                                    </th>\r\n                                    <th>\r\n                                        Customer\r\n                                    </th>\r\n                                    <th>\r\n                                        Amount\r\n                                    </th>\r\n                                    <th>\r\n                                        Transaction Date\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let tr of transactions\">\r\n                                    <td>\r\n                                        {{tr?.apartmentname}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{tr?.customername}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{tr?.amount | number}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{tr.transactiondate?.seconds * 1000 | date}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <!-- <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"card-title\">\r\n                            Apartment Types\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <table class=\"table table-bordered\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        Type\r\n                                    </th>\r\n                                    <th>\r\n                                        Sold\r\n                                    </th>\r\n                                    <th>\r\n                                        Available\r\n                                    </th>\r\n                                    <th>\r\n                                        Action\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n\r\n                            <tbody>\r\n                                <tr *ngFor=\"let apt of apartmenttypes\">\r\n                                    <td>\r\n                                        {{apt.type}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{apt.soldcount}}\r\n                                    </td>\r\n                                    <td>\r\n                                        {{apt.availablecount}}\r\n                                    </td>\r\n                                    <td>\r\n                                        <span style=\"color:blue;\">\r\n                                            {{view}}\r\n                                        </span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div> -->\r\n    </div>\r\n</div>","import { Component, OnInit, QueryList, ViewChild, ViewChildren } from \"@angular/core\";\r\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { firebaseStoreService } from \"app/auth/service/firebasestoreservice\";\r\nimport { ApputilsService } from \"../../auth/helpers/apputils.service\";\r\nimport { Transaction, PlanScheduleDto, SalesDto } from '../../auth/models/plandto';\r\nimport { FilteroptionselectComponent } from \"../filteroptionselect/filteroptionselect.component\";\r\nimport { daterangepickerdto } from \"../../auth/models/daterangepickerdto\";\r\nimport { InvoicereportComponent } from \"../reports/invoicereport/invoicereport.component\";\r\nimport { Apartmentdto, groupApartments } from '../../auth/models/apartmentdto';\r\nimport { compare, NgbdSortableHeader, SortEvent, ViewinventorymodalComponent } from \"../InventoryManagement/viewinventorymodal/viewinventorymodal.component\";\r\nimport { apartmenttypes } from \"../../auth/models/apartmenttypesdto\";\r\nimport { abort } from \"process\";\r\nimport { toInteger } from \"@ng-bootstrap/ng-bootstrap/util/util\";\r\nimport { firefunctionsservice } from \"../../auth/service/firefunctionsservice\";\r\nimport { ColumnMode, DatatableComponent } from \"@swimlane/ngx-datatable\";\r\nimport { ReportGenerator } from '../reports/reportgenerator';\r\nimport { ApartmentreportComponent } from '../reports/apartmentreport/apartmentreport.component';\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\n\r\n@Component({\r\n  selector: \"app-home\",\r\n  templateUrl: \"./home.component.html\",\r\n  styleUrls: [\"./home.component.scss\"],\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  totaldueinvoices: number = 0;\r\n  totalupcominginvoices: number = 0;\r\n  totalsoldapartments: number = 0;\r\n  totalavailableapartments: number = 0;\r\n  totalownerapartments: number = 0;\r\n  apartments: Apartmentdto[] = [];\r\n  soldapartments: Apartmentdto[] = [];\r\n  ownerapartments: Apartmentdto[] = [];\r\n  unsoldapartments: Apartmentdto[] = [];\r\n  transactions: Transaction[] = [];\r\n  dueinvoices: PlanScheduleDto[] = [];\r\n  overdueinvoices: PlanScheduleDto[] = [];\r\n  totaloverdueinvoices: number = 0;\r\n  upcominginvoices: PlanScheduleDto[] = [];\r\n  totalAmountReceived = 0;\r\n  drp: daterangepickerdto;\r\n  exportCSVData: Object[] = [];\r\n  sale:SalesDto[]=[];\r\n  floorwiseapartments: groupApartments[] = [];\r\n  typewiseapartments: groupApartments[] = [];\r\n  apartmenttypes: groupApartments[] = [];\r\n  beddingtypes: apartmenttypes[] = [];\r\n\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  apt: Apartmentdto[] = [];\r\n\r\n  constructor(\r\n    public afs: firefunctionsservice,\r\n    public modalservice: NgbModal,\r\n    public fs: firebaseStoreService,\r\n    public appUtil: ApputilsService\r\n  ) {\r\n    debugger;\r\n  }\r\n\r\n  public contentHeader: object;\r\n\r\n  // Lifecycle Hooks\r\n  // -----------------------------------------------------------------------------------------------------\r\n\r\n  /**\r\n   * On init\r\n   */\r\n  async ngOnInit() {\r\n    this.fs\r\n      .getapartmenttypes()\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.beddingtypes = e;\r\n      });\r\n    this.totalAmountReceived = 0;\r\n    this.contentHeader = {\r\n      headerTitle: \"Home\",\r\n      actionButton: true,\r\n      breadcrumb: {\r\n        type: \"\",\r\n        links: [\r\n          {\r\n            name: \"Home\",\r\n            isLink: true,\r\n            link: \"/\",\r\n          },\r\n          {\r\n            name: \"Sample\",\r\n            isLink: false,\r\n          },\r\n        ],\r\n      },\r\n    };\r\n\r\n    this.drp = this.appUtil.getMonthRange();\r\n    this.fs\r\n      .getapartments(false)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.apartments = e as Apartmentdto[];\r\n        this.totalavailableapartments = this.apartments.filter(\r\n          (e) => e.status == this.appUtil.OpenStatus\r\n        ).length;\r\n        this.unsoldapartments = this.apartments.filter(\r\n          (e) => e.status == this.appUtil.OpenStatus\r\n        );\r\n        this.soldapartments = this.apartments.filter(\r\n          (e) => e.status == this.appUtil.BookedStatus\r\n        );\r\n        this.generateApartmentDistributions(this.apartments);\r\n      });\r\n    this.fs\r\n      .getapartments(true)\r\n      .valueChanges()\r\n      .subscribe((e) => {\r\n        this.totalownerapartments = e.length;\r\n        this.ownerapartments = e as Apartmentdto[];\r\n      });\r\n      this.fs.getSales().valueChanges().subscribe(e=>{\r\n        this.sale = e;\r\n      });\r\n    this.generatestats(this.drp);\r\n  }\r\n\r\n  async generateApartmentDistributions(ap: Apartmentdto[]) {\r\n    debugger;\r\n    this.floorwiseapartments = [];\r\n    var result = this.appUtil.groupBy(\r\n      ap,\r\n      (Apartmentdto) => Apartmentdto.floorno\r\n    );\r\n    console.log(result);\r\n    let flww: groupApartments = {\r\n      type: 'Total',\r\n      availablecount: 0,\r\n      soldcount: 0,\r\n      soldaparments: null,\r\n      availableapartments: null\r\n      ,\r\n\r\n    };\r\n    result.forEach((e) => {\r\n      var soldapartments = e.filter(\r\n        (e) => e.status == this.appUtil.BookedStatus\r\n      );\r\n      var openapartments = e.filter((e) => e.status == this.appUtil.OpenStatus);\r\n      let flw: groupApartments = {\r\n        type: e[0].floorno,\r\n        availablecount: openapartments.length,\r\n        soldcount: soldapartments.length,\r\n        soldaparments: soldapartments,\r\n        availableapartments: openapartments,\r\n\r\n      };\r\n      flww.availablecount += openapartments.length;\r\n      flww.soldcount += soldapartments.length;\r\n      this.floorwiseapartments.push(flw);\r\n    });\r\n\r\n    this.floorwiseapartments.push(flww);\r\n    this.exportCSVData = this.floorwiseapartments as Object[];\r\n    this.apartmenttypes = [];\r\n\r\n    result = this.appUtil.groupBy(ap, (Apartmentdto) => Apartmentdto.type);\r\n    console.log(result);\r\n    result.forEach((e) => {\r\n      var soldapartments = e.filter(\r\n        (e) => e.status == this.appUtil.BookedStatus\r\n      );\r\n      var openapartments = e.filter((e) => e.status == this.appUtil.OpenStatus);\r\n      let flw: groupApartments = {\r\n        type: e[0].type,\r\n        availablecount: openapartments.length,\r\n        soldcount: soldapartments.length,\r\n        soldaparments: soldapartments,\r\n        availableapartments: openapartments,\r\n      };\r\n      this.apartmenttypes.push(flw);\r\n    });\r\n    this.apartmenttypes.sort((a, b) =>\r\n      Number.parseInt(a.type) > Number.parseInt(b.type) ? 1 : -1\r\n    );\r\n\r\n    this.typewiseapartments = [];\r\n\r\n    result = this.appUtil.groupBy(\r\n      ap,\r\n      (Apartmentdto) => Apartmentdto.apartmenttype\r\n    );\r\n    console.log(result);\r\n    result.forEach((e) => {\r\n      var soldapartments = e.filter(\r\n        (e) => e.status == this.appUtil.BookedStatus\r\n      );\r\n      var openapartments = e.filter((e) => e.status == this.appUtil.OpenStatus);\r\n      debugger;\r\n      console.log(\r\n        this.beddingtypes.filter((a) => a.name === e[0].apartmenttype)\r\n      );\r\n      let flw: groupApartments = {\r\n        type: e[0].apartmenttype,\r\n        availablecount: openapartments.length,\r\n        soldcount: soldapartments.length,\r\n        soldaparments: soldapartments,\r\n        availableapartments: openapartments,\r\n        sort: this.beddingtypes.filter((a) => a.name == e[0].apartmenttype)[0]\r\n          .orderno,\r\n      };\r\n      this.typewiseapartments.push(flw);\r\n    });\r\n    this.typewiseapartments = this.typewiseapartments.sort((a, b) =>\r\n      a.sort > b.sort ? 1 : -1\r\n    );\r\n  }\r\n  groupBy(list, keyGetter) {\r\n    const map = new Map();\r\n    list.forEach((item) => {\r\n      const key = keyGetter(item);\r\n      const collection = map.get(key);\r\n      if (!collection) {\r\n        map.set(key, [item]);\r\n      } else {\r\n        collection.push(item);\r\n      }\r\n    });\r\n    return map;\r\n  }\r\n  async generatestats(drp: daterangepickerdto) {\r\n    debugger;\r\n\r\n    var dueinvoices = await this.fs.GetDueInvoices(new Date());\r\n    this.dueinvoices = dueinvoices;\r\n    this.totaldueinvoices = dueinvoices.length;\r\n\r\n    var drpp = this.appUtil.getdatefilter(0);\r\n    this.dueinvoices = this.dueinvoices.filter(\r\n      (e) =>\r\n        !e.invoicepaid &&\r\n        new Date(e.invoicedueon.seconds * 1000) <= drpp.startdate &&\r\n        new Date(e.invoicedueon.seconds * 1000) >= drpp.enddate\r\n    );\r\n    this.totaldueinvoices = this.dueinvoices.length;\r\n\r\n    this.overdueinvoices = dueinvoices.filter(\r\n      (e) =>\r\n        !e.invoicepaid &&\r\n        new Date(e.invoicedueon.seconds * 1000) <= drpp.enddate\r\n    );\r\n    this.totaloverdueinvoices = this.overdueinvoices.length;\r\n\r\n    console.log(dueinvoices);\r\n    if (drp.option != \"All\") {\r\n      var resp = await this.fs.GetUpComingInvoices(new Date(), drp.enddate);\r\n      console.log(resp);\r\n      this.upcominginvoices = resp;\r\n      this.totalupcominginvoices = resp.length;\r\n\r\n      (\r\n        await this.fs.getTotalAmountReceivedThisMonth(\r\n          drp.startdate,\r\n          drp.enddate\r\n        )\r\n      )\r\n        .valueChanges()\r\n        .subscribe((e) => {\r\n          this.transactions = e;\r\n          this.generateStatsByTransactions();\r\n        });\r\n    } else {\r\n      var resp = await this.fs.GetAllUpComingInvoices(new Date());\r\n      console.log(resp);\r\n      this.upcominginvoices = resp;\r\n      this.totalupcominginvoices = resp.length;\r\n\r\n      (await this.fs.getAllTotalAmountReceivedThisMonth())\r\n        .valueChanges()\r\n        .subscribe((e) => {\r\n          debugger;\r\n          this.transactions = e;\r\n          this.generateStatsByTransactions();\r\n        });\r\n    }\r\n    //  var customerinvoice = await this.fs.GetCustomerUpComingInvoices(\"fqHbVfHDgvQz0GmNfJGD\",new Date(),newdate);\r\n    //  console.log(customerinvoice);\r\n\r\n    this.totalsoldapartments = this.soldapartments.length;\r\n  }\r\n  generateStatsByTransactions() {\r\n    this.totalAmountReceived = 0;\r\n    this.transactions.forEach((e) => {\r\n      this.totalAmountReceived += e.amount;\r\n    });\r\n  }\r\n\r\n  viewinvoicedetail(id: number) {\r\n    if (id == 0) {\r\n      var modal = this.modalservice.open(InvoicereportComponent, {\r\n        centered: true,\r\n        size: \"xl\",\r\n        backdrop: false,\r\n      });\r\n      var salesinfo = new ReportGenerator().getReportFromInvoices(this.upcominginvoices,this.sale);\r\n      console.log(salesinfo);\r\n      modal.componentInstance.invoices = salesinfo;\r\n      modal.componentInstance.invoicetitle = \"UpComing Invoices\";\r\n    } else if(id == 1) \r\n    {\r\n      var modal = this.modalservice.open(InvoicereportComponent, {\r\n        centered: true,\r\n        size: \"xl\",\r\n        backdrop: false,\r\n      });\r\n      var salesinfo = new ReportGenerator().getReportFromInvoices(this.overdueinvoices,this.sale);\r\n      console.log(salesinfo);\r\n      modal.componentInstance.invoices = salesinfo;\r\n     // modal.componentInstance.invoices = this.overdueinvoices;\r\n     modal.componentInstance.invoicetitle = \"OverDue Invoices\";\r\n    }\r\n    else{\r\n      var modal = this.modalservice.open(InvoicereportComponent, {\r\n        centered: true,\r\n        size: \"xl\",\r\n        backdrop: false,\r\n      });\r\n      var salesinfo = new ReportGenerator().getReportFromInvoices(this.dueinvoices,this.sale);\r\n      console.log(salesinfo);\r\n      modal.componentInstance.invoices = salesinfo;\r\n      modal.componentInstance.invoicetitle = \"Due Invoices\";\r\n     \r\n    }\r\n  }\r\n  filter() {\r\n    this.modalservice\r\n      .open(FilteroptionselectComponent)\r\n      .closed.subscribe((e) => {\r\n        var drp = e as daterangepickerdto;\r\n        console.log(drp);\r\n        this.drp = drp;\r\n        this.generatestats(this.drp);\r\n      });\r\n  }\r\n  viewapartment(apt: Apartmentdto[]) {\r\n    var modal = this.modalservice.open(ApartmentreportComponent, {\r\n      centered: true,\r\n      size: \"xl\",\r\n      backdrop: false,\r\n      scrollable:true\r\n    });\r\n    modal.componentInstance.apt = apt;\r\n  }\r\n  soldapartmentsreport(apt:Apartmentdto[],title:string)\r\n  {\r\n    let aptt = new ReportGenerator().getReportFromApartments(apt,this.sale);\r\n   \r\n    var modal = this.modalservice.open(ViewinventorymodalComponent, {\r\n      centered: true,\r\n      size: \"xl\",\r\n      backdrop: false,\r\n      scrollable:true\r\n    });\r\n    modal.componentInstance.apt = aptt;\r\n    modal.componentInstance.PdfTitle = title;\r\n    console.log(aptt);\r\n  }\r\n\r\n\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n\r\n  onSort({ column, direction }: SortEvent) {\r\n    debugger;\r\n    // resetting other headers\r\n    this.headers.forEach((header) => {\r\n      if (header.sortable !== column) {\r\n        header.direction = \"\";\r\n      }\r\n    });\r\n\r\n    // sorting countries\r\n    if (direction === \"\" || column === \"\") {\r\n     this.floorwiseapartments = this.floorwiseapartments;\r\n    } else {\r\n      this.floorwiseapartments = [...this.floorwiseapartments].sort((a, b) => {\r\n        const res = compare(a[column], b[column]);\r\n        return direction === \"asc\" ? res : -res;\r\n      });\r\n    }\r\n  }\r\n  generatePdf() {\r\n    var head = [[\"ID\", \"Country\", \"Rank\", \"Capital\"]];\r\n    var body = [\r\n      [1, \"Denmark\", 7.526, \"Copenhagen\"],\r\n      [2, \"Switzerland\", 7.509, \"Bern\"],\r\n      [3, \"Iceland\", 7.501, \"Reykjavík\"],\r\n      [4, \"Norway\", 7.498, \"Oslo\"],\r\n      [5, \"Finland\", 7.413, \"Helsinki\"],\r\n    ];\r\n\r\n    const doc = new jsPDF({\r\n      orientation: \"p\",\r\n      unit: \"mm\",\r\n      format: \"a4\",\r\n      putOnlyUsedFonts: true,\r\n    });\r\n\r\n    doc.setFontSize(5);\r\n    doc.text(new Date().toDateString(), 5, 5);\r\n    doc.setFontSize(14);\r\n    doc.text(\"NIAZ ARBAZ PVT LTD\", 30, 15);\r\n    doc.setFontSize(10);\r\n\r\n    doc.text(\"Floor Wise Apartments\", 30, 20);\r\n\r\n    var img = new Image();\r\n    img.src = \"/assets/images/Bedroonm.jpg\";\r\n    doc.addImage(img, \"jpg\", 10, 10, 12, 15);\r\n\r\n    autoTable(doc, {\r\n      html: \".ppdftable\",\r\n      startY: 30,\r\n    }),\r\n      doc.save(\"floorwiseapartments\" + \".pdf\");\r\n  }\r\n}\r\n","<div class=\"content-wrapper container-xxl p-0\">\r\n    <div class=\"content-body\">\r\n        <!-- Responsive Datatable -->\r\n        <section id=\"ngx-datatable-Responsive\">\r\n            <core-card-snippet>\r\n                <div class=\"row card-title\" style=\"width: 100%\">\r\n                    <div class=\"col-12 pr-0\">\r\n                        <span class=\"card-title\">Apartment Types</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12 mb-50 pl-0\">\r\n                            <button (click)=\"AddNew()\" class=\"btn btn-primary ml-1\" rippleEffect>\r\n                <i data-feather=\"plus\" class=\"mr-0 mr-sm-1\"></i\r\n                ><span class=\"d-none d-sm-inline-block\">Add </span>\r\n              </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- ngx-datatables responsive -->\r\n                    <ngx-datatable #table class=\"bootstrap core-bootstrap\" [columnMode]=\"ColumnMode.force\" [headerHeight]=\"30\" [rowHeight]=\"35\" [footerHeight]=\"40\" rowHeight=\"auto\" [limit]=\"100\" [rows]=\"apt\" [scrollbarH]=\"true\">\r\n                        <ngx-datatable-column name=\"Name\" prop=\"name\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.name }}\r\n                                <!-- <div class=\"d-flex align-items-center\">\r\n\r\n                      <div *ngIf=\"row.avatar.length > 0; else customAvatar\">\r\n                          <img class=\"rounded-circle mr-1\" src=\"assets/images/portrait/small/{{ row.avatar }}\" height=\"32\" width=\"32\" alt=\"datatable-avatar\" />\r\n                      </div>\r\n                      <ng-template #customAvatar>\r\n                          <div class=\"avatar mr-1 ml-0\" [ngClass]=\"{\r\n            'bg-light-primary': row.status == '1',\r\n            'bg-light-success': row.status == '2',\r\n            'bg-light-danger': row.status == '3',\r\n            'bg-light-warning': row.status == '4',\r\n            'bg-light-info': row.status == '5'\r\n          }\">\r\n                              <div class=\"avatar-content\">{{ name | initials }}</div>\r\n                          </div>\r\n                      </ng-template>\r\n                      <div class=\"cell-line-height\">\r\n                          <p class=\"font-medium-1 line-height-1 mb-0\">{{ name }}</p>\r\n                          <span class=\"text-muted font-small-2\"> {{ row.post }}</span>\r\n                      </div>\r\n                  </div> -->\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                        <ngx-datatable-column name=\"Order No\" prop=\"orderno\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.orderno }}\r\n\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Name Format\" prop=\"nameformat\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.nameformat }}\r\n\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n                        <ngx-datatable-column name=\"Floors Occupied\" prop=\"floorcount\">\r\n                            <ng-template let-row=\"row\" let-name=\"value\" ngx-datatable-cell-template>\r\n                                {{ row.floorcount }}\r\n\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n\r\n\r\n\r\n                        <ngx-datatable-column name=\"Action\" [width]=\"120\" [sortable]=\"false\">\r\n                            <ng-template ngx-datatable-cell-template let-row=\"row\">\r\n                                <div class=\"d-flex align-items-center\">\r\n\r\n\r\n                                    <span (click)=\"deleteType(row.id)\">\r\n                    <i\r\n                      data-feather=\"trash-2\"\r\n                      class=\"text-primary cursor-pointer\"\r\n                    ></i>\r\n                  </span>\r\n                                </div>\r\n                            </ng-template>\r\n                        </ngx-datatable-column>\r\n                    </ngx-datatable>\r\n                </div>\r\n                <!--/ ngx-datatables responsive -->\r\n            </core-card-snippet>\r\n        </section>\r\n        <!--/ Responsive Datatable -->\r\n    </div>\r\n</div>","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { NotificationService } from '../../auth/service/notification.service';\r\nimport { firebaseStoreService } from '../../auth/service/firebasestoreservice';\r\nimport { apartmenttypes } from '../../auth/models/apartmenttypesdto';\r\nimport { ColumnMode } from '@swimlane/ngx-datatable';\r\nimport Swal from 'sweetalert2';\r\nimport { swalProviderToken } from '@sweetalert2/ngx-sweetalert2/lib/di';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.scss']\r\n})\r\nexport class SettingsComponent implements OnInit {\r\ndoc:Document;\r\n  constructor(@Inject(DOCUMENT) document,public nts:NotificationService,public fs:firebaseStoreService) { }\r\n  public ColumnMode = ColumnMode;\r\n  apt:apartmenttypes[] = [];\r\n  ngOnInit() {\r\n    this.fs.getapartmenttypes().valueChanges().subscribe(e=>{\r\n\r\n      this.apt = e;\r\n    });\r\n\r\n  }\r\n  deleteType(id:any)\r\n  {\r\n    Swal.fire({\r\n      title:'Are You Sure You Want To Delete ?',\r\n      allowOutsideClick:false,\r\n      allowEnterKey:false,\r\n      allowEscapeKey:false,\r\n      cancelButtonText:'Cancel',\r\n      confirmButtonText:'Delete',\r\n      showCancelButton:true,\r\n    }).then(e=>{\r\n      if(e.isConfirmed)\r\n      {\r\n        this.fs.deleteapartmenttype(id).then(e=>{});\r\n      }\r\n    });\r\n   \r\n  }\r\n  async AddNew()\r\n{\r\n\r\n  const { value: formValues } = await Swal.fire({\r\n    title: 'Apartment Types',\r\n    \r\n    html:\r\n      '<input id=\"swal-input1\" class=\"swal2-input\" placeholder=\"Apartment Type\" type=\"text\">' +\r\n      '<input id=\"swal-input2\" class=\"swal2-input\" placeholder=\"Order No\" type=\"Number\">'+\r\n      '<input id=\"swal-input3\" class=\"swal2-input\" placeholder=\"Name Format\" type=\"text\">'+\r\n      '<input id=\"swal-input4\" class=\"swal2-input\" placeholder=\"No Of Floors Occupied\" type=\"number\">',\r\n    focusConfirm: false,\r\n    backdrop:false,\r\n    showCancelButton:true,\r\n    cancelButtonText:'Cancel',\r\n    confirmButtonText:'Add',\r\n    preConfirm: () => {\r\n      return [\r\n       (<HTMLInputElement> document.getElementById('swal-input1')).value,\r\n       (<HTMLInputElement> document.getElementById('swal-input2')).value,\r\n       (<HTMLInputElement> document.getElementById('swal-input3')).value,\r\n       (<HTMLInputElement> document.getElementById('swal-input4')).value\r\n      ]\r\n    }\r\n  })\r\n  debugger;\r\n  if (formValues) {\r\n    var name = formValues[0];\r\n    var ordernumber = formValues[1];\r\n    var format = formValues[2];\r\n    var floors = formValues[3];\r\n        let apt : apartmenttypes = {\r\n          id: '',\r\n          orderno: Number.parseInt(ordernumber),\r\n          name: name,\r\n          nameformat: format,\r\n          floorcount: Number.parseInt(floors)\r\n        }\r\n      this.fs.addapartmenttypes(apt).then(e=>{\r\n        this.nts.showSuccess(\"Added Successfully\",\"Added\");\r\n      });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  // Swal.fire({\r\n  //  title:'Enter Apartment Type', \r\n  // input:'text',\r\n  \r\n  // cancelButtonText:'Cancel',\r\n  // confirmButtonText:'Add',\r\n  // showCancelButton:true,\r\n  // allowOutsideClick:false,\r\n  // inputPlaceholder:'Apartment Name',\r\n  // inputValidator:result=> result.length < 1 && 'Input Can not Be Empty'\r\n\r\n\r\n\r\n  // }).then(e =>{\r\n    \r\n  //   if(e.isConfirmed)\r\n  //   {\r\n  //     let apt : apartmenttypes = {\r\n  //       id: '',\r\n  //       orderno:0,\r\n  //       name: e.value as string\r\n  //     }\r\n  //     this.fs.addapartmenttypes(apt).then(e=>{\r\n  //       this.nts.showSuccess(\"Added Successfully\",\"Added\");\r\n  //     });\r\n  //   }\r\n  // });\r\n}\r\n\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { RouterHelper } from 'app/auth/helpers/router-helper';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { AuthService } from '../../../auth/service/authservice';\r\nimport { ApputilsService } from '../../../auth/helpers/apputils.service';\r\n\r\n@Component({\r\n  selector: 'app-changepassword',\r\n  templateUrl: './changepassword.component.html',\r\n  styleUrls: ['./changepassword.component.scss']\r\n})\r\nexport class ChangepasswordComponent implements OnInit {\r\n\r\n  public form: FormGroup;\r\n  public isupdate = false;\r\n  public error:string;\r\n  public isSubmit = false;\r\n  public reminder: string;\r\n  reminderDate = new Date()\r\n\r\n  constructor(    \r\n    public AuthService: AuthService,\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n    public FormBuilder: FormBuilder,\r\n    public nts: NotificationService,\r\n    public auth: AuthService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService){\r\n      \r\n    }\r\n  ngOnInit() {\r\n    this.form = this.FormBuilder.group({\r\n      oldpassword:[null,[Validators.required]],\r\n      password:[null,[Validators.required]],\r\n      confirmpassword:[null,Validators.required]\r\n    })\r\n    \r\n  }\r\n  \r\n  onSubmit()\r\n  {\r\n    this.isSubmit = true;\r\n    if(this.form.valid)\r\n    {\r\n        var password = this.form.controls[\"oldpassword\"].value;\r\n        var newpassword = this.form.controls[\"password\"].value;\r\n        var confirmnewpassword = this.form.controls[\"confirmpassword\"].value;\r\n        if(newpassword != confirmnewpassword)\r\n        {\r\n          this.nts.showError(\"New Password not equal to confirm password\",\"Password Error\");\r\n        }\r\n        else{\r\n          this.auth.changepassword(password,newpassword).then(e=>{\r\n            if(e)\r\n            {\r\n\r\n            }\r\n          }).catch(e=>{\r\n            console.log(e);\r\n            this.error = e.message;\r\n          });\r\n        }\r\n    }\r\n  }\r\n}\r\n","<form [formGroup]=\"form\">\r\n    <div class=\"content-wrapper container-xxl p-0\">\r\n        <div class=\"content-body\">\r\n            <!-- Responsive Datatable -->\r\n            <section id=\"ngx-datatable-Responsive\">\r\n                <core-card-snippet>\r\n                    <div class=\"row card-title\" style=\"width: 100%\">\r\n                        <div class=\"col-12 pr-0\">\r\n                            <span class=\"card-title\">Change Password</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"card-body\">\r\n                        <span style=\"color: red\">\r\n                          {{ this.error }}\r\n                        </span>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"oldpassword\">Previous Password</label>\r\n                                    <input type=\"password\" [class.error]=\"isSubmit && form.controls.oldpassword.errors\" class=\"form-control\" id=\"oldpassword\" formControlName=\"oldpassword\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"password\">New Password</label>\r\n                                    <input type=\"password\" [class.error]=\"isSubmit && form.controls.password.errors\" class=\"form-control\" id=\"password\" formControlName=\"password\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"title\">Confirm New Password</label>\r\n                                    <input type=\"password\" [class.error]=\"\r\n                      isSubmit && form.controls.confirmpassword.errors\r\n                    \" class=\"form-control\" id=\"title\" formControlName=\"confirmpassword\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\" rippleEffect>\r\n                  Change Password\r\n                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!--/ ngx-datatables responsive -->\r\n                </core-card-snippet>\r\n            </section>\r\n            <!--/ Responsive Datatable -->\r\n        </div>\r\n    </div>\r\n</form>","<form [formGroup]=\"form\">\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\" id=\"myModalLabel1\">Create User</h4>\r\n        <button type=\"button\" class=\"close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n    </div>\r\n    <div class=\"modal-body\" tabindex=\"0\" ngbAutofocus>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"name\">Name</label>\r\n                    <input type=\"text\" [class.error]=\"\r\n  isSubmit && form.controls.name.errors\r\n\" class=\"form-control\" id=\"name\" formControlName=\"name\" required />\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"email\">Email</label>\r\n                    <input type=\"email\" [class.error]=\"\r\n    isSubmit && form.controls.email.errors\r\n  \" class=\"form-control\" id=\"email\" formControlName=\"email\" required />\r\n                    <label class=\"error\">\r\n    {{emailerror}}\r\n  </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"role\">Role</label>\r\n                    <select id=\"role\" formControlName=\"role\" [(value)]=\"this.ApputilsService.Roles[0]\" [(ngModel)]=\"this.userrole\" (change)=\"onRoleSelect($event.target.value)\" class=\"form-control\">\r\n          <option\r\n            value=\"{{ food }}\"\r\n            *ngFor=\"let food of ApputilsService.Roles\"\r\n            >\r\n            {{ food }}\r\n          </option>\r\n        </select>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit()\" rippleEffect>\r\n    Create\r\n  </button>\r\n    </div>\r\n</form>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { RouterHelper } from 'app/auth/helpers/router-helper';\r\nimport { creditamounts } from 'app/auth/models/customerinfo';\r\nimport { banksdto, metadata } from 'app/auth/models/metadata';\r\nimport { SalesDto, PlanScheduleDto, Transaction } from 'app/auth/models/plandto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { ProgressdialogComponent } from 'app/main/progressdialog/progressdialog.component';\r\nimport { FlatpickrOptions } from 'ng2-flatpickr';\r\nimport { ApputilsService } from '../../../auth/helpers/apputils.service';\r\nimport { User } from '../../../auth/models/user';\r\nimport { firefunctionsservice } from '../../../auth/service/firefunctionsservice';\r\n\r\n@Component({\r\n  selector: 'app-createuser',\r\n  templateUrl: './createuser.component.html',\r\n  styleUrls: ['./createuser.component.scss']\r\n})\r\nexport class CreateuserComponent implements OnInit {\r\n  form: FormGroup;\r\n\r\n  isSubmit = false;\r\n  user:User[]=[];\r\n  userrole:string=this.ApputilsService.AdminRole;\r\n  emailerror:string=\"\";\r\n  usr:User\r\n  isedit = false;\r\n  constructor(\r\n    public modal: NgbActiveModal,\r\n\r\n    public modalservice: NgbModal,\r\n    public route: ActivatedRoute,\r\n    public routerser: Router,\r\n    public ApputilsService: ApputilsService,\r\n    public router: RouterHelper,\r\n    public FormBuilder: FormBuilder,\r\n    public nts: NotificationService,\r\n    private _coreSidebarService: CoreSidebarService,\r\n    public fs: firebaseStoreService,\r\n    public afs:firefunctionsservice\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    \r\n\r\n\r\n    this.form = this.FormBuilder.group({\r\n      name:[this.usr?.name,Validators.required],\r\n      email:[this.usr?.email,Validators.required],\r\n      role:[this.usr?.role,Validators.required]\r\n    });\r\n    this.fs.getusers().valueChanges().subscribe(e=>{\r\n      this.user = e;\r\n    });\r\n  }\r\n  \r\n  onRoleSelect(role:string)\r\n  {\r\n\r\n  }\r\n  onSubmit()\r\n  {\r\n   \r\n    this.isSubmit = true;\r\n    var email  = this.form.controls[\"email\"].value;\r\n    var role = this.form.controls[\"role\"].value;\r\n    var name = this.form.controls[\"name\"].value;\r\n    if(!this.isedit && this.user.filter(e => e.email == email).length > 0)\r\n    {\r\n      this.emailerror = \"Email Already Registered\";\r\n    }\r\n    else{\r\n      var modal = this.modalservice.open(ProgressdialogComponent, {\r\n        windowClass: \"transparent\",\r\n        backdrop: false,\r\n        centered: true,\r\n      });\r\n      try{\r\n\r\n        if(this.isedit)\r\n        {\r\n         \r\n          this.usr.name = name;\r\n          this.usr.role = role;\r\n          this.fs.updateuser(this.usr).then(e=>{\r\n            this.nts.showSuccess(\"User Updated\",\"User Updated\");\r\n            modal.close();\r\n            this.modal.close();\r\n          });\r\n        }\r\n        else{\r\n          let usr:User={\r\n            uid: '',\r\n            email: email,\r\n            password: '',\r\n            name: name,\r\n            block: false,\r\n            role: role\r\n          };\r\n          this.afs.createUser(usr).toPromise().then(e=>{\r\n            modal.close();\r\n            this.nts.showSuccess(\"User Created\",\"User Created\");\r\n            this.modal.close();\r\n          }).catch(e=>{\r\n            modal.close();\r\n            console.log(e);\r\n          });\r\n        }\r\n        \r\n      }\r\n      catch(e)\r\n      {\r\n\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 col-12\">\r\n            <core-card-snippet>\r\n                <div class=\"card-title\">\r\n                    Users\r\n                </div>\r\n\r\n                <div class=\"card-body\">\r\n                    <div class=\"mb-50 pl-0\">\r\n                        <button (click)=\"addnewuser()\" class=\"btn btn-primary ml-1\" rippleEffect>\r\n    <i data-feather=\"plus\" class=\"mr-0 mr-sm-1\"></i\r\n    ><span class=\"d-none d-sm-inline-block\">Create New User</span>\r\n  </button>\r\n\r\n\r\n                    </div>\r\n                    <table class=\"table table-bordered\">\r\n                        <thead>\r\n                            <th>\r\n                                Email\r\n                            </th>\r\n                            <th>\r\n                                Name\r\n                            </th>\r\n                            <th>\r\n                                Role\r\n                            </th>\r\n\r\n                            <th>\r\n                                Actions\r\n                            </th>\r\n                        </thead>\r\n                        <tbody>\r\n\r\n                            <tr *ngFor=\"let item of apt\">\r\n                                <td>\r\n                                    {{item.email}}\r\n                                </td>\r\n                                <td>\r\n                                    {{item.name}}\r\n                                </td>\r\n                                <td>\r\n                                    {{item.role}}\r\n                                </td>\r\n\r\n                                <td (click)=\"edituser(item)\">\r\n                                    edit\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </core-card-snippet>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ColumnMode, DatatableComponent } from '@swimlane/ngx-datatable';\r\nimport { ApputilsService } from 'app/auth/helpers/apputils.service';\r\nimport { User } from 'app/auth/models';\r\nimport { Apartmentdto } from 'app/auth/models/apartmentdto';\r\nimport { firebaseStoreService } from 'app/auth/service/firebasestoreservice';\r\nimport { NotificationService } from 'app/auth/service/notification.service';\r\nimport { ToastService } from 'app/auth/service/toasts.service';\r\nimport { DatatablesService } from 'app/modules/datatables.service';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { CreateuserComponent } from '../createuser/createuser.component';\r\n\r\n@Component({\r\n  selector: 'app-viewusers',\r\n  templateUrl: './viewusers.component.html',\r\n  styleUrls: ['./viewusers.component.scss']\r\n})\r\nexport class ViewusersComponent implements OnInit {\r\n\r\n  public rows: any;\r\n  public ColumnMode = ColumnMode;\r\n  apt: User[] = [];\r\n  \r\n \r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  private _unsubscribeAll: Subject<any>;\r\n  exportCSVData: Object[] = [];\r\n  constructor(  public modal: NgbModal,\r\n    public toast:ToastService,\r\n    public nts:NotificationService,\r\n    private _datatablesService: DatatablesService,\r\n    public fs: firebaseStoreService,\r\n    public appUtil:ApputilsService) { }\r\n\r\n  ngOnInit() {\r\n    this.fs.getusers().valueChanges().subscribe(e=>{\r\n      this.apt = e;\r\n    });\r\n  }\r\n  edituser(usr:User)\r\n  {\r\n    var modal = this.modal.open(CreateuserComponent, {\r\n      backdrop: false,\r\n    });\r\n    modal.componentInstance.usr = usr;\r\n    modal.componentInstance.isedit = true;\r\n  }\r\n  addnewuser()\r\n  {\r\n    this.modal.open(CreateuserComponent, {\r\n      backdrop: false,\r\n    });\r\n  }\r\n\r\n}\r\n","export const locale = {\r\n  lang: 'de',\r\n  data: {\r\n    MENU: {\r\n      HOME: 'Zuhause',\r\n      SAMPLE: 'Stichprobe'\r\n    }\r\n  }\r\n}\r\n","export const locale = {\r\n  lang: 'en',\r\n  data: {\r\n    MENU: {\r\n      HOME: 'Home',\r\n      SAMPLE: 'Sample'\r\n    }\r\n  }\r\n}\r\n","export const locale = {\r\n  lang: 'fr',\r\n  data: {\r\n    MENU: {\r\n      HOME: 'Maison',\r\n      SAMPLE: 'Échantillon'\r\n    }\r\n  }\r\n}\r\n","export const locale = {\r\n  lang: 'pt',\r\n  data: {\r\n    MENU: {\r\n      HOME: 'Casa',\r\n      SAMPLE: 'Amostra'\r\n    }\r\n  }\r\n}\r\n","import { CoreMenu } from '@core/types'\r\n\r\nexport const adminmenu:CoreMenu[]=[\r\n  {\r\n    id: 'users',\r\n    title: 'View Users',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'users'\r\n  },\r\n  {\r\n    id: 'changepassword',\r\n    title: 'Change Password',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'changepassword'\r\n  },\r\n  \r\n];\r\nexport const ownermenu:CoreMenu[]=[\r\n  {\r\n    id: 'home',\r\n    title: 'Home',\r\n    translate: 'MENU.HOME',\r\n    type: 'item',\r\n    icon: 'home',\r\n    url: 'home'\r\n  },\r\n  {\r\n    id: 'inventory',\r\n    title: 'Apartments',\r\n    translate: 'Apartments',\r\n    type: 'item',\r\n    icon: 'paperclip',\r\n    url: 'inventory'\r\n  },\r\n  \r\n  {\r\n    id: 'sample',\r\n    title: 'Settings',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'settings',\r\n    url: 'settings'\r\n  },\r\n \r\n  {\r\n    id: 'transactions',\r\n    title: 'View Transactions',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'transactions'\r\n  },{\r\n    id: 'invoices',\r\n    title: 'View Invoices',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'invoices'\r\n  },\r\n  {\r\n    id: 'reports',\r\n    title: 'View Reports',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'reports'\r\n  },\r\n  {\r\n    id: 'changepassword',\r\n    title: 'Change Password',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'changepassword'\r\n  },\r\n];\r\nexport const menu: CoreMenu[] = [\r\n  {\r\n    id: 'home',\r\n    title: 'Home',\r\n    translate: 'MENU.HOME',\r\n    type: 'item',\r\n    icon: 'home',\r\n    url: 'home'\r\n  },\r\n  {\r\n    id: 'inventory',\r\n    title: 'Apartments',\r\n    translate: 'Apartments',\r\n    type: 'item',\r\n    icon: 'paperclip',\r\n    url: 'inventory'\r\n  },\r\n  \r\n  {\r\n    id: 'viewplan',\r\n    title: 'Plan',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'plan'\r\n  },\r\n  {\r\n    id: 'saleplan',\r\n    title: 'Sales',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'sales'\r\n  }\r\n  ,{\r\n    id: 'invoices',\r\n    title: 'View Invoices',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'invoices'\r\n  },\r\n  {\r\n    id: 'transactions',\r\n    title: 'View Transactions',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'transactions'\r\n  },\r\n  {\r\n    id: 'reports',\r\n    title: 'View Reports',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'reports'\r\n  },\r\n  {\r\n    id: 'sample',\r\n    title: 'Settings',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'settings',\r\n    url: 'settings'\r\n  },  \r\n  {\r\n    id: 'changepassword',\r\n    title: 'Change Password',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'changepassword'\r\n  },\r\n]\r\nexport const generalmenu:CoreMenu[]=[\r\n  \r\n  {\r\n    id: 'inventory',\r\n    title: 'Apartments',\r\n    translate: 'Apartments',\r\n    type: 'item',\r\n    icon: 'paperclip',\r\n    url: 'inventory'\r\n  },\r\n  {\r\n    id: 'viewplan',\r\n    title: 'Plan',\r\n    translate: 'MENU.SAMPLE',\r\n    type: 'item',\r\n    icon: 'info',\r\n    url: 'plan'\r\n  },\r\n  \r\n];\r\n","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\n\r\nimport { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { CsvModule } from \"@ctrl/ngx-csv\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\nimport { NgxDatatableModule } from \"@swimlane/ngx-datatable\";\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CoreCommonModule } from \"@core/common.module\";\r\nimport { CardSnippetModule } from \"@core/components/card-snippet/card-snippet.module\";\r\nimport { ContentHeaderModule } from \"app/layout/components/content-header/content-header.module\";\r\nimport { InventoryManagementComponent } from \"../main/InventoryManagement/InventoryManagement.component\";\r\nimport { DatatablesService } from \"./datatables.service\";\r\nimport { CurrencyConvertPipe, CurrencyPipe, NumberToWordsPipe } from \"../auth/helpers/currency.pipe\";\r\nimport { StatusPipe } from \"../auth/helpers/status.pipe\";\r\nimport { SettingsComponent } from \"../main/settings/settings.component\";\r\nimport { PlanGeneratorComponent } from \"../main/InventoryManagement/plan-generator/plan-generator.component\";\r\nimport { ViewPlanComponent } from \"../main/InventoryManagement/view-plan/view-plan.component\";\r\nimport { NgSelectModule } from \"@ng-select/ng-select\";\r\nimport { SalesplanComponent } from \"../main/InventoryManagement/salesplan/salesplan.component\";\r\nimport { Ng2FlatpickrModule } from \"ng2-flatpickr\";\r\nimport { ViewsalesComponent } from \"../main/InventoryManagement/viewsales/viewsales.component\";\r\nimport { SaledetailComponent } from \"app/main/InventoryManagement/saledetail/saledetail.component\";\r\nimport { CorePipesModule } from \"../../@core/pipes/pipes.module\";\r\nimport { CoreSidebarModule } from \"@core/components\";\r\nimport { InvoicedetailComponent } from '../main/InventoryManagement/invoicedetail/invoicedetail.component';\r\nimport { TransactiongeneratorComponent } from \"../main/InventoryManagement/transactiongenerator/transactiongenerator.component\";\r\nimport { SendInvoiceSidebarComponent } from \"app/main/InventoryManagement/invoicedetail/send-invoice-sidebar/send-invoice-sidebar.component\";\r\nimport { InvoicepreviewComponent } from '../main/InventoryManagement/invoicedetail/invoicepreview/invoicepreview.component';\r\nimport { ViewtransactionsComponent } from '../main/InventoryManagement/viewtransactions/viewtransactions.component';\r\nimport { CreditadjustmentsComponent } from '../main/InventoryManagement/creditadjustments/creditadjustments.component';\r\nimport { InvoicereportComponent } from '../main/reports/invoicereport/invoicereport.component';\r\nimport { BankbalancereportComponent } from '../main/reports/bankbalancereport/bankbalancereport.component';\r\nimport { FilteroptionselectComponent } from '../main/filteroptionselect/filteroptionselect.component';\r\nimport { ViewinventorymodalComponent, NgbdSortableHeader } from '../main/InventoryManagement/viewinventorymodal/viewinventorymodal.component';\r\nimport { ChoosereportsComponent } from '../main/reports/choosereports/choosereports.component';\r\nimport { CustomersComponent } from '../main/customers/customers.component';\r\nimport { CustomerreportsComponent } from \"app/main/reports/customerreports/customerreports.component\";\r\nimport { InventoryreportComponent } from '../main/reports/inventoryreport/inventoryreport.component';\r\nimport { TrialbalancereportComponent } from '../main/reports/trialbalancereport/trialbalancereport.component';\r\nimport { ViewusersComponent } from '../main/usermanagement/viewusers/viewusers.component';\r\nimport { CreateuserComponent } from '../main/usermanagement/createuser/createuser.component';\r\nimport { ManagerEmployeeRouteAuthGuard } from \"app/auth/roleguards/manageremployeeguard\";\r\nimport { ManagerRouteAuthGuard } from '../auth/roleguards/managerguard';\r\nimport { AdminRouteAuthGuard } from '../auth/roleguards/adminguard';\r\nimport FileSaver from \"file-saver\";\r\nimport { AdvanceInventorySearch } from '../auth/models/apartmentdto';\r\nimport { AdvanceinventorysearchComponent } from '../main/InventoryManagement/advanceinventorysearch/advanceinventorysearch.component';\r\nimport { ChangepasswordComponent } from '../main/usermanagement/changepassword/changepassword.component';\r\nimport { AuthGuard } from '../auth/helpers/auth.guards';\r\nimport { ViewInvoicesComponent } from '../main/InventoryManagement/ViewInvoices/ViewInvoices.component';\r\nimport { EmployeeRouteAuthGuard } from '../auth/roleguards/employeeguard';\r\nimport { HomeComponent } from \"app/main/sample/home.component\";\r\nimport { HomeRouteAuthGuard } from \"app/auth/helpers/homerouteguard\";\r\nimport { ApartmentreportComponent } from '../main/reports/apartmentreport/apartmentreport.component';\r\nimport { NgxPrintModule } from \"ngx-print\";\r\nimport { AgingreportComponent } from '../main/reports/agingreport/agingreport.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"inventory\",\r\n    component: InventoryManagementComponent,\r\n    canActivate:[],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"settings\",\r\n    component: SettingsComponent,\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \":id/plan\",\r\n    component: PlanGeneratorComponent,\r\n    canActivate:[],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"generateplan\",\r\n    component: PlanGeneratorComponent,\r\n    canActivate:[],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"plan\",\r\n    component: ViewPlanComponent,\r\n    canActivate:[],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"sale/:id\",\r\n    component: SalesplanComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"sales\",\r\n    component: ViewsalesComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"sales/:id\",\r\n    component: SaledetailComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"sales/:id/invoice/:invoiceid\",\r\n    component: InvoicepreviewComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"sales/:id/invoicepreview/:invoiceid\",\r\n    component: InvoicedetailComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"transactions\",\r\n    component: ViewtransactionsComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"credits\",\r\n    component: CreditadjustmentsComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"reports/invoices\",\r\n    component: InvoicereportComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"reports/trialbalance\",\r\n    component: TrialbalancereportComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"reports/balance/:iban\",\r\n    component: BankbalancereportComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"reports\",\r\n    component: ChoosereportsComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"reports/customers\",\r\n    component: CustomerreportsComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"reports/inventory\",\r\n    component: InventoryreportComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"customers\",\r\n    component: CustomersComponent,\r\n    canActivate:[ManagerEmployeeRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"users\",\r\n    component: ViewusersComponent,\r\n    canActivate:[AdminRouteAuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"changepassword\",\r\n    component: ChangepasswordComponent,\r\n    canActivate:[AuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: \"invoices\",\r\n    component: ViewInvoicesComponent,\r\n    canActivate:[AuthGuard],\r\n    data: { animation: \"datatables\" },\r\n  },\r\n  {\r\n    path: '',\r\n    component:HomeComponent,\r\n    pathMatch: 'full',\r\n    canActivate:[AuthGuard,HomeRouteAuthGuard]\r\n    \r\n    \r\n  },\r\n  {\r\n    path: 'home',\r\n    canActivate:[AuthGuard,HomeRouteAuthGuard],\r\n    component: HomeComponent,\r\n  \r\n    data: { animation: 'home' }\r\n  },\r\n  {\r\n    path: 'agingreport',\r\n    canActivate:[AuthGuard,],\r\n    component: AgingreportComponent,\r\n  \r\n    data: { animation: 'home' }\r\n  },\r\n  \r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ApartmentreportComponent,\r\n    ViewinventorymodalComponent,\r\n    ViewInvoicesComponent,\r\n    ChangepasswordComponent,\r\n    AdvanceinventorysearchComponent,\r\n    CreateuserComponent,\r\n    ViewusersComponent,\r\n    TrialbalancereportComponent,\r\n    InventoryreportComponent,\r\n    ChoosereportsComponent,\r\n    ViewinventorymodalComponent,\r\n    InvoicereportComponent,\r\n    FilteroptionselectComponent,\r\n    SendInvoiceSidebarComponent,\r\n    InvoicepreviewComponent,\r\n    CreditadjustmentsComponent,\r\n    InvoicedetailComponent,\r\n    TransactiongeneratorComponent,\r\n    ViewsalesComponent,\r\n    SaledetailComponent,\r\n    ViewtransactionsComponent,\r\n    SalesplanComponent,\r\n    PlanGeneratorComponent,\r\n    ViewPlanComponent,\r\n    InventoryManagementComponent,\r\n    SettingsComponent,\r\n    CurrencyPipe,\r\n    CurrencyConvertPipe,\r\n    StatusPipe,\r\n    NumberToWordsPipe,\r\n    InvoicereportComponent,\r\n    BankbalancereportComponent,\r\n    CustomersComponent,\r\n    CustomerreportsComponent,\r\n    HomeComponent,\r\n    NgbdSortableHeader,\r\n    AgingreportComponent\r\n  ],\r\n  imports: [\r\n    RouterModule.forChild(routes),\r\n    NgbModule,\r\n    TranslateModule,\r\n    CoreCommonModule,\r\n    ContentHeaderModule,\r\n    CardSnippetModule,\r\n    NgxPrintModule,\r\n    NgxDatatableModule,\r\n   \r\n    CsvModule,\r\n    NgSelectModule,\r\n    Ng2FlatpickrModule,\r\n    CorePipesModule,\r\n    CoreSidebarModule,\r\n    FormsModule,\r\n   \r\n  ],\r\n  providers: [DatatablesService],\r\n})\r\nexport class DatatablesModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class DatatablesService implements Resolve<any> {\r\n  rows: any;\r\n  onDatatablessChanged: BehaviorSubject<any>;\r\n\r\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {HttpClient} _httpClient\r\n   */\r\n  constructor(private _httpClient: HttpClient) {\r\n    // Set the defaults\r\n    this.onDatatablessChanged = new BehaviorSubject({});\r\n  }\r\n\r\n  /**\r\n   * Resolver\r\n   *\r\n   * @param {ActivatedRouteSnapshot} route\r\n   * @param {RouterStateSnapshot} state\r\n   * @returns {Observable<any> | Promise<any> | any}\r\n   */\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> | Promise<any> | any {\r\n    return new Promise<void>((resolve, reject) => {\r\n      Promise.all([this.getDataTableRows()]).then(() => {\r\n        resolve();\r\n      }, reject);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get rows\r\n   */\r\n  getDataTableRows(): Promise<any[]> {\r\n    return new Promise((resolve, reject) => {\r\n      this._httpClient.get('https://api.publicapis.org/entries').subscribe((response: any) => {\r\n      console.log(response.entries);  \r\n      this.rows = response.entries;\r\n        this.onDatatablessChanged.next(this.rows);\r\n        resolve(this.rows);\r\n      }, reject);\r\n    });\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  hmr: false,\r\n  apiUrl: 'http://localhost:4000',\r\n \r\n\r\n  // Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nfirebase: {\r\n  apiKey: \"AIzaSyDfygYnoTtcDk7eXPUto5pcCo5gI6cTtm0\",\r\n  authDomain: \"moonlit-sphinx-483.firebaseapp.com\",\r\n  projectId: \"moonlit-sphinx-483\",\r\n  storageBucket: \"moonlit-sphinx-483.appspot.com\",\r\n  messagingSenderId: \"543004578013\",\r\n  appId: \"1:543004578013:web:ce6d188c933d4b7a600b34\",\r\n  measurementId: \"G-GJ5KWZ3K6M\"\r\n}\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { NgModuleRef, ApplicationRef } from '@angular/core';\r\n\r\nimport { createNewHosts } from '@angularclass/hmr';\r\n\r\nexport const hmrBootstrap = (module: any, bootstrap: () => Promise<NgModuleRef<any>>) => {\r\n  let ngModule: NgModuleRef<any>;\r\n  module.hot.accept();\r\n  bootstrap().then(mod => (ngModule = mod));\r\n  module.hot.dispose(() => {\r\n    const appRef: ApplicationRef = ngModule.injector.get(ApplicationRef);\r\n    const elements = appRef.components.map(c => c.location.nativeElement);\r\n    const makeVisible = createNewHosts(elements);\r\n    ngModule.destroy();\r\n    makeVisible();\r\n  });\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nimport { hmrBootstrap } from './hmr';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nconst bootstrap = () => platformBrowserDynamic().bootstrapModule(AppModule);\r\n\r\nif (environment.hmr) {\r\n  if (module['hot']) {\r\n    hmrBootstrap(module, bootstrap);\r\n  } else {\r\n    console.error('HMR is not enabled for webpack-dev-server!');\r\n    console.log('Are you using the --hmr flag for ng serve?');\r\n  }\r\n} else {\r\n  bootstrap().catch(err => console.log(err));\r\n}\r\n"]}