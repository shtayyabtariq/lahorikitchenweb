<div class="content-wrapper container-xxl p-0" *ngIf="showinvoice">
    <div class="content-body">
        <div class="row invoice-edit">
            <!-- Invoice Edit Left starts -->
            <div class=" col-9 printRef  ">
                <div class="card invoice-preview-card" #pdfTable>
                    <!-- Header starts -->
                    <div class="card-body invoice-head invoice-padding  pb-0">
                        <div class="
              d-flex
              justify-content-between
              flex-md-row flex-column
              invoice-spacing
              mt-0
            ">

                            <div>
                                <div class="row p-0" style="width: 100%;">
                                    <div class="col-4 p-0">
                                        <div class="logo-wrapper mb-0">
                                            <svg id="Layer_1" width="" height="" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 372.72 297.14"><defs><style>.cls-1{fill:url(#linear-gradient);}.cls-2{fill:url(#linear-gradient-2);}.cls-3{fill:url(#linear-gradient-3);}.cls-4{fill:url(#linear-gradient-4);}.cls-5{fill:url(#linear-gradient-5);}.cls-6{fill:url(#linear-gradient-6);}.cls-7{fill:url(#linear-gradient-7);}.cls-8{fill:url(#linear-gradient-8);}.cls-9{fill:url(#linear-gradient-9);}.cls-10{fill:url(#linear-gradient-10);}.cls-11{fill:url(#linear-gradient-11);}.cls-12{fill:url(#linear-gradient-12);}.cls-13{fill:url(#linear-gradient-13);}.cls-14{fill:url(#linear-gradient-14);}.cls-15{fill:url(#linear-gradient-15);}.cls-16{fill:url(#linear-gradient-16);}.cls-17{fill:url(#linear-gradient-17);}.cls-18{fill:url(#linear-gradient-18);}.cls-19{fill:url(#linear-gradient-19);}.cls-20{fill:url(#linear-gradient-20);}.cls-21{fill:url(#linear-gradient-21);}.cls-22{fill:url(#linear-gradient-22);}.cls-23{fill:url(#linear-gradient-23);}</style><linearGradient id="linear-gradient" x1="304.74" y1="196.82" x2="145.92" y2="59.7" gradientUnits="userSpaceOnUse"><stop offset="0.1" stop-color="#92764b"/><stop offset="0.33" stop-color="#ecddb8"/><stop offset="0.49" stop-color="#836231"/><stop offset="0.61" stop-color="#836231"/><stop offset="0.8" stop-color="#ecddb8"/></linearGradient><linearGradient id="linear-gradient-2" x1="290.36" y1="213.47" x2="131.54" y2="76.35" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-3" x1="261.13" y1="247.34" x2="102.31" y2="110.21" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-4" x1="264.51" y1="243.42" x2="105.69" y2="106.3" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-5" x1="268.05" y1="239.31" x2="109.24" y2="102.19" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-6" x1="213.51" y1="302.48" x2="54.69" y2="165.36" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-7" x1="224.24" y1="290.05" x2="65.43" y2="152.93" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-8" x1="236.04" y1="276.4" x2="77.22" y2="139.27" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-9" x1="246" y1="264.85" x2="87.18" y2="127.73" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-10" x1="258.97" y1="249.84" x2="100.15" y2="112.72" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-11" x1="268.04" y1="239.33" x2="109.22" y2="102.2" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-12" x1="277" y1="228.95" x2="118.18" y2="91.83" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-13" x1="283.4" y1="221.53" x2="124.59" y2="84.41" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-14" x1="202.7" y1="315" x2="43.89" y2="177.88" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-15" x1="209.93" y1="306.64" x2="51.11" y2="169.51" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-16" x1="216.69" y1="298.81" x2="57.87" y2="161.68" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-17" x1="222.58" y1="291.98" x2="63.77" y2="154.86" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-18" x1="228.3" y1="285.36" x2="69.48" y2="148.24" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-19" x1="236.16" y1="276.26" x2="77.34" y2="139.14" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-20" x1="243.01" y1="268.32" x2="84.19" y2="131.2" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-21" x1="250.93" y1="259.15" x2="92.11" y2="122.03" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-22" x1="257.91" y1="251.06" x2="99.09" y2="113.94" xlink:href="#linear-gradient"/><linearGradient id="linear-gradient-23" x1="264.67" y1="243.23" x2="105.85" y2="106.11" xlink:href="#linear-gradient"/></defs><path class="cls-1" d="M141.47,105.22a45,45,0,0,1,89.78,0v.2h9.25l0-.23a54.25,54.25,0,0,0-108.27,0v.23h9.24Z"/><path class="cls-2" d="M238.89,122.84a55.26,55.26,0,0,0,1.6-8.83l0-.24H199.88V123h29.17a45.14,45.14,0,0,1-87.58-9l0-.2h-9.09l0,.24a54.35,54.35,0,0,0,106.52,8.83Z"/><polygon class="cls-3" points="178.81 181.77 178.81 173.11 181.92 173.11 181.92 172.13 174.18 172.13 174.18 173.11 177.29 173.11 177.29 181.77 178.81 181.77"/><polygon class="cls-4" points="191.37 181.76 191.37 172.11 189.84 172.11 189.84 176.44 185.13 176.44 185.13 172.11 183.62 172.11 183.62 181.76 185.13 181.76 185.13 177.42 189.84 177.42 189.84 181.76 191.37 181.76"/><polygon class="cls-5" points="193.07 181.76 198.54 181.76 198.54 180.78 194.58 180.78 194.58 177.42 197.5 177.42 197.5 176.44 194.58 176.44 194.58 173.09 198.54 173.09 198.54 172.11 193.07 172.11 193.07 181.76"/><path class="cls-6" d="M102.26,207.84H116.1a15.48,15.48,0,0,1-1.25,5.25,15.24,15.24,0,0,1-3,4.49,14.2,14.2,0,0,1-4.23,3,12.1,12.1,0,0,1-5.09,1.1,12.35,12.35,0,0,1-5.28-1.17A13.85,13.85,0,0,1,93,217.31,15.33,15.33,0,0,1,90,212.55,15.88,15.88,0,0,1,89,206.7,16.1,16.1,0,0,1,90,200.83,15.31,15.31,0,0,1,93,196.05a13.85,13.85,0,0,1,4.34-3.21,12.46,12.46,0,0,1,10.91.18,14.42,14.42,0,0,1,4.52,3.67l.24.28,1.76-2.07-.2-.2a17.13,17.13,0,0,0-5.36-3.62,17.07,17.07,0,0,0-13.21,0,17,17,0,0,0-9,9,16.76,16.76,0,0,0,0,13.18,17.38,17.38,0,0,0,3.62,5.39A17.07,17.07,0,0,0,96,222.3a17,17,0,0,0,13.23,0,17.07,17.07,0,0,0,5.36-3.64,17.58,17.58,0,0,0,3.63-5.39,16.39,16.39,0,0,0,1.34-6.57v-.77H102.26Z"/><path class="cls-7" d="M144.5,223.55h4.08l-.17-.42-6.24-16q-3.09-8-6.19-16l-.07-.2h-1.85l-13.33,32.64h2l11.15-27.2c1.67,4.34,3.37,8.76,5.08,13.14l5.41,13.87Z"/><polygon class="cls-8" points="171.91 221.69 157.86 221.69 157.86 190.91 154.06 190.91 154.06 223.6 171.91 223.6 171.91 221.69"/><polygon class="cls-9" points="181.19 190.91 177.39 190.91 177.39 223.6 195.24 223.6 195.24 221.69 181.19 221.69 181.19 190.91"/><polygon class="cls-10" points="200.72 223.6 218.57 223.6 218.57 221.69 204.53 221.69 204.53 208.21 214.88 208.21 214.88 206.3 204.53 206.3 204.53 192.82 218.57 192.82 218.57 190.91 200.72 190.91 200.72 223.6"/><path class="cls-11" d="M241.15,222.74v.77h3.34v-.77a17,17,0,0,0-.68-4.8,16.52,16.52,0,0,0-1.95-4.29,17.31,17.31,0,0,0-3-3.53,16.34,16.34,0,0,0-2.92-2.09,8.64,8.64,0,0,0,6.65-5.2,8.51,8.51,0,0,0,0-6.62,8.54,8.54,0,0,0-1.84-2.73,8.85,8.85,0,0,0-2.73-1.85,8.5,8.5,0,0,0-3.33-.67H224.05v32.68h3.81V208.12h3.2a12.82,12.82,0,0,1,4,2,14.63,14.63,0,0,1,3.21,3.31,15.85,15.85,0,0,1,2.13,4.3A16.37,16.37,0,0,1,241.15,222.74Zm-7.92-16.58h-5.37V192.92h5.37a6.24,6.24,0,0,1,2.58.53,6.57,6.57,0,0,1,2.1,1.41,6.71,6.71,0,0,1,1.42,2.1,6.54,6.54,0,0,1,0,5.16,6.71,6.71,0,0,1-1.42,2.1,6.57,6.57,0,0,1-2.1,1.41A6.24,6.24,0,0,1,233.23,206.16Z"/><rect class="cls-12" x="249.97" y="190.91" width="3.8" height="32.68"/><path class="cls-13" d="M286.94,223.13q-3.15-8-6.24-16t-6.19-16l-.08-.2h-1.85l-13.33,32.64h2.05l11.16-27.2c1.69,4.41,3.4,8.83,5.08,13.14q2.67,6.88,5.4,13.87l.08.19h4.08Z"/><path class="cls-14" d="M116.7,239.55a4.63,4.63,0,0,0-.88-1,4.58,4.58,0,0,0-.43-.34l.17-.07a2.71,2.71,0,0,0,1.36-1.39,2.52,2.52,0,0,0,.21-1,2.48,2.48,0,0,0-.21-1,2.53,2.53,0,0,0-.56-.84,2.71,2.71,0,0,0-.84-.57,2.56,2.56,0,0,0-1-.21h-3.21v9.65h1.51v-4.37h.65a3.28,3.28,0,0,1,1,.52,3.78,3.78,0,0,1,.86.88,4.41,4.41,0,0,1,.57,1.15,4.33,4.33,0,0,1,.21,1.35v.44h1.38v-.44a5.13,5.13,0,0,0-.2-1.42A4.81,4.81,0,0,0,116.7,239.55Zm-1.45-2.7a1.6,1.6,0,0,1-1.16.49h-1.3v-3.29h1.3a1.56,1.56,0,0,1,.64.13,1.63,1.63,0,0,1,.87.87,1.56,1.56,0,0,1,.13.64,1.53,1.53,0,0,1-.13.64A1.59,1.59,0,0,1,115.25,236.85Z"/><polygon class="cls-15" points="127.54 242.69 133.01 242.69 133.01 241.71 129.05 241.71 129.05 238.36 131.97 238.36 131.97 237.38 129.05 237.38 129.05 234.02 133.01 234.02 133.01 233.04 127.54 233.04 127.54 242.69"/><path class="cls-16" d="M148.42,238a3.84,3.84,0,0,0-1.2-1c-.47-.3-.85-.56-1.12-.77a4.94,4.94,0,0,1-.6-.55.92.92,0,0,1-.21-.34,1.12,1.12,0,0,1,0-.31.71.71,0,0,1,.07-.29.83.83,0,0,1,.2-.3,1.07,1.07,0,0,1,.34-.23,1.32,1.32,0,0,1,1,0,1.44,1.44,0,0,1,.39.24,1.29,1.29,0,0,1,.25.28.72.72,0,0,1,.1.2l0,.24h.72l0-.77,0-.05a1.78,1.78,0,0,0-.41-.59,2.57,2.57,0,0,0-.55-.38,2.4,2.4,0,0,0-.64-.21,3.61,3.61,0,0,0-.66,0,2.42,2.42,0,0,0-1.71,1,2.14,2.14,0,0,0-.4.91,1.91,1.91,0,0,0,.08,1,2.3,2.3,0,0,0,.54.91,5,5,0,0,0,.74.63l.84.55a6.61,6.61,0,0,1,.83.64,2.22,2.22,0,0,1,.66,1,1.93,1.93,0,0,1,0,1,1.45,1.45,0,0,1-.52.75,1.39,1.39,0,0,1-1,.26,1.57,1.57,0,0,1-.79-.2,2.85,2.85,0,0,1-.63-.46,2.25,2.25,0,0,1-.39-.47.83.83,0,0,1-.1-.2v-.27h-1.16l.17.43a3.72,3.72,0,0,0,.61,1,3.66,3.66,0,0,0,.77.67,3.3,3.3,0,0,0,.82.37,3,3,0,0,0,.74.1s0,0,.06,0a2.86,2.86,0,0,0,1.3-.28,2.76,2.76,0,0,0,1-.8,2.72,2.72,0,0,0,.52-1.13,2.92,2.92,0,0,0,0-1.28A3.28,3.28,0,0,0,148.42,238Z"/><rect class="cls-17" x="159.16" y="233.04" width="1.51" height="9.65"/><path class="cls-18" d="M177.48,234.46a5.24,5.24,0,0,0-1.53-1,4.7,4.7,0,0,0-1.87-.38h-3.35v9.65h3.35a4.7,4.7,0,0,0,1.87-.38,5.06,5.06,0,0,0,1.53-1,4.86,4.86,0,0,0,1-1.52,4.78,4.78,0,0,0,.38-1.88,4.71,4.71,0,0,0-.38-1.88A4.91,4.91,0,0,0,177.48,234.46Zm-.3,4.9a3.88,3.88,0,0,1-2,2,3.71,3.71,0,0,1-1.49.3h-1.41V234h1.41a3.71,3.71,0,0,1,1.49.3,3.94,3.94,0,0,1,1.22.83,4.09,4.09,0,0,1,.82,1.22,3.79,3.79,0,0,1,.3,1.5A3.74,3.74,0,0,1,177.18,239.36Z"/><polygon class="cls-19" points="188.95 242.69 194.42 242.69 194.42 241.71 190.47 241.71 190.47 238.36 193.38 238.36 193.38 237.38 190.47 237.38 190.47 234.02 194.42 234.02 194.42 233.04 188.95 233.04 188.95 242.69"/><polygon class="cls-20" points="210.06 240.11 205.24 233.04 203.49 233.04 204.44 234.43 204.44 242.69 205.42 242.69 205.42 235.88 209.97 242.56 210.06 242.69 211.03 242.69 211.03 233.04 210.06 233.04 210.06 240.11"/><path class="cls-21" d="M223.54,234.85a3.77,3.77,0,0,1,1.16-.86,3.3,3.3,0,0,1,2.86,0,3.56,3.56,0,0,1,1.19,1l.22.26.86-.86-.22-.21a4.81,4.81,0,0,0-1.58-1.09,5,5,0,0,0-3.89,0,5,5,0,0,0-3,4.6,4.93,4.93,0,0,0,.4,2,5.07,5.07,0,0,0,1.07,1.58,5,5,0,0,0,1.58,1.06,4.73,4.73,0,0,0,2,.4,4.84,4.84,0,0,0,1.94-.39,5.07,5.07,0,0,0,1.58-1.07l.22-.21-.86-.88-.22.26a3.71,3.71,0,0,1-1.19,1,3.3,3.3,0,0,1-2.86,0,3.74,3.74,0,0,1-1.16-.85,4,4,0,0,1-.78-1.28,4.29,4.29,0,0,1-.28-1.57,4.34,4.34,0,0,1,.28-1.58A4,4,0,0,1,223.54,234.85Z"/><polygon class="cls-22" points="239.89 242.69 245.36 242.69 245.36 241.71 241.4 241.71 241.4 238.36 244.32 238.36 244.32 237.38 241.4 237.38 241.4 234.02 245.36 234.02 245.36 233.04 239.89 233.04 239.89 242.69"/><path class="cls-23" d="M260.77,238a3.78,3.78,0,0,0-1.21-1c-.47-.3-.84-.56-1.11-.77a4.28,4.28,0,0,1-.6-.55.85.85,0,0,1-.22-.34,1.1,1.1,0,0,1,0-.31.88.88,0,0,1,.06-.29,1,1,0,0,1,.21-.3,1.07,1.07,0,0,1,.34-.23,1.32,1.32,0,0,1,1,0,1.84,1.84,0,0,1,.39.24,1.23,1.23,0,0,1,.24.28c.08.13.1.19.11.2l.05.24h.72l0-.77,0-.05a1.78,1.78,0,0,0-.41-.59,2.57,2.57,0,0,0-.55-.38,2.47,2.47,0,0,0-.65-.21,3.46,3.46,0,0,0-.65,0,2.18,2.18,0,0,0-1,.31,2.38,2.38,0,0,0-.75.66,2.27,2.27,0,0,0-.4.91,2,2,0,0,0,.08,1,2.3,2.3,0,0,0,.54.91,5.69,5.69,0,0,0,.75.63c.27.18.54.37.84.55a7.42,7.42,0,0,1,.83.64,2.11,2.11,0,0,1,.65,1,1.83,1.83,0,0,1,0,1,1.38,1.38,0,0,1-.51.75,1.39,1.39,0,0,1-.95.26,1.57,1.57,0,0,1-.79-.2,2.85,2.85,0,0,1-.63-.46,2,2,0,0,1-.39-.47,1.11,1.11,0,0,1-.11-.2v-.27h-1.15l.17.43a3.49,3.49,0,0,0,.61,1,3.66,3.66,0,0,0,.77.67,3.15,3.15,0,0,0,.82.37,2.84,2.84,0,0,0,.73.1s.05,0,.07,0a2.89,2.89,0,0,0,1.3-.28,2.76,2.76,0,0,0,1-.8,2.7,2.7,0,0,0,.51-1.13,2.91,2.91,0,0,0,0-1.28A3.44,3.44,0,0,0,260.77,238Z"/></svg>
                                        </div>
                                    </div>

                                    <div class="col-8 vl">
                                        <h3 class="text-primary invoice-logo">
                                            The Project Of Niaz Arbaaz Pvt Ltd
                                        </h3>
                                        <p class="card-text mb-25">
                                            <i data-feather="map-pin" style="color:green; background: greenyellow;"> </i> &nbsp;{{ this.metadata.company[0].address }}
                                        </p>
                                        <p class="card-text mb-0">
                                            <i data-feather="phone"></i>&nbsp; {{this.metadata.company[0].phonenumber }}
                                        </p>
                                        <p class="card-text mb-25">
                                            <i data-feather="mail"></i>&nbsp; act.rec@niazgroup.com
                                        </p>
                                        <p class="card-text mb-25">
                                            <i data-feather="globe"></i>&nbsp; www.niazgroup.com
                                        </p>
                                        <p class="card-text mb-25">
                                            <em style="color:#ac8b5f;"> NTN </em> &nbsp; 2586313-4
                                        </p>

                                    </div>
                                </div>


                            </div>


                            <div class="mt-md-0 mt-2 vcparent">
                                <h1>
                                    INVOICE

                                </h1>


                            </div>
                        </div>
                    </div>
                    <!-- Header ends -->



                    <!-- Address and Contact starts -->
                    <div class="card-body invoice-padding pt-0">
                        <div class="row invoice-spacing">
                            <div class="col-6 p-0">
                                <div class="card invoice-card">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <h3>
                                                Customer Information
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="card-body">

                                        <table class="table table-responsive table-borderless pl-0">

                                            <tbody>
                                                <tr>
                                                    <td>
                                                        Name
                                                    </td>
                                                    <td>
                                                        {{ cust?.name }}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        CNIC
                                                    </td>
                                                    <td>
                                                        {{ cust?.cnic}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        Address
                                                    </td>
                                                    <td>
                                                        {{ cust?.permanentaddress }}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        Phone
                                                    </td>
                                                    <td>
                                                        {{ cust?.phonenumber }}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>

                                <div class="card invoice-card">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <h3>
                                                Apartment #
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="card-body">

                                        <table class="table table-responsive table-borderless pl-0">

                                            <tbody>
                                                <tr>

                                                    <td>
                                                        {{ sale?.apartmentname }}
                                                    </td>
                                                </tr>


                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                                <!-- <h6 class="mb-2">Name</h6>
                                <h6 class="mb-25">{{ cust?.name }}</h6>
                                <p class="card-text mb-25">{{ cust?.mailaddress }}</p>

                                <p class="card-text mb-25">{{ cust?.phonenumber }}</p>
                                <p class="card-text mb-0">{{ cust?.emailaddress }}</p> -->
                            </div>
                            <div class="col-5 p-0 mt-xl-0 mt-2 ml-2">

                                <table class="table  table-bordered  pl-color">
                                    <tbody>

                                        <tr>
                                            <td class="pr-1">Invoice No</td>
                                            <td>
                                                <span class="font-weight-bold">{{
                        invoicedetail?.installmentno
                      }}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="pr-1">Invoice Date</td>
                                            <td>
                                                <span class="font-weight-bold">{{
                                                        invoiceDate | date
                      }}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="pr-1">Apartment Type</td>
                                            <td>
                                                <span class="font-weight-bold">{{
                        sale?.apartmenttype
                      }}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="pr-1">Floor No</td>
                                            <td>
                                                <span class="font-weight-bold">{{
                        floorno
                      }}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="pr-1">Area Sqft</td>
                                            <td>
                                                <span class="font-weight-bold">{{
                        sale?.apartmentarea | number
                      }}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="pr-1">Rate Per Sqft</td>
                                            <td>
                                                <span class="font-weight-bold">{{
                        sale?.apartmentrate | number
                      }}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="pr-1">Payment Terms</td>
                                            <td>
                                                <span class="font-weight-bold">{{
                        invoicedetail?.amount | number  
                      }} x {{sale?.installment?.text}}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="pr-1">Due Date</td>
                                            <td>
                                                <span class="font-weight-bold">{{
                        dueDate | date
                      }}</span>
                                            </td>
                                        </tr>



                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- Address and Contact ends -->

                    <div class=" ml-2 mr-2">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th class="py-1 color-yellow br-color-yellow" colspan="2">description</th>

                                    <th class="py-1 color-yellow br-color-yellow" style="border-left: 1px solid black;">Amount PKR</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="py-1" colspan="2">
                                        <p class="card-text font-weight-bold mb-25">{{this.sale?.apartmentname}}</p>
                                        <p class="card-text text-nowrap">
                                            <span *ngIf="!this.customDesc">
                                                <span *ngIf="this.invoicedetail?.type != 'Installment'">
                                                    {{this.invoicedetail?.type}} Invoice
                                                  </span>
                                            <span *ngIf="this.invoicedetail?.type == 'Installment'">
                                                  {{this.invoicedetail.type == "Installment" ? 'Installment # '+this.invoicedetail?.installmentno:''}} for the {{this.sale?.installment?.text}} of {{this.invoicedetail?.invoicedueon.seconds * 1000 | date:'MMMM'}}, {{this.invoicedetail?.invoicedueon.seconds * 1000 | date:'yyy'}}
                                                 </span>
                                            </span>
                                            <span *ngIf="this.customDesc"> 
                                                {{this.invoicedescription}}
                                            </span>


                                        </p>
                                    </td>

                                    <td class="py-1" rowspan="3" style="vertical-align: text-top; padding-top: 3% !important;">
                                        <span class="font-weight-bold">{{ this.invoicedetail.amount | number}}</span>
                                    </td>

                                </tr>
                                <tr>
                                    <td class="py-1 color-yellow" colspan="2">
                                        For Online Bank Payment
                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-1" colspan="2">
                                        <table class="table table-borderless">
                                            <tbody>
                                                <tr>
                                                    <td style="width:20%;">

                                                        Title
                                                    </td>
                                                    <td>
                                                        {{this.banksdto?.Title}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="width:20%;">
                                                        Ac#
                                                    </td>
                                                    <td>
                                                        {{this.banksdto?.AccountNumber}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="width:20%;">
                                                        Bank
                                                    </td>
                                                    <td>
                                                        {{this.banksdto?.Name}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>

                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-1 ">
                                        Amount in Words:
                                    </td>
                                    <td class="py-1 color-yellow">
                                        Grand Total
                                    </td>
                                    <td>
                                        {{invoicedetail?.amount | number}}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="py-1 " rowspan="2" style="padding:1rem;width:50%;">
                                        <p>
                                            {{this.amountInWords}}
                                        </p>
                                    </td>
                                    <td class="py-1 color-yellow">
                                        Advance Payments
                                    </td>
                                    <td>
                                        {{previousamount | number}}
                                    </td>
                                </tr>
                                <tr>

                                    <td class="py-1 color-yellow" style="padding-left: 1rem;">
                                        Balance Due
                                    </td>
                                    <td>
                                        {{invoicedetail.amount-previousamount | number}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table table-bordered">
                            <tbody>

                            </tbody>

                        </table>
                    </div>

                    <!-- Invoice Total starts -->
                    <div class="card-body invoice-padding">
                        <div class="row invoice-sales-total-wrapper">
                            <div class="col-md-6 order-md-1 order-2 mt-md-0 mt-3">
                                <h6>
                                    Note:
                                </h6>
                                <ul class="p-0">
                                    <li>
                                        Cheque Payable to M/S Niaz Arbaz (Pvt) Ltd.
                                    </li>

                                    <li>
                                        Payment to be made by or before 10th of every month.
                                    </li>
                                </ul>
                            </div>

                            <div class="col-md-6 d-flex justify-content-end order-md-2 order-1">
                                <h6>
                                    For Niaz Arbaz Pvt.Ltd.
                                </h6>

                            </div>
                        </div>
                    </div>
                    <!-- Invoice Total ends -->

                    <hr class="invoice-spacing mt-0" />

                    <div class="card-body invoice-padding py-0">
                        <!-- Invoice Note starts -->
                        <div class="row">
                            <div class="col-12">
                                <p>
                                    It is a system generated invoice, does not need any signature.
                                </p>
                            </div>
                        </div>
                        <!-- Invoice Note ends -->
                    </div>
                </div>
            </div>
            <!-- Invoice Edit Left ends -->

            <!-- Invoice Edit Right starts -->
            <!-- Invoice Actions -->
            <div class="col-xl-3 col-md-4 col-12 invoice-actions mt-md-0 mt-2">
                <div class="card">
                    <div class="card-body">

                        <a class="btn btn-success btn-outline-secondary btn-block mb-75" routerLink="/sales/{{this.planid}}/invoice/{{this.invoiceid}}" rippleEffect>
                        Back to Invoice 
                      </a>

                        <a class="btn btn-danger btn-outline-secondary btn-block mb-75" (click)="htmltoPDF()" rippleEffect>
            Download Invoice
          </a>
                        <div class="d-flex align-items-center mb-1 mt-2">
                            <span class="title">Invoice Date:</span>
                            <ng2-flatpickr [(ngModel)]="invoiceDate" [config]="InvoiceDateDto" name="Invoice Date"></ng2-flatpickr>
                        </div>
                        <div class="d-flex align-items-center mt-2">
                            <span class="title">Due Date:</span>
                            <ng2-flatpickr [(ngModel)]="dueDate" [config]="DueDateDto" name="Due Date"></ng2-flatpickr>
                        </div>
                        <div class="form-group mt-2" *ngIf="this.showinvoice">
                            <label>
                            Choose the Bank for payment
                          </label>

                            <ng-select class="ng-select-size-lg" #SelectSizeLarge [ngModelOptions]="{standalone: true}" (change)="onBankSelect($event)" [items]="this.metadata.banks" [searchable]="true" bindLabel="Name" bindValue="Iban">
                                <ng-template ng-header-tmp>
                                    <input class="form-control w-100" placeholder="search customer by cnic" type="text" (input)="SelectSizeLarge.filter($event.target.value)" />
                                </ng-template>
                                <!--/ select size large -->
                            </ng-select>
                        </div>

                        <div class="form-group mt-2" *ngIf="this.showinvoice">
                            <label>
                           Invoice Description
                          </label>

                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="customCheck2" [(ngModel)]="customDesc" />
                                <label class="custom-control-label" for="customCheck2">Use Custom Description</label>
                            </div>
                            <br>

                            <textarea rows="10" class="form-control" [(ngModel)]="this.invoicedescription"></textarea>
                        </div>

                        <div class="form-group mt-2" *ngIf="this.showinvoice">
                            <label>
                          Amount In Words
                          </label>


                            <br>

                            <textarea rows="10" class="form-control" [(ngModel)]="this.amountInWords"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <!--/ Invoice Actions -->
            <!-- Invoice Edit Right ends -->
        </div>
    </div>

    <!-- Send Invoice Sidebar -->
    <core-sidebar class="modal modal-slide-in sidebar-todo-modal fade" name="invoice-sidebar" overlayClass="modal-backdrop" hideOnEsc="true">
        <app-send-invoice-sidebar></app-send-invoice-sidebar>
    </core-sidebar>

    <!--/  Send Invoice Sidebar -->

    <!-- Add Payment Sidebar -->
    <!-- <core-sidebar
    class="modal modal-slide-in sidebar-todo-modal fade"
    name="add-payment-sidebar"
    overlayClass="modal-backdrop"
    hideOnEsc="true"
  >
    <app-add-payment-sidebar></app-add-payment-sidebar>
  </core-sidebar> -->
    <!--/  Add Payment Sidebar -->
</div>